(self.webpackChunkloversoftapp=self.webpackChunkloversoftapp||[]).push([[806],{5806:(_,E,r)=>{"use strict";r.r(E),r.d(E,{FamilyModule:()=>Pl,routes:()=>lr});var o={};r.r(o),r.d(o,{forceCenter:()=>Jo,forceCollide:()=>zi,forceLink:()=>$i,forceManyBody:()=>Wi,forceRadial:()=>Ea,forceSimulation:()=>ji,forceX:()=>Ta,forceY:()=>Ca});var y={};r.r(y),r.d(y,{dispatch:()=>fn});var m={};r.r(m),r.d(m,{interval:()=>Sa,now:()=>le,timeout:()=>pn,timer:()=>je,timerFlush:()=>qn});var v=r(6895);function f(e,n,t,i,p,x,T){try{var C=e[x](T),I=C.value}catch(F){return void t(F)}C.done?n(I):Promise.resolve(I).then(i,p)}function d(e){return function(){var n=this,t=arguments;return new Promise(function(i,p){var x=e.apply(n,t);function T(I){f(x,i,p,T,C,"next",I)}function C(I){f(x,i,p,T,C,"throw",I)}T(void 0)})}}var u=r(6805);function a(e,n){const t="object"==typeof n;return new Promise((i,p)=>{let T,x=!1;e.subscribe({next:C=>{T=C,x=!0},error:p,complete:()=>{x?i(T):t?i(n.defaultValue):p(new u.K)}})})}class h{constructor(n={}){this.pan={x:0,y:0},this.nodes=n.nodes||[],this.links=n.links||[],this.zoom=n.zoom||1}}function c(e,n){this._context=e,this._t=n}function l(e){return new c(e,.5)}c.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,n){switch(e=+e,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,n),this._context.lineTo(e,n);else{var t=this._x*(1-this._t)+e*this._t;this._context.lineTo(t,this._y),this._context.lineTo(t,n)}}this._x=e,this._y=n}};var w=r(4023),A=r(5412),S=r(2324),O=r(1548),s=r(4650),M=r(9102),k=r(655),H=r(7340);function Y(){}function z(e){return null==e?Y:function(){return this.querySelector(e)}}function N(){return[]}function L(e){return null==e?N:function(){return this.querySelectorAll(e)}}function P(e){return function(){return this.matches(e)}}function U(e){return new Array(e.length)}function R(e,n){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=n}function J(e,n,t,i,p,x){for(var C,T=0,I=n.length,F=x.length;T<F;++T)(C=n[T])?(C.__data__=x[T],i[T]=C):t[T]=new R(e,x[T]);for(;T<I;++T)(C=n[T])&&(p[T]=C)}function rt(e,n,t,i,p,x,T){var C,I,q,F={},V=n.length,Z=x.length,j=new Array(V);for(C=0;C<V;++C)(I=n[C])&&(j[C]=q="$"+T.call(I,I.__data__,C,n),q in F?p[C]=I:F[q]=I);for(C=0;C<Z;++C)(I=F[q="$"+T.call(e,x[C],C,x)])?(i[C]=I,I.__data__=x[C],F[q]=null):t[C]=new R(e,x[C]);for(C=0;C<V;++C)(I=n[C])&&F[j[C]]===I&&(p[C]=I)}function it(e,n){return e<n?-1:e>n?1:e>=n?0:NaN}R.prototype={constructor:R,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,n){return this._parent.insertBefore(e,n)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};var _t="http://www.w3.org/1999/xhtml";const Et={svg:"http://www.w3.org/2000/svg",xhtml:_t,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function mt(e){var n=e+="",t=n.indexOf(":");return t>=0&&"xmlns"!==(n=e.slice(0,t))&&(e=e.slice(t+1)),Et.hasOwnProperty(n)?{space:Et[n],local:e}:e}function Ut(e){return function(){this.removeAttribute(e)}}function vt(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Xt(e,n){return function(){this.setAttribute(e,n)}}function Jt(e,n){return function(){this.setAttributeNS(e.space,e.local,n)}}function on(e,n){return function(){var t=n.apply(this,arguments);null==t?this.removeAttribute(e):this.setAttribute(e,t)}}function se(e,n){return function(){var t=n.apply(this,arguments);null==t?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,t)}}function St(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function oe(e){return function(){this.style.removeProperty(e)}}function ae(e,n,t){return function(){this.style.setProperty(e,n,t)}}function an(e,n,t){return function(){var i=n.apply(this,arguments);null==i?this.style.removeProperty(e):this.style.setProperty(e,i,t)}}function Nt(e,n){return e.style.getPropertyValue(n)||St(e).getComputedStyle(e,null).getPropertyValue(n)}function Be(e){return function(){delete this[e]}}function Re(e,n){return function(){this[e]=n}}function un(e,n){return function(){var t=n.apply(this,arguments);null==t?delete this[e]:this[e]=t}}function kt(e){return e.trim().split(/^|\s+/)}function Gt(e){return e.classList||new Ln(e)}function Ln(e){this._node=e,this._names=kt(e.getAttribute("class")||"")}function Dn(e,n){for(var t=Gt(e),i=-1,p=n.length;++i<p;)t.add(n[i])}function Fn(e,n){for(var t=Gt(e),i=-1,p=n.length;++i<p;)t.remove(n[i])}function hr(e){return function(){Dn(this,e)}}function cr(e){return function(){Fn(this,e)}}function fr(e,n){return function(){(n.apply(this,arguments)?Dn:Fn)(this,e)}}function pr(){this.textContent=""}function gr(e){return function(){this.textContent=e}}function mr(e){return function(){var n=e.apply(this,arguments);this.textContent=n??""}}function yr(){this.innerHTML=""}function xr(e){return function(){this.innerHTML=e}}function _r(e){return function(){var n=e.apply(this,arguments);this.innerHTML=n??""}}function wr(){this.nextSibling&&this.parentNode.appendChild(this)}function Tr(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Ar(e){return function(){var n=this.ownerDocument,t=this.namespaceURI;return t===_t&&n.documentElement.namespaceURI===_t?n.createElement(e):n.createElementNS(t,e)}}function Sr(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Pn(e){var n=mt(e);return(n.local?Sr:Ar)(n)}function Ir(){return null}function Nr(){var e=this.parentNode;e&&e.removeChild(this)}function Dr(){var e=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(e,this.nextSibling):e}function Fr(){var e=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(e,this.nextSibling):e}Ln.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var n=this._names.indexOf(e);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var kn={},ee=null;function Br(e,n,t){return e=Gn(e,n,t),function(i){var p=i.relatedTarget;(!p||p!==this&&!(8&p.compareDocumentPosition(this)))&&e.call(this,i)}}function Gn(e,n,t){return function(i){var p=ee;ee=i;try{e.call(this,this.__data__,n,t)}finally{ee=p}}}function Rr(e){return e.trim().split(/^|\s+/).map(function(n){var t="",i=n.indexOf(".");return i>=0&&(t=n.slice(i+1),n=n.slice(0,i)),{type:n,name:t}})}function Hr(e){return function(){var n=this.__on;if(n){for(var x,t=0,i=-1,p=n.length;t<p;++t)x=n[t],e.type&&x.type!==e.type||x.name!==e.name?n[++i]=x:this.removeEventListener(x.type,x.listener,x.capture);++i?n.length=i:delete this.__on}}}function zr(e,n,t){var i=kn.hasOwnProperty(e.type)?Br:Gn;return function(p,x,T){var I,C=this.__on,F=i(n,x,T);if(C)for(var V=0,Z=C.length;V<Z;++V)if((I=C[V]).type===e.type&&I.name===e.name)return this.removeEventListener(I.type,I.listener,I.capture),this.addEventListener(I.type,I.listener=F,I.capture=t),void(I.value=n);this.addEventListener(e.type,F,t),I={type:e.type,name:e.name,value:n,listener:F,capture:t},C?C.push(I):this.__on=[I]}}function Bn(e,n,t){var i=St(e),p=i.CustomEvent;"function"==typeof p?p=new p(n,t):(p=i.document.createEvent("Event"),t?(p.initEvent(n,t.bubbles,t.cancelable),p.detail=t.detail):p.initEvent(n,!1,!1)),e.dispatchEvent(p)}function Yr(e,n){return function(){return Bn(this,e,n)}}function Ur(e,n){return function(){return Bn(this,e,n.apply(this,arguments))}}typeof document<"u"&&("onmouseenter"in document.documentElement||(kn={mouseenter:"mouseover",mouseleave:"mouseout"}));var Rn=[null];function Lt(e,n){this._groups=e,this._parents=n}function Hn(){return new Lt([[document.documentElement]],Rn)}Lt.prototype=Hn.prototype={constructor:Lt,select:function $(e){"function"!=typeof e&&(e=z(e));for(var n=this._groups,t=n.length,i=new Array(t),p=0;p<t;++p)for(var I,F,x=n[p],T=x.length,C=i[p]=new Array(T),V=0;V<T;++V)(I=x[V])&&(F=e.call(I,I.__data__,V,x))&&("__data__"in I&&(F.__data__=I.__data__),C[V]=F);return new Lt(i,this._parents)},selectAll:function D(e){"function"!=typeof e&&(e=L(e));for(var n=this._groups,t=n.length,i=[],p=[],x=0;x<t;++x)for(var I,T=n[x],C=T.length,F=0;F<C;++F)(I=T[F])&&(i.push(e.call(I,I.__data__,F,T)),p.push(I));return new Lt(i,p)},filter:function G(e){"function"!=typeof e&&(e=P(e));for(var n=this._groups,t=n.length,i=new Array(t),p=0;p<t;++p)for(var I,x=n[p],T=x.length,C=i[p]=[],F=0;F<T;++F)(I=x[F])&&e.call(I,I.__data__,F,x)&&C.push(I);return new Lt(i,this._parents)},data:function et(e,n){if(!e)return q=new Array(this.size()),F=-1,this.each(function(Mt){q[++F]=Mt}),q;var t=n?rt:J,i=this._parents,p=this._groups;"function"!=typeof e&&(e=function B(e){return function(){return e}}(e));for(var x=p.length,T=new Array(x),C=new Array(x),I=new Array(x),F=0;F<x;++F){var V=i[F],Z=p[F],j=Z.length,q=e.call(V,V&&V.__data__,F,i),nt=q.length,tt=C[F]=new Array(nt),ot=T[F]=new Array(nt);t(V,Z,tt,ot,I[F]=new Array(j),q,n);for(var xt,wt,dt=0,ht=0;dt<nt;++dt)if(xt=tt[dt]){for(dt>=ht&&(ht=dt+1);!(wt=ot[ht])&&++ht<nt;);xt._next=wt||null}}return(T=new Lt(T,i))._enter=C,T._exit=I,T},enter:function Q(){return new Lt(this._enter||this._groups.map(U),this._parents)},exit:function st(){return new Lt(this._exit||this._groups.map(U),this._parents)},join:function ut(e,n,t){var i=this.enter(),p=this,x=this.exit();return i="function"==typeof e?e(i):i.append(e+""),null!=n&&(p=n(p)),null==t?x.remove():t(x),i&&p?i.merge(p).order():p},merge:function pt(e){for(var n=this._groups,t=e._groups,i=n.length,x=Math.min(i,t.length),T=new Array(i),C=0;C<x;++C)for(var j,I=n[C],F=t[C],V=I.length,Z=T[C]=new Array(V),q=0;q<V;++q)(j=I[q]||F[q])&&(Z[q]=j);for(;C<i;++C)T[C]=n[C];return new Lt(T,this._parents)},order:function W(){for(var e=this._groups,n=-1,t=e.length;++n<t;)for(var T,i=e[n],p=i.length-1,x=i[p];--p>=0;)(T=i[p])&&(x&&4^T.compareDocumentPosition(x)&&x.parentNode.insertBefore(T,x),x=T);return this},sort:function K(e){function n(Z,j){return Z&&j?e(Z.__data__,j.__data__):!Z-!j}e||(e=it);for(var t=this._groups,i=t.length,p=new Array(i),x=0;x<i;++x){for(var F,T=t[x],C=T.length,I=p[x]=new Array(C),V=0;V<C;++V)(F=T[V])&&(I[V]=F);I.sort(n)}return new Lt(p,this._parents).order()},call:function at(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function ft(){var e=new Array(this.size()),n=-1;return this.each(function(){e[++n]=this}),e},node:function ct(){for(var e=this._groups,n=0,t=e.length;n<t;++n)for(var i=e[n],p=0,x=i.length;p<x;++p){var T=i[p];if(T)return T}return null},size:function gt(){var e=0;return this.each(function(){++e}),e},empty:function yt(){return!this.node()},each:function Pt(e){for(var n=this._groups,t=0,i=n.length;t<i;++t)for(var C,p=n[t],x=0,T=p.length;x<T;++x)(C=p[x])&&e.call(C,C.__data__,x,p);return this},attr:function zt(e,n){var t=mt(e);if(arguments.length<2){var i=this.node();return t.local?i.getAttributeNS(t.space,t.local):i.getAttribute(t)}return this.each((null==n?t.local?vt:Ut:"function"==typeof n?t.local?se:on:t.local?Jt:Xt)(t,n))},style:function Ge(e,n,t){return arguments.length>1?this.each((null==n?oe:"function"==typeof n?an:ae)(e,n,t??"")):Nt(this.node(),e)},property:function He(e,n){return arguments.length>1?this.each((null==n?Be:"function"==typeof n?un:Re)(e,n)):this.node()[e]},classed:function dr(e,n){var t=kt(e+"");if(arguments.length<2){for(var i=Gt(this.node()),p=-1,x=t.length;++p<x;)if(!i.contains(t[p]))return!1;return!0}return this.each(("function"==typeof n?fr:n?hr:cr)(t,n))},text:function vr(e){return arguments.length?this.each(null==e?pr:("function"==typeof e?mr:gr)(e)):this.node().textContent},html:function br(e){return arguments.length?this.each(null==e?yr:("function"==typeof e?_r:xr)(e)):this.node().innerHTML},raise:function Er(){return this.each(wr)},lower:function Cr(){return this.each(Tr)},append:function Or(e){var n="function"==typeof e?e:Pn(e);return this.select(function(){return this.appendChild(n.apply(this,arguments))})},insert:function Mr(e,n){var t="function"==typeof e?e:Pn(e),i=null==n?Ir:"function"==typeof n?n:z(n);return this.select(function(){return this.insertBefore(t.apply(this,arguments),i.apply(this,arguments)||null)})},remove:function Lr(){return this.each(Nr)},clone:function Pr(e){return this.select(e?Fr:Dr)},datum:function kr(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function Vr(e,n,t){var p,T,i=Rr(e+""),x=i.length;if(!(arguments.length<2)){for(C=n?zr:Hr,null==t&&(t=!1),p=0;p<x;++p)this.each(C(i[p],n,t));return this}var C=this.node().__on;if(C)for(var V,I=0,F=C.length;I<F;++I)for(p=0,V=C[I];p<x;++p)if((T=i[p]).type===V.type&&T.name===V.name)return V.value},dispatch:function Zr(e,n){return this.each(("function"==typeof n?Ur:Yr)(e,n))}};const _e=Hn;function zn(e){return"string"==typeof e?new Lt([[document.querySelector(e)]],[document.documentElement]):new Lt([[e]],Rn)}function Vn(e,n,t){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+n)/6,(e._y0+4*e._y1+t)/6)}function ze(e){this._context=e}function Yn(e,n){this._basis=new ze(e),this._beta=n}ze.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Vn(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,n){switch(e=+e,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Vn(this,e,n)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=n}},Yn.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,n=this._y,t=e.length-1;if(t>0)for(var I,i=e[0],p=n[0],x=e[t]-i,T=n[t]-p,C=-1;++C<=t;)this._basis.point(this._beta*e[C]+(1-this._beta)*(i+(I=C/t)*x),this._beta*n[C]+(1-this._beta)*(p+I*T));this._x=this._y=null,this._basis.lineEnd()},point:function(e,n){this._x.push(+e),this._y.push(+n)}};const $r=function e(n){function t(i){return 1===n?new ze(i):new Yn(i,n)}return t.beta=function(i){return e(+i)},t}(.85);var ln=Math.PI,hn=2*ln,ne=1e-6,jr=hn-ne;function cn(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Un(){return new cn}cn.prototype=Un.prototype={constructor:cn,moveTo:function(e,n){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+n)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,n){this._+="L"+(this._x1=+e)+","+(this._y1=+n)},quadraticCurveTo:function(e,n,t,i){this._+="Q"+ +e+","+ +n+","+(this._x1=+t)+","+(this._y1=+i)},bezierCurveTo:function(e,n,t,i,p,x){this._+="C"+ +e+","+ +n+","+ +t+","+ +i+","+(this._x1=+p)+","+(this._y1=+x)},arcTo:function(e,n,t,i,p){var x=this._x1,T=this._y1,C=(t=+t)-(e=+e),I=(i=+i)-(n=+n),F=x-e,V=T-n,Z=F*F+V*V;if((p=+p)<0)throw new Error("negative radius: "+p);if(null===this._x1)this._+="M"+(this._x1=e)+","+(this._y1=n);else if(Z>ne)if(Math.abs(V*C-I*F)>ne&&p){var j=t-x,q=i-T,nt=C*C+I*I,tt=j*j+q*q,ot=Math.sqrt(nt),lt=Math.sqrt(Z),dt=p*Math.tan((ln-Math.acos((nt+Z-tt)/(2*ot*lt)))/2),ht=dt/lt,xt=dt/ot;Math.abs(ht-1)>ne&&(this._+="L"+(e+ht*F)+","+(n+ht*V)),this._+="A"+p+","+p+",0,0,"+ +(V*j>F*q)+","+(this._x1=e+xt*C)+","+(this._y1=n+xt*I)}else this._+="L"+(this._x1=e)+","+(this._y1=n)},arc:function(e,n,t,i,p,x){e=+e,n=+n,x=!!x;var T=(t=+t)*Math.cos(i),C=t*Math.sin(i),I=e+T,F=n+C,V=1^x,Z=x?i-p:p-i;if(t<0)throw new Error("negative radius: "+t);null===this._x1?this._+="M"+I+","+F:(Math.abs(this._x1-I)>ne||Math.abs(this._y1-F)>ne)&&(this._+="L"+I+","+F),t&&(Z<0&&(Z=Z%hn+hn),Z>jr?this._+="A"+t+","+t+",0,1,"+V+","+(e-T)+","+(n-C)+"A"+t+","+t+",0,1,"+V+","+(this._x1=I)+","+(this._y1=F):Z>ne&&(this._+="A"+t+","+t+",0,"+ +(Z>=ln)+","+V+","+(this._x1=e+t*Math.cos(p))+","+(this._y1=n+t*Math.sin(p))))},rect:function(e,n,t,i){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+n)+"h"+ +t+"v"+ +i+"h"+-t+"Z"},toString:function(){return this._}};const Wr=Un;function Ve(e){return function(){return e}}function Zn(e){this._context=e}function Xr(e){return new Zn(e)}function Jr(e){return e[0]}function Kr(e){return e[1]}Zn.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,n){switch(e=+e,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break;case 1:this._point=2;default:this._context.lineTo(e,n)}}};var $n=Math.PI;function Wn(e){return(1-Math.cos($n*e))/2}var qr={value:function(){}};function Xn(){for(var i,e=0,n=arguments.length,t={};e<n;++e){if(!(i=arguments[e]+"")||i in t||/[\s.]/.test(i))throw new Error("illegal type: "+i);t[i]=[]}return new Ye(t)}function Ye(e){this._=e}function ts(e,n){return e.trim().split(/^|\s+/).map(function(t){var i="",p=t.indexOf(".");if(p>=0&&(i=t.slice(p+1),t=t.slice(0,p)),t&&!n.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:i}})}function es(e,n){for(var p,t=0,i=e.length;t<i;++t)if((p=e[t]).name===n)return p.value}function Jn(e,n,t){for(var i=0,p=e.length;i<p;++i)if(e[i].name===n){e[i]=qr,e=e.slice(0,i).concat(e.slice(i+1));break}return null!=t&&e.push({name:n,value:t}),e}Ye.prototype=Xn.prototype={constructor:Ye,on:function(e,n){var p,t=this._,i=ts(e+"",t),x=-1,T=i.length;if(!(arguments.length<2)){if(null!=n&&"function"!=typeof n)throw new Error("invalid callback: "+n);for(;++x<T;)if(p=(e=i[x]).type)t[p]=Jn(t[p],e.name,n);else if(null==n)for(p in t)t[p]=Jn(t[p],e.name,null);return this}for(;++x<T;)if((p=(e=i[x]).type)&&(p=es(t[p],e.name)))return p},copy:function(){var e={},n=this._;for(var t in n)e[t]=n[t].slice();return new Ye(e)},call:function(e,n){if((p=arguments.length-2)>0)for(var p,x,t=new Array(p),i=0;i<p;++i)t[i]=arguments[i+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=0,p=(x=this._[e]).length;i<p;++i)x[i].value.apply(n,t)},apply:function(e,n,t){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var i=this._[e],p=0,x=i.length;p<x;++p)i[p].value.apply(n,t)}};const fn=Xn;var Ue,Ee,ue=0,be=0,we=0,Ze=0,ie=0,$e=0,Te="object"==typeof performance&&performance.now?performance:Date,Qn="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function le(){return ie||(Qn(ns),ie=Te.now()+$e)}function ns(){ie=0}function Ce(){this._call=this._time=this._next=null}function je(e,n,t){var i=new Ce;return i.restart(e,n,t),i}function qn(){le(),++ue;for(var n,e=Ue;e;)(n=ie-e._time)>=0&&e._call.call(null,n),e=e._next;--ue}function ti(){ie=(Ze=Te.now())+$e,ue=be=0;try{qn()}finally{ue=0,function rs(){for(var e,t,n=Ue,i=1/0;n;)n._call?(i>n._time&&(i=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:Ue=t);Ee=e,dn(i)}(),ie=0}}function is(){var e=Te.now(),n=e-Ze;n>1e3&&($e-=n,Ze=e)}function dn(e){ue||(be&&(be=clearTimeout(be)),e-ie>24?(e<1/0&&(be=setTimeout(ti,e-Te.now()-$e)),we&&(we=clearInterval(we))):(we||(Ze=Te.now(),we=setInterval(is,1e3)),ue=1,Qn(ti)))}function pn(e,n,t){var i=new Ce;return i.restart(function(p){i.stop(),e(p+n)},n=null==n?0:+n,t),i}Ce.prototype=je.prototype={constructor:Ce,restart:function(e,n,t){if("function"!=typeof e)throw new TypeError("callback is not a function");t=(null==t?le():+t)+(null==n?0:+n),!this._next&&Ee!==this&&(Ee?Ee._next=this:Ue=this,Ee=this),this._call=e,this._time=t,dn()},stop:function(){this._call&&(this._call=null,this._time=1/0,dn())}};var ss=fn("start","end","cancel","interrupt"),os=[];function Je(e,n,t,i,p,x){var T=e.__transition;if(T){if(t in T)return}else e.__transition={};!function as(e,n,t){var p,i=e.__transition;function T(F){var V,Z,j,q;if(1!==t.state)return I();for(V in i)if((q=i[V]).name===t.name){if(3===q.state)return pn(T);4===q.state?(q.state=6,q.timer.stop(),q.on.call("interrupt",e,e.__data__,q.index,q.group),delete i[V]):+V<n&&(q.state=6,q.timer.stop(),q.on.call("cancel",e,e.__data__,q.index,q.group),delete i[V])}if(pn(function(){3===t.state&&(t.state=4,t.timer.restart(C,t.delay,t.time),C(F))}),t.state=2,t.on.call("start",e,e.__data__,t.index,t.group),2===t.state){for(t.state=3,p=new Array(j=t.tween.length),V=0,Z=-1;V<j;++V)(q=t.tween[V].value.call(e,e.__data__,t.index,t.group))&&(p[++Z]=q);p.length=Z+1}}function C(F){for(var V=F<t.duration?t.ease.call(null,F/t.duration):(t.timer.restart(I),t.state=5,1),Z=-1,j=p.length;++Z<j;)p[Z].call(e,V);5===t.state&&(t.on.call("end",e,e.__data__,t.index,t.group),I())}function I(){for(var F in t.state=6,t.timer.stop(),delete i[n],i)return;delete e.__transition}i[n]=t,t.timer=je(function x(F){t.state=1,t.timer.restart(T,t.delay,t.time),t.delay<=F&&T(F-t.delay)},0,t.time)}(e,t,{name:n,index:i,group:p,on:ss,tween:os,time:x.time,delay:x.delay,duration:x.duration,ease:x.ease,timer:null,state:0})}function vn(e,n){var t=Bt(e,n);if(t.state>0)throw new Error("too late; already scheduled");return t}function Zt(e,n){var t=Bt(e,n);if(t.state>3)throw new Error("too late; already running");return t}function Bt(e,n){var t=e.__transition;if(!t||!(t=t[n]))throw new Error("transition not found");return t}function Kt(e,n){return e=+e,n=+n,function(t){return e*(1-t)+n*t}}var Ae,xn,oi,Ke,ri=180/Math.PI,yn={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function si(e,n,t,i,p,x){var T,C,I;return(T=Math.sqrt(e*e+n*n))&&(e/=T,n/=T),(I=e*t+n*i)&&(t-=e*I,i-=n*I),(C=Math.sqrt(t*t+i*i))&&(t/=C,i/=C,I/=C),e*i<n*t&&(e=-e,n=-n,I=-I,T=-T),{translateX:p,translateY:x,rotate:Math.atan2(n,e)*ri,skewX:Math.atan(I)*ri,scaleX:T,scaleY:C}}function ai(e,n,t,i){function p(F){return F.length?F.pop()+" ":""}return function(F,V){var Z=[],j=[];return F=e(F),V=e(V),function x(F,V,Z,j,q,nt){if(F!==Z||V!==j){var tt=q.push("translate(",null,n,null,t);nt.push({i:tt-4,x:Kt(F,Z)},{i:tt-2,x:Kt(V,j)})}else(Z||j)&&q.push("translate("+Z+n+j+t)}(F.translateX,F.translateY,V.translateX,V.translateY,Z,j),function T(F,V,Z,j){F!==V?(F-V>180?V+=360:V-F>180&&(F+=360),j.push({i:Z.push(p(Z)+"rotate(",null,i)-2,x:Kt(F,V)})):V&&Z.push(p(Z)+"rotate("+V+i)}(F.rotate,V.rotate,Z,j),function C(F,V,Z,j){F!==V?j.push({i:Z.push(p(Z)+"skewX(",null,i)-2,x:Kt(F,V)}):V&&Z.push(p(Z)+"skewX("+V+i)}(F.skewX,V.skewX,Z,j),function I(F,V,Z,j,q,nt){if(F!==Z||V!==j){var tt=q.push(p(q)+"scale(",null,",",null,")");nt.push({i:tt-4,x:Kt(F,Z)},{i:tt-2,x:Kt(V,j)})}else(1!==Z||1!==j)&&q.push(p(q)+"scale("+Z+","+j+")")}(F.scaleX,F.scaleY,V.scaleX,V.scaleY,Z,j),F=V=null,function(q){for(var ot,nt=-1,tt=j.length;++nt<tt;)Z[(ot=j[nt]).i]=ot.x(q);return Z.join("")}}}var fs=ai(function hs(e){return"none"===e?yn:(Ae||(Ae=document.createElement("DIV"),xn=document.documentElement,oi=document.defaultView),Ae.style.transform=e,e=oi.getComputedStyle(xn.appendChild(Ae),null).getPropertyValue("transform"),xn.removeChild(Ae),si(+(e=e.slice(7,-1).split(","))[0],+e[1],+e[2],+e[3],+e[4],+e[5]))},"px, ","px)","deg)"),ds=ai(function cs(e){return null!=e&&(Ke||(Ke=document.createElementNS("http://www.w3.org/2000/svg","g")),Ke.setAttribute("transform",e),e=Ke.transform.baseVal.consolidate())?si((e=e.matrix).a,e.b,e.c,e.d,e.e,e.f):yn},", ",")",")");function ps(e,n){var t,i;return function(){var p=Zt(this,e),x=p.tween;if(x!==t)for(var T=0,C=(i=t=x).length;T<C;++T)if(i[T].name===n){(i=i.slice()).splice(T,1);break}p.tween=i}}function gs(e,n,t){var i,p;if("function"!=typeof t)throw new Error;return function(){var x=Zt(this,e),T=x.tween;if(T!==i){p=(i=T).slice();for(var C={name:n,value:t},I=0,F=p.length;I<F;++I)if(p[I].name===n){p[I]=C;break}I===F&&p.push(C)}x.tween=p}}function _n(e,n,t){var i=e._id;return e.each(function(){var p=Zt(this,i);(p.value||(p.value={}))[n]=t.apply(this,arguments)}),function(p){return Bt(p,i).value[n]}}function bn(e,n,t){e.prototype=n.prototype=t,t.constructor=e}function ui(e,n){var t=Object.create(e.prototype);for(var i in n)t[i]=n[i];return t}function Se(){}var Qe=1/.7,he="\\s*([+-]?\\d+)\\s*",Ie="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Vt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",vs=/^#([0-9a-f]{3,8})$/,ys=new RegExp("^rgb\\("+[he,he,he]+"\\)$"),xs=new RegExp("^rgb\\("+[Vt,Vt,Vt]+"\\)$"),_s=new RegExp("^rgba\\("+[he,he,he,Ie]+"\\)$"),bs=new RegExp("^rgba\\("+[Vt,Vt,Vt,Ie]+"\\)$"),ws=new RegExp("^hsl\\("+[Ie,Vt,Vt]+"\\)$"),Es=new RegExp("^hsla\\("+[Ie,Vt,Vt,Ie]+"\\)$"),li={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function hi(){return this.rgb().formatHex()}function ci(){return this.rgb().formatRgb()}function Me(e){var n,t;return e=(e+"").trim().toLowerCase(),(n=vs.exec(e))?(t=n[1].length,n=parseInt(n[1],16),6===t?fi(n):3===t?new Dt(n>>8&15|n>>4&240,n>>4&15|240&n,(15&n)<<4|15&n,1):8===t?qe(n>>24&255,n>>16&255,n>>8&255,(255&n)/255):4===t?qe(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|240&n,((15&n)<<4|15&n)/255):null):(n=ys.exec(e))?new Dt(n[1],n[2],n[3],1):(n=xs.exec(e))?new Dt(255*n[1]/100,255*n[2]/100,255*n[3]/100,1):(n=_s.exec(e))?qe(n[1],n[2],n[3],n[4]):(n=bs.exec(e))?qe(255*n[1]/100,255*n[2]/100,255*n[3]/100,n[4]):(n=ws.exec(e))?gi(n[1],n[2]/100,n[3]/100,1):(n=Es.exec(e))?gi(n[1],n[2]/100,n[3]/100,n[4]):li.hasOwnProperty(e)?fi(li[e]):"transparent"===e?new Dt(NaN,NaN,NaN,0):null}function fi(e){return new Dt(e>>16&255,e>>8&255,255&e,1)}function qe(e,n,t,i){return i<=0&&(e=n=t=NaN),new Dt(e,n,t,i)}function Cs(e){return e instanceof Se||(e=Me(e)),e?new Dt((e=e.rgb()).r,e.g,e.b,e.opacity):new Dt}function tn(e,n,t,i){return 1===arguments.length?Cs(e):new Dt(e,n,t,i??1)}function Dt(e,n,t,i){this.r=+e,this.g=+n,this.b=+t,this.opacity=+i}function di(){return"#"+wn(this.r)+wn(this.g)+wn(this.b)}function pi(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}function wn(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16)}function gi(e,n,t,i){return i<=0?e=n=t=NaN:t<=0||t>=1?e=n=NaN:n<=0&&(e=NaN),new Yt(e,n,t,i)}function mi(e){if(e instanceof Yt)return new Yt(e.h,e.s,e.l,e.opacity);if(e instanceof Se||(e=Me(e)),!e)return new Yt;if(e instanceof Yt)return e;var n=(e=e.rgb()).r/255,t=e.g/255,i=e.b/255,p=Math.min(n,t,i),x=Math.max(n,t,i),T=NaN,C=x-p,I=(x+p)/2;return C?(T=n===x?(t-i)/C+6*(t<i):t===x?(i-n)/C+2:(n-t)/C+4,C/=I<.5?x+p:2-x-p,T*=60):C=I>0&&I<1?0:T,new Yt(T,C,I,e.opacity)}function Yt(e,n,t,i){this.h=+e,this.s=+n,this.l=+t,this.opacity=+i}function En(e,n,t){return 255*(e<60?n+(t-n)*e/60:e<180?t:e<240?n+(t-n)*(240-e)/60:n)}function vi(e,n,t,i,p){var x=e*e,T=x*e;return((1-3*e+3*x-T)*n+(4-6*x+3*T)*t+(1+3*e+3*x-3*T)*i+T*p)/6}function yi(e){return function(){return e}}function _i(e,n){var t=n-e;return t?function xi(e,n){return function(t){return e+t*n}}(e,t):yi(isNaN(e)?n:e)}bn(Se,Me,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:hi,formatHex:hi,formatHsl:function Ts(){return mi(this).formatHsl()},formatRgb:ci,toString:ci}),bn(Dt,tn,ui(Se,{brighter:function(e){return e=null==e?Qe:Math.pow(Qe,e),new Dt(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new Dt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:di,formatHex:di,formatRgb:pi,toString:pi})),bn(Yt,function As(e,n,t,i){return 1===arguments.length?mi(e):new Yt(e,n,t,i??1)},ui(Se,{brighter:function(e){return e=null==e?Qe:Math.pow(Qe,e),new Yt(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new Yt(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),n=isNaN(e)||isNaN(this.s)?0:this.s,t=this.l,i=t+(t<.5?t:1-t)*n,p=2*t-i;return new Dt(En(e>=240?e-240:e+120,p,i),En(e,p,i),En(e<120?e+240:e-120,p,i),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===e?")":", "+e+")")}}));const bi=function e(n){var t=function Ms(e){return 1==(e=+e)?_i:function(n,t){return t-n?function Is(e,n,t){return e=Math.pow(e,t),n=Math.pow(n,t)-e,t=1/t,function(i){return Math.pow(e+i*n,t)}}(n,t,e):yi(isNaN(n)?t:n)}}(n);function i(p,x){var T=t((p=tn(p)).r,(x=tn(x)).r),C=t(p.g,x.g),I=t(p.b,x.b),F=_i(p.opacity,x.opacity);return function(V){return p.r=T(V),p.g=C(V),p.b=I(V),p.opacity=F(V),p+""}}return i.gamma=e,i}(1);function wi(e){return function(n){var T,C,t=n.length,i=new Array(t),p=new Array(t),x=new Array(t);for(T=0;T<t;++T)C=tn(n[T]),i[T]=C.r||0,p[T]=C.g||0,x[T]=C.b||0;return i=e(i),p=e(p),x=e(x),C.opacity=1,function(I){return C.r=i(I),C.g=p(I),C.b=x(I),C+""}}}wi(function Ss(e){var n=e.length-1;return function(t){var i=t<=0?t=0:t>=1?(t=1,n-1):Math.floor(t*n),p=e[i],x=e[i+1];return vi((t-i/n)*n,i>0?e[i-1]:2*p-x,p,x,i<n-1?e[i+2]:2*x-p)}}),wi(function Os(e){var n=e.length;return function(t){var i=Math.floor(((t%=1)<0?++t:t)*n);return vi((t-i/n)*n,e[(i+n-1)%n],e[i%n],e[(i+1)%n],e[(i+2)%n])}});var Tn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Cn=new RegExp(Tn.source,"g");function Ds(e,n){var i,p,x,t=Tn.lastIndex=Cn.lastIndex=0,T=-1,C=[],I=[];for(e+="",n+="";(i=Tn.exec(e))&&(p=Cn.exec(n));)(x=p.index)>t&&(x=n.slice(t,x),C[T]?C[T]+=x:C[++T]=x),(i=i[0])===(p=p[0])?C[T]?C[T]+=p:C[++T]=p:(C[++T]=null,I.push({i:T,x:Kt(i,p)})),t=Cn.lastIndex;return t<n.length&&(x=n.slice(t),C[T]?C[T]+=x:C[++T]=x),C.length<2?I[0]?function Ls(e){return function(n){return e(n)+""}}(I[0].x):function Ns(e){return function(){return e}}(n):(n=I.length,function(F){for(var Z,V=0;V<n;++V)C[(Z=I[V]).i]=Z.x(F);return C.join("")})}function Ei(e,n){var t;return("number"==typeof n?Kt:n instanceof Me?bi:(t=Me(n))?(n=t,bi):Ds)(e,n)}function Fs(e){return function(){this.removeAttribute(e)}}function Ps(e){return function(){this.removeAttributeNS(e.space,e.local)}}function ks(e,n,t){var i,x,p=t+"";return function(){var T=this.getAttribute(e);return T===p?null:T===i?x:x=n(i=T,t)}}function Gs(e,n,t){var i,x,p=t+"";return function(){var T=this.getAttributeNS(e.space,e.local);return T===p?null:T===i?x:x=n(i=T,t)}}function Bs(e,n,t){var i,p,x;return function(){var T,I,C=t(this);return null==C?void this.removeAttribute(e):(T=this.getAttribute(e))===(I=C+"")?null:T===i&&I===p?x:(p=I,x=n(i=T,C))}}function Rs(e,n,t){var i,p,x;return function(){var T,I,C=t(this);return null==C?void this.removeAttributeNS(e.space,e.local):(T=this.getAttributeNS(e.space,e.local))===(I=C+"")?null:T===i&&I===p?x:(p=I,x=n(i=T,C))}}function zs(e,n){return function(t){this.setAttribute(e,n.call(this,t))}}function Vs(e,n){return function(t){this.setAttributeNS(e.space,e.local,n.call(this,t))}}function Ys(e,n){var t,i;function p(){var x=n.apply(this,arguments);return x!==i&&(t=(i=x)&&Vs(e,x)),t}return p._value=n,p}function Us(e,n){var t,i;function p(){var x=n.apply(this,arguments);return x!==i&&(t=(i=x)&&zs(e,x)),t}return p._value=n,p}function $s(e,n){return function(){vn(this,e).delay=+n.apply(this,arguments)}}function js(e,n){return n=+n,function(){vn(this,e).delay=n}}function Xs(e,n){return function(){Zt(this,e).duration=+n.apply(this,arguments)}}function Js(e,n){return n=+n,function(){Zt(this,e).duration=n}}function Qs(e,n){if("function"!=typeof n)throw new Error;return function(){Zt(this,e).ease=n}}function io(e,n,t){var i,p,x=function no(e){return(e+"").trim().split(/^|\s+/).every(function(n){var t=n.indexOf(".");return t>=0&&(n=n.slice(0,t)),!n||"start"===n})}(n)?vn:Zt;return function(){var T=x(this,e),C=T.on;C!==i&&(p=(i=C).copy()).on(n,t),T.on=p}}var lo=_e.prototype.constructor;function Ti(e){return function(){this.style.removeProperty(e)}}function vo(e,n,t){return function(i){this.style.setProperty(e,n.call(this,i),t)}}function yo(e,n,t){var i,p;function x(){var T=n.apply(this,arguments);return T!==p&&(i=(p=T)&&vo(e,T,t)),i}return x._value=n,x}function Eo(e){return function(n){this.textContent=e.call(this,n)}}function To(e){var n,t;function i(){var p=e.apply(this,arguments);return p!==t&&(n=(t=p)&&Eo(p)),n}return i._value=e,i}var Oo=0;function $t(e,n,t,i){this._groups=e,this._parents=n,this._name=t,this._id=i}function Ci(){return++Oo}var ce=_e.prototype;$t.prototype=function Io(e){return _e().transition(e)}.prototype={constructor:$t,select:function ao(e){var n=this._name,t=this._id;"function"!=typeof e&&(e=z(e));for(var i=this._groups,p=i.length,x=new Array(p),T=0;T<p;++T)for(var V,Z,C=i[T],I=C.length,F=x[T]=new Array(I),j=0;j<I;++j)(V=C[j])&&(Z=e.call(V,V.__data__,j,C))&&("__data__"in V&&(Z.__data__=V.__data__),F[j]=Z,Je(F[j],n,t,j,F,Bt(V,t)));return new $t(x,this._parents,n,t)},selectAll:function uo(e){var n=this._name,t=this._id;"function"!=typeof e&&(e=L(e));for(var i=this._groups,p=i.length,x=[],T=[],C=0;C<p;++C)for(var V,I=i[C],F=I.length,Z=0;Z<F;++Z)if(V=I[Z]){for(var q,j=e.call(V,V.__data__,Z,I),nt=Bt(V,t),tt=0,ot=j.length;tt<ot;++tt)(q=j[tt])&&Je(q,n,t,tt,j,nt);x.push(j),T.push(V)}return new $t(x,T,n,t)},filter:function to(e){"function"!=typeof e&&(e=P(e));for(var n=this._groups,t=n.length,i=new Array(t),p=0;p<t;++p)for(var I,x=n[p],T=x.length,C=i[p]=[],F=0;F<T;++F)(I=x[F])&&e.call(I,I.__data__,F,x)&&C.push(I);return new $t(i,this._parents,this._name,this._id)},merge:function eo(e){if(e._id!==this._id)throw new Error;for(var n=this._groups,t=e._groups,i=n.length,x=Math.min(i,t.length),T=new Array(i),C=0;C<x;++C)for(var j,I=n[C],F=t[C],V=I.length,Z=T[C]=new Array(V),q=0;q<V;++q)(j=I[q]||F[q])&&(Z[q]=j);for(;C<i;++C)T[C]=n[C];return new $t(T,this._parents,this._name,this._id)},selection:function ho(){return new lo(this._groups,this._parents)},transition:function Ao(){for(var e=this._name,n=this._id,t=Ci(),i=this._groups,p=i.length,x=0;x<p;++x)for(var I,T=i[x],C=T.length,F=0;F<C;++F)if(I=T[F]){var V=Bt(I,n);Je(I,e,t,F,T,{time:V.time+V.delay+V.duration,delay:0,duration:V.duration,ease:V.ease})}return new $t(i,this._parents,e,t)},call:ce.call,nodes:ce.nodes,node:ce.node,size:ce.size,empty:ce.empty,each:ce.each,on:function ro(e,n){var t=this._id;return arguments.length<2?Bt(this.node(),t).on.on(e):this.each(io(t,e,n))},attr:function Hs(e,n){var t=mt(e),i="transform"===t?ds:Ei;return this.attrTween(e,"function"==typeof n?(t.local?Rs:Bs)(t,i,_n(this,"attr."+e,n)):null==n?(t.local?Ps:Fs)(t):(t.local?Gs:ks)(t,i,n))},attrTween:function Zs(e,n){var t="attr."+e;if(arguments.length<2)return(t=this.tween(t))&&t._value;if(null==n)return this.tween(t,null);if("function"!=typeof n)throw new Error;var i=mt(e);return this.tween(t,(i.local?Ys:Us)(i,n))},style:function mo(e,n,t){var i="transform"==(e+="")?fs:Ei;return null==n?this.styleTween(e,function co(e,n){var t,i,p;return function(){var x=Nt(this,e),T=(this.style.removeProperty(e),Nt(this,e));return x===T?null:x===t&&T===i?p:p=n(t=x,i=T)}}(e,i)).on("end.style."+e,Ti(e)):"function"==typeof n?this.styleTween(e,function po(e,n,t){var i,p,x;return function(){var T=Nt(this,e),C=t(this),I=C+"";return null==C&&(this.style.removeProperty(e),I=C=Nt(this,e)),T===I?null:T===i&&I===p?x:(p=I,x=n(i=T,C))}}(e,i,_n(this,"style."+e,n))).each(function go(e,n){var t,i,p,C,x="style."+n,T="end."+x;return function(){var I=Zt(this,e),F=I.on,V=null==I.value[x]?C||(C=Ti(n)):void 0;(F!==t||p!==V)&&(i=(t=F).copy()).on(T,p=V),I.on=i}}(this._id,e)):this.styleTween(e,function fo(e,n,t){var i,x,p=t+"";return function(){var T=Nt(this,e);return T===p?null:T===i?x:x=n(i=T,t)}}(e,i,n),t).on("end.style."+e,null)},styleTween:function xo(e,n,t){var i="style."+(e+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(null==n)return this.tween(i,null);if("function"!=typeof n)throw new Error;return this.tween(i,yo(e,n,t??""))},text:function wo(e){return this.tween("text","function"==typeof e?function bo(e){return function(){var n=e(this);this.textContent=n??""}}(_n(this,"text",e)):function _o(e){return function(){this.textContent=e}}(null==e?"":e+""))},textTween:function Co(e){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;return this.tween(n,To(e))},remove:function oo(){return this.on("end.remove",function so(e){return function(){var n=this.parentNode;for(var t in this.__transition)if(+t!==e)return;n&&n.removeChild(this)}}(this._id))},tween:function ms(e,n){var t=this._id;if(e+="",arguments.length<2){for(var T,i=Bt(this.node(),t).tween,p=0,x=i.length;p<x;++p)if((T=i[p]).name===e)return T.value;return null}return this.each((null==n?ps:gs)(t,e,n))},delay:function Ws(e){var n=this._id;return arguments.length?this.each(("function"==typeof e?$s:js)(n,e)):Bt(this.node(),n).delay},duration:function Ks(e){var n=this._id;return arguments.length?this.each(("function"==typeof e?Xs:Js)(n,e)):Bt(this.node(),n).duration},ease:function qs(e){var n=this._id;return arguments.length?this.each(Qs(n,e)):Bt(this.node(),n).ease},end:function So(){var e,n,t=this,i=t._id,p=t.size();return new Promise(function(x,T){var C={value:T},I={value:function(){0==--p&&x()}};t.each(function(){var F=Zt(this,i),V=F.on;V!==e&&((n=(e=V).copy())._.cancel.push(C),n._.interrupt.push(C),n._.end.push(I)),F.on=n})})}};var An={time:null,delay:0,duration:250,ease:function Mo(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}};function No(e,n){for(var t;!(t=e.__transition)||!(t=t[n]);)if(!(e=e.parentNode))return An.time=le(),An;return t}_e.prototype.interrupt=function ls(e){return this.each(function(){!function us(e,n){var i,p,T,t=e.__transition,x=!0;if(t){for(T in n=null==n?null:n+"",t)(i=t[T]).name===n?(p=i.state>2&&i.state<5,i.state=6,i.timer.stop(),i.on.call(p?"interrupt":"cancel",e,e.__data__,i.index,i.group),delete t[T]):x=!1;x&&delete e.__transition}}(this,e)})},_e.prototype.transition=function Lo(e){var n,t;e instanceof $t?(n=e._id,e=e._name):(n=Ci(),(t=An).time=le(),e=null==e?null:e+"");for(var i=this._groups,p=i.length,x=0;x<p;++x)for(var I,T=i[x],C=T.length,F=0;F<C;++F)(I=T[F])&&Je(I,e,n,F,T,t||No(I,n));return new $t(i,this._parents,e,n)};var fe=r(7579),Ai=r(727),Si=r(9751),Oi=r(9646),Ne=r(4968),Fo=r(590),Ii=r(8372);function Vo(e){return typeof e>"u"}function $o(e){if(Array.isArray(e)){for(var n=0,t=Array(e.length);n<e.length;n++)t[n]=e[n];return t}return Array.from(e)}function jo(e){return Array.isArray(e)?e:Array.from(e)}function Le(){for(var e=arguments.length,n=Array(e),t=0;t<e;t++)n[t]=arguments[t];var i=function(Z,j){return{a:Z.a*j.a+Z.c*j.b,c:Z.a*j.c+Z.c*j.d,e:Z.a*j.e+Z.c*j.f+Z.e,b:Z.b*j.a+Z.d*j.b,d:Z.b*j.c+Z.d*j.d,f:Z.b*j.e+Z.d*j.f+Z.f}};switch((n=Array.isArray(n[0])?n[0]:n).length){case 0:throw new Error("no matrices provided");case 1:return n[0];case 2:return i(n[0],n[1]);default:var p=n,x=jo(p),T=x[0],C=x[1],I=x.slice(2),F=i(T,C);return Le.apply(void 0,[F].concat($o(I)))}}function Li(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return{a:1,c:0,e,b:0,d:1,f:n}}"function"==typeof Symbol&&Symbol,Math,Math,Math,Math;class Di extends Map{constructor(n,t=ki){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=n)for(const[i,p]of n)this.set(i,p)}get(n){return super.get(Sn(this,n))}has(n){return super.has(Sn(this,n))}set(n,t){return super.set(function Fi({_intern:e,_key:n},t){const i=n(t);return e.has(i)?e.get(i):(e.set(i,t),t)}(this,n),t)}delete(n){return super.delete(function Pi({_intern:e,_key:n},t){const i=n(t);return e.has(i)&&(t=e.get(i),e.delete(i)),t}(this,n))}}function Sn({_intern:e,_key:n},t){const i=n(t);return e.has(i)?e.get(i):t}function ki(e){return null!==e&&"object"==typeof e?e.valueOf():e}function Xo(e,n){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(n).domain(e)}return this}Set;const Gi=Symbol("implicit");function Bi(){var e=new Di,n=[],t=[],i=Gi;function p(x){let T=e.get(x);if(void 0===T){if(i!==Gi)return i;e.set(x,T=n.push(x)-1)}return t[T%t.length]}return p.domain=function(x){if(!arguments.length)return n.slice();n=[],e=new Di;for(const T of x)e.has(T)||e.set(T,n.push(T)-1);return p},p.range=function(x){return arguments.length?(t=Array.from(x),p):t.slice()},p.unknown=function(x){return arguments.length?(i=x,p):i},p.copy=function(){return Bi(n,t).unknown(i)},Xo.apply(p,arguments),p}var pe=r(9695);function Jo(e,n){var t;function i(){var p,T,x=t.length,C=0,I=0;for(p=0;p<x;++p)C+=(T=t[p]).x,I+=T.y;for(C=C/x-e,I=I/x-n,p=0;p<x;++p)(T=t[p]).x-=C,T.y-=I}return null==e&&(e=0),null==n&&(n=0),i.initialize=function(p){t=p},i.x=function(p){return arguments.length?(e=+p,i):e},i.y=function(p){return arguments.length?(n=+p,i):n},i}function Tt(e){return function(){return e}}function Qt(){return 1e-6*(Math.random()-.5)}function Ri(e,n,t,i){if(isNaN(n)||isNaN(t))return e;var p,Z,j,q,nt,tt,ot,lt,dt,x=e._root,T={data:i},C=e._x0,I=e._y0,F=e._x1,V=e._y1;if(!x)return e._root=T,e;for(;x.length;)if((tt=n>=(Z=(C+F)/2))?C=Z:F=Z,(ot=t>=(j=(I+V)/2))?I=j:V=j,p=x,!(x=x[lt=ot<<1|tt]))return p[lt]=T,e;if(q=+e._x.call(null,x.data),nt=+e._y.call(null,x.data),n===q&&t===nt)return T.next=x,p?p[lt]=T:e._root=T,e;do{p=p?p[lt]=new Array(4):e._root=new Array(4),(tt=n>=(Z=(C+F)/2))?C=Z:F=Z,(ot=t>=(j=(I+V)/2))?I=j:V=j}while((lt=ot<<1|tt)==(dt=(nt>=j)<<1|q>=Z));return p[dt]=x,p[lt]=T,e}function Ot(e,n,t,i,p){this.node=e,this.x0=n,this.y0=t,this.x1=i,this.y1=p}function la(e){return e[0]}function ca(e){return e[1]}function On(e,n,t){var i=new In(n??la,t??ca,NaN,NaN,NaN,NaN);return null==e?i:i.addAll(e)}function In(e,n,t,i,p,x){this._x=e,this._y=n,this._x0=t,this._y0=i,this._x1=p,this._y1=x,this._root=void 0}function Hi(e){for(var n={data:e.data},t=n;e=e.next;)t=t.next={data:e.data};return n}var It=On.prototype=In.prototype;function da(e){return e.x+e.vx}function pa(e){return e.y+e.vy}function zi(e){var n,t,i=1,p=1;function x(){for(var I,V,Z,j,q,nt,tt,F=n.length,ot=0;ot<p;++ot)for(V=On(n,da,pa).visitAfter(T),I=0;I<F;++I)tt=(nt=t[(Z=n[I]).index])*nt,j=Z.x+Z.vx,q=Z.y+Z.vy,V.visit(lt);function lt(dt,ht,xt,wt,Mt){var Ct=dt.data,Ht=dt.r,At=nt+Ht;if(!Ct)return ht>j+At||wt<j-At||xt>q+At||Mt<q-At;if(Ct.index>Z.index){var qt=j-Ct.x-Ct.vx,te=q-Ct.y-Ct.vy,Wt=qt*qt+te*te;Wt<At*At&&(0===qt&&(Wt+=(qt=Qt())*qt),0===te&&(Wt+=(te=Qt())*te),Wt=(At-(Wt=Math.sqrt(Wt)))/Wt*i,Z.vx+=(qt*=Wt)*(At=(Ht*=Ht)/(tt+Ht)),Z.vy+=(te*=Wt)*At,Ct.vx-=qt*(At=1-At),Ct.vy-=te*At)}}}function T(I){if(I.data)return I.r=t[I.data.index];for(var F=I.r=0;F<4;++F)I[F]&&I[F].r>I.r&&(I.r=I[F].r)}function C(){if(n){var I,V,F=n.length;for(t=new Array(F),I=0;I<F;++I)t[(V=n[I]).index]=+e(V,I,n)}}return"function"!=typeof e&&(e=Tt(null==e?1:+e)),x.initialize=function(I){n=I,C()},x.iterations=function(I){return arguments.length?(p=+I,x):p},x.strength=function(I){return arguments.length?(i=+I,x):i},x.radius=function(I){return arguments.length?(e="function"==typeof I?I:Tt(+I),C(),x):e},x}It.copy=function(){var t,i,e=new In(this._x,this._y,this._x0,this._y0,this._x1,this._y1),n=this._root;if(!n)return e;if(!n.length)return e._root=Hi(n),e;for(t=[{source:n,target:e._root=new Array(4)}];n=t.pop();)for(var p=0;p<4;++p)(i=n.source[p])&&(i.length?t.push({source:i,target:n.target[p]=new Array(4)}):n.target[p]=Hi(i));return e},It.add=function Ko(e){var n=+this._x.call(null,e),t=+this._y.call(null,e);return Ri(this.cover(n,t),n,t,e)},It.addAll=function Qo(e){var n,t,p,x,i=e.length,T=new Array(i),C=new Array(i),I=1/0,F=1/0,V=-1/0,Z=-1/0;for(t=0;t<i;++t)isNaN(p=+this._x.call(null,n=e[t]))||isNaN(x=+this._y.call(null,n))||(T[t]=p,C[t]=x,p<I&&(I=p),p>V&&(V=p),x<F&&(F=x),x>Z&&(Z=x));if(I>V||F>Z)return this;for(this.cover(I,F).cover(V,Z),t=0;t<i;++t)Ri(this,T[t],C[t],e[t]);return this},It.cover=function qo(e,n){if(isNaN(e=+e)||isNaN(n=+n))return this;var t=this._x0,i=this._y0,p=this._x1,x=this._y1;if(isNaN(t))p=(t=Math.floor(e))+1,x=(i=Math.floor(n))+1;else{for(var I,F,T=p-t,C=this._root;t>e||e>=p||i>n||n>=x;)switch(F=(n<i)<<1|e<t,I=new Array(4),I[F]=C,C=I,T*=2,F){case 0:p=t+T,x=i+T;break;case 1:t=p-T,x=i+T;break;case 2:p=t+T,i=x-T;break;case 3:t=p-T,i=x-T}this._root&&this._root.length&&(this._root=C)}return this._x0=t,this._y0=i,this._x1=p,this._y1=x,this},It.data=function ta(){var e=[];return this.visit(function(n){if(!n.length)do{e.push(n.data)}while(n=n.next)}),e},It.extent=function ea(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},It.find=function na(e,n,t){var i,T,C,I,F,nt,tt,p=this._x0,x=this._y0,V=this._x1,Z=this._y1,j=[],q=this._root;for(q&&j.push(new Ot(q,p,x,V,Z)),null==t?t=1/0:(p=e-t,x=n-t,V=e+t,Z=n+t,t*=t);nt=j.pop();)if(!(!(q=nt.node)||(T=nt.x0)>V||(C=nt.y0)>Z||(I=nt.x1)<p||(F=nt.y1)<x))if(q.length){var ot=(T+I)/2,lt=(C+F)/2;j.push(new Ot(q[3],ot,lt,I,F),new Ot(q[2],T,lt,ot,F),new Ot(q[1],ot,C,I,lt),new Ot(q[0],T,C,ot,lt)),(tt=(n>=lt)<<1|e>=ot)&&(nt=j[j.length-1],j[j.length-1]=j[j.length-1-tt],j[j.length-1-tt]=nt)}else{var dt=e-+this._x.call(null,q.data),ht=n-+this._y.call(null,q.data),xt=dt*dt+ht*ht;if(xt<t){var wt=Math.sqrt(t=xt);p=e-wt,x=n-wt,V=e+wt,Z=n+wt,i=q.data}}return i},It.remove=function ia(e){if(isNaN(V=+this._x.call(null,e))||isNaN(Z=+this._y.call(null,e)))return this;var n,i,p,x,V,Z,j,q,nt,tt,ot,lt,t=this._root,T=this._x0,C=this._y0,I=this._x1,F=this._y1;if(!t)return this;if(t.length)for(;;){if((nt=V>=(j=(T+I)/2))?T=j:I=j,(tt=Z>=(q=(C+F)/2))?C=q:F=q,n=t,!(t=t[ot=tt<<1|nt]))return this;if(!t.length)break;(n[ot+1&3]||n[ot+2&3]||n[ot+3&3])&&(i=n,lt=ot)}for(;t.data!==e;)if(p=t,!(t=t.next))return this;return(x=t.next)&&delete t.next,p?(x?p.next=x:delete p.next,this):n?(x?n[ot]=x:delete n[ot],(t=n[0]||n[1]||n[2]||n[3])&&t===(n[3]||n[2]||n[1]||n[0])&&!t.length&&(i?i[lt]=t:this._root=t),this):(this._root=x,this)},It.removeAll=function ra(e){for(var n=0,t=e.length;n<t;++n)this.remove(e[n]);return this},It.root=function sa(){return this._root},It.size=function oa(){var e=0;return this.visit(function(n){if(!n.length)do{++e}while(n=n.next)}),e},It.visit=function aa(e){var t,p,x,T,C,I,n=[],i=this._root;for(i&&n.push(new Ot(i,this._x0,this._y0,this._x1,this._y1));t=n.pop();)if(!e(i=t.node,x=t.x0,T=t.y0,C=t.x1,I=t.y1)&&i.length){var F=(x+C)/2,V=(T+I)/2;(p=i[3])&&n.push(new Ot(p,F,V,C,I)),(p=i[2])&&n.push(new Ot(p,x,V,F,I)),(p=i[1])&&n.push(new Ot(p,F,T,C,V)),(p=i[0])&&n.push(new Ot(p,x,T,F,V))}return this},It.visitAfter=function ua(e){var i,n=[],t=[];for(this._root&&n.push(new Ot(this._root,this._x0,this._y0,this._x1,this._y1));i=n.pop();){var p=i.node;if(p.length){var x,T=i.x0,C=i.y0,I=i.x1,F=i.y1,V=(T+I)/2,Z=(C+F)/2;(x=p[0])&&n.push(new Ot(x,T,C,V,Z)),(x=p[1])&&n.push(new Ot(x,V,C,I,Z)),(x=p[2])&&n.push(new Ot(x,T,Z,V,F)),(x=p[3])&&n.push(new Ot(x,V,Z,I,F))}t.push(i)}for(;i=t.pop();)e(i.node,i.x0,i.y0,i.x1,i.y1);return this},It.x=function ha(e){return arguments.length?(this._x=e,this):this._x},It.y=function fa(e){return arguments.length?(this._y=e,this):this._y};var Ft="$";function en(){}function Vi(e,n){var t=new en;if(e instanceof en)e.each(function(C,I){t.set(I,C)});else if(Array.isArray(e)){var x,i=-1,p=e.length;if(null==n)for(;++i<p;)t.set(i,e[i]);else for(;++i<p;)t.set(n(x=e[i],i,e),x)}else if(e)for(var T in e)t.set(T,e[T]);return t}en.prototype=Vi.prototype={constructor:en,has:function(e){return Ft+e in this},get:function(e){return this[Ft+e]},set:function(e,n){return this[Ft+e]=n,this},remove:function(e){var n=Ft+e;return n in this&&delete this[n]},clear:function(){for(var e in this)e[0]===Ft&&delete this[e]},keys:function(){var e=[];for(var n in this)n[0]===Ft&&e.push(n.slice(1));return e},values:function(){var e=[];for(var n in this)n[0]===Ft&&e.push(this[n]);return e},entries:function(){var e=[];for(var n in this)n[0]===Ft&&e.push({key:n.slice(1),value:this[n]});return e},size:function(){var e=0;for(var n in this)n[0]===Ft&&++e;return e},empty:function(){for(var e in this)if(e[0]===Ft)return!1;return!0},each:function(e){for(var n in this)n[0]===Ft&&e(this[n],n.slice(1),this)}};const Mn=Vi;function nn(){}var re=Mn.prototype;function ya(e){return e.index}function Zi(e,n){var t=e.get(n);if(!t)throw new Error("missing: "+n);return t}function $i(e){var i,x,T,C,I,n=ya,t=function V(tt){return 1/Math.min(C[tt.source.index],C[tt.target.index])},p=Tt(30),F=1;function Z(tt){for(var ot=0,lt=e.length;ot<F;++ot)for(var ht,xt,wt,Mt,Ct,Ht,At,dt=0;dt<lt;++dt)Mt=(wt=(ht=e[dt]).target).x+wt.vx-(xt=ht.source).x-xt.vx||Qt(),Ct=wt.y+wt.vy-xt.y-xt.vy||Qt(),Ct*=Ht=((Ht=Math.sqrt(Mt*Mt+Ct*Ct))-x[dt])/Ht*tt*i[dt],wt.vx-=(Mt*=Ht)*(At=I[dt]),wt.vy-=Ct*At,xt.vx+=Mt*(At=1-At),xt.vy+=Ct*At}function j(){if(T){var tt,ht,ot=T.length,lt=e.length,dt=Mn(T,n);for(tt=0,C=new Array(ot);tt<lt;++tt)(ht=e[tt]).index=tt,"object"!=typeof ht.source&&(ht.source=Zi(dt,ht.source)),"object"!=typeof ht.target&&(ht.target=Zi(dt,ht.target)),C[ht.source.index]=(C[ht.source.index]||0)+1,C[ht.target.index]=(C[ht.target.index]||0)+1;for(tt=0,I=new Array(lt);tt<lt;++tt)I[tt]=C[(ht=e[tt]).source.index]/(C[ht.source.index]+C[ht.target.index]);i=new Array(lt),q(),x=new Array(lt),nt()}}function q(){if(T)for(var tt=0,ot=e.length;tt<ot;++tt)i[tt]=+t(e[tt],tt,e)}function nt(){if(T)for(var tt=0,ot=e.length;tt<ot;++tt)x[tt]=+p(e[tt],tt,e)}return null==e&&(e=[]),Z.initialize=function(tt){T=tt,j()},Z.links=function(tt){return arguments.length?(e=tt,j(),Z):e},Z.id=function(tt){return arguments.length?(n=tt,Z):n},Z.iterations=function(tt){return arguments.length?(F=+tt,Z):F},Z.strength=function(tt){return arguments.length?(t="function"==typeof tt?tt:Tt(+tt),q(),Z):t},Z.distance=function(tt){return arguments.length?(p="function"==typeof tt?tt:Tt(+tt),nt(),Z):p},Z}function xa(e){return e.x}function _a(e){return e.y}nn.prototype=function va(e,n){var t=new nn;if(e instanceof nn)e.each(function(x){t.add(x)});else if(e){var i=-1,p=e.length;if(null==n)for(;++i<p;)t.add(e[i]);else for(;++i<p;)t.add(n(e[i],i,e))}return t}.prototype={constructor:nn,has:re.has,add:function(e){return this[Ft+(e+="")]=e,this},remove:re.remove,clear:re.clear,values:re.keys,size:re.size,empty:re.empty,each:re.each};var wa=Math.PI*(3-Math.sqrt(5));function ji(e){var n,t=1,i=.001,p=1-Math.pow(i,1/300),x=0,T=.6,C=Mn(),I=je(V),F=fn("tick","end");function V(){Z(),F.call("tick",n),t<i&&(I.stop(),F.call("end",n))}function Z(nt){var tt,lt,ot=e.length;void 0===nt&&(nt=1);for(var dt=0;dt<nt;++dt)for(t+=(x-t)*p,C.each(function(ht){ht(t)}),tt=0;tt<ot;++tt)null==(lt=e[tt]).fx?lt.x+=lt.vx*=T:(lt.x=lt.fx,lt.vx=0),null==lt.fy?lt.y+=lt.vy*=T:(lt.y=lt.fy,lt.vy=0);return n}function j(){for(var ot,nt=0,tt=e.length;nt<tt;++nt){if((ot=e[nt]).index=nt,null!=ot.fx&&(ot.x=ot.fx),null!=ot.fy&&(ot.y=ot.fy),isNaN(ot.x)||isNaN(ot.y)){var lt=10*Math.sqrt(nt),dt=nt*wa;ot.x=lt*Math.cos(dt),ot.y=lt*Math.sin(dt)}(isNaN(ot.vx)||isNaN(ot.vy))&&(ot.vx=ot.vy=0)}}function q(nt){return nt.initialize&&nt.initialize(e),nt}return null==e&&(e=[]),j(),n={tick:Z,restart:function(){return I.restart(V),n},stop:function(){return I.stop(),n},nodes:function(nt){return arguments.length?(e=nt,j(),C.each(q),n):e},alpha:function(nt){return arguments.length?(t=+nt,n):t},alphaMin:function(nt){return arguments.length?(i=+nt,n):i},alphaDecay:function(nt){return arguments.length?(p=+nt,n):+p},alphaTarget:function(nt){return arguments.length?(x=+nt,n):x},velocityDecay:function(nt){return arguments.length?(T=1-nt,n):1-T},force:function(nt,tt){return arguments.length>1?(null==tt?C.remove(nt):C.set(nt,q(tt)),n):C.get(nt)},find:function(nt,tt,ot){var ht,xt,wt,Mt,Ct,lt=0,dt=e.length;for(null==ot?ot=1/0:ot*=ot,lt=0;lt<dt;++lt)(wt=(ht=nt-(Mt=e[lt]).x)*ht+(xt=tt-Mt.y)*xt)<ot&&(Ct=Mt,ot=wt);return Ct},on:function(nt,tt){return arguments.length>1?(F.on(nt,tt),n):F.on(nt)}}}function Wi(){var e,n,t,p,i=Tt(-30),x=1,T=1/0,C=.81;function I(j){var q,nt=e.length,tt=On(e,xa,_a).visitAfter(V);for(t=j,q=0;q<nt;++q)n=e[q],tt.visit(Z)}function F(){if(e){var j,nt,q=e.length;for(p=new Array(q),j=0;j<q;++j)p[(nt=e[j]).index]=+i(nt,j,e)}}function V(j){var nt,tt,lt,dt,ht,q=0,ot=0;if(j.length){for(lt=dt=ht=0;ht<4;++ht)(nt=j[ht])&&(tt=Math.abs(nt.value))&&(q+=nt.value,ot+=tt,lt+=tt*nt.x,dt+=tt*nt.y);j.x=lt/ot,j.y=dt/ot}else{(nt=j).x=nt.data.x,nt.y=nt.data.y;do{q+=p[nt.data.index]}while(nt=nt.next)}j.value=q}function Z(j,q,nt,tt){if(!j.value)return!0;var ot=j.x-n.x,lt=j.y-n.y,dt=tt-q,ht=ot*ot+lt*lt;if(dt*dt/C<ht)return ht<T&&(0===ot&&(ht+=(ot=Qt())*ot),0===lt&&(ht+=(lt=Qt())*lt),ht<x&&(ht=Math.sqrt(x*ht)),n.vx+=ot*j.value*t/ht,n.vy+=lt*j.value*t/ht),!0;if(!(j.length||ht>=T)){(j.data!==n||j.next)&&(0===ot&&(ht+=(ot=Qt())*ot),0===lt&&(ht+=(lt=Qt())*lt),ht<x&&(ht=Math.sqrt(x*ht)));do{j.data!==n&&(n.vx+=ot*(dt=p[j.data.index]*t/ht),n.vy+=lt*dt)}while(j=j.next)}}return I.initialize=function(j){e=j,F()},I.strength=function(j){return arguments.length?(i="function"==typeof j?j:Tt(+j),F(),I):i},I.distanceMin=function(j){return arguments.length?(x=j*j,I):Math.sqrt(x)},I.distanceMax=function(j){return arguments.length?(T=j*j,I):Math.sqrt(T)},I.theta=function(j){return arguments.length?(C=j*j,I):Math.sqrt(C)},I}function Ea(e,n,t){var i,x,T,p=Tt(.1);function C(F){for(var V=0,Z=i.length;V<Z;++V){var j=i[V],q=j.x-n||1e-6,nt=j.y-t||1e-6,tt=Math.sqrt(q*q+nt*nt),ot=(T[V]-tt)*x[V]*F/tt;j.vx+=q*ot,j.vy+=nt*ot}}function I(){if(i){var F,V=i.length;for(x=new Array(V),T=new Array(V),F=0;F<V;++F)T[F]=+e(i[F],F,i),x[F]=isNaN(T[F])?0:+p(i[F],F,i)}}return"function"!=typeof e&&(e=Tt(+e)),null==n&&(n=0),null==t&&(t=0),C.initialize=function(F){i=F,I()},C.strength=function(F){return arguments.length?(p="function"==typeof F?F:Tt(+F),I(),C):p},C.radius=function(F){return arguments.length?(e="function"==typeof F?F:Tt(+F),I(),C):e},C.x=function(F){return arguments.length?(n=+F,C):n},C.y=function(F){return arguments.length?(t=+F,C):t},C}function Ta(e){var t,i,p,n=Tt(.1);function x(C){for(var V,I=0,F=t.length;I<F;++I)(V=t[I]).vx+=(p[I]-V.x)*i[I]*C}function T(){if(t){var C,I=t.length;for(i=new Array(I),p=new Array(I),C=0;C<I;++C)i[C]=isNaN(p[C]=+e(t[C],C,t))?0:+n(t[C],C,t)}}return"function"!=typeof e&&(e=Tt(null==e?0:+e)),x.initialize=function(C){t=C,T()},x.strength=function(C){return arguments.length?(n="function"==typeof C?C:Tt(+C),T(),x):n},x.x=function(C){return arguments.length?(e="function"==typeof C?C:Tt(+C),T(),x):e},x}function Ca(e){var t,i,p,n=Tt(.1);function x(C){for(var V,I=0,F=t.length;I<F;++I)(V=t[I]).vy+=(p[I]-V.y)*i[I]*C}function T(){if(t){var C,I=t.length;for(i=new Array(I),p=new Array(I),C=0;C<I;++C)i[C]=isNaN(p[C]=+e(t[C],C,t))?0:+n(t[C],C,t)}}return"function"!=typeof e&&(e=Tt(null==e?0:+e)),x.initialize=function(C){t=C,T()},x.strength=function(C){return arguments.length?(n="function"==typeof C?C:Tt(+C),T(),x):n},x.y=function(C){return arguments.length?(e="function"==typeof C?C:Tt(+C),T(),x):e},x}var Aa=r(7824);function Sa(e,n,t){var i=new Ce,p=n;return null==n?(i.restart(e,n,t),i):(n=+n,t=null==t?le():+t,i.restart(function x(T){T+=p,i.restart(x,p+=n,t),e(T)},n,t),i)}const Oa=["linkTemplate"],Ia=["nodeTemplate"],Ma=["clusterTemplate"],Na=["defsTemplate"],La=["miniMapNodeTemplate"],Da=["nodeElement"],Fa=["linkElement"];function Pa(e,n){if(1&e&&(s.O4$(),s.GkF(0,14)),2&e){const t=s.oxw(2);s.Q6J("ngTemplateOutlet",t.defsTemplate)}}function ka(e,n){if(1&e&&(s.O4$(),s._UZ(0,"path",15)),2&e){const t=n.$implicit;s.uIk("d",t.textPath)("id",t.id)}}const De=function(e){return{$implicit:e}};function Ga(e,n){if(1&e&&(s.O4$(),s.GkF(0,20)),2&e){const t=s.oxw().$implicit,i=s.oxw(2);s.Q6J("ngTemplateOutlet",i.clusterTemplate)("ngTemplateOutletContext",s.VKq(2,De,t))}}function Ba(e,n){if(1&e&&(s.O4$(),s.TgZ(0,"g",21),s._UZ(1,"rect"),s.TgZ(2,"text",22),s._uU(3),s.qZA()()),2&e){const t=s.oxw().$implicit;s.xp6(1),s.uIk("width",t.dimension.width)("height",t.dimension.height)("fill",null==t.data?null:t.data.color),s.xp6(1),s.uIk("x",10)("y",t.dimension.height/2),s.xp6(1),s.hij(" ",t.label," ")}}function Ra(e,n){if(1&e){const t=s.EpF();s.O4$(),s.TgZ(0,"g",16,17),s.NdJ("click",function(){const x=s.CHM(t).$implicit,T=s.oxw(2);return s.KtG(T.onClick(x))}),s.YNc(2,Ga,1,4,"ng-container",18),s.YNc(3,Ba,4,6,"g",19),s.qZA()}if(2&e){const t=n.$implicit,i=s.oxw(2);s.ekj("old-node",i.animate&&i.oldClusters.has(t.id)),s.Q6J("id",t.id),s.uIk("transform",t.transform),s.xp6(2),s.Q6J("ngIf",i.clusterTemplate),s.xp6(1),s.Q6J("ngIf",!i.clusterTemplate)}}function Ha(e,n){if(1&e&&(s.O4$(),s.GkF(0,20)),2&e){const t=s.oxw().$implicit,i=s.oxw(2);s.Q6J("ngTemplateOutlet",i.linkTemplate)("ngTemplateOutletContext",s.VKq(2,De,t))}}function za(e,n){if(1&e&&(s.O4$(),s._UZ(0,"path",26)),2&e){const t=s.oxw().$implicit;s.uIk("d",t.line)}}function Va(e,n){if(1&e&&(s.O4$(),s.TgZ(0,"g",23,24),s.YNc(2,Ha,1,4,"ng-container",18),s.YNc(3,za,1,1,"path",25),s.qZA()),2&e){const t=n.$implicit,i=s.oxw(2);s.Q6J("id",t.id),s.xp6(2),s.Q6J("ngIf",i.linkTemplate),s.xp6(1),s.Q6J("ngIf",!i.linkTemplate)}}function Ya(e,n){if(1&e&&(s.O4$(),s.GkF(0,20)),2&e){const t=s.oxw().$implicit,i=s.oxw(2);s.Q6J("ngTemplateOutlet",i.nodeTemplate)("ngTemplateOutletContext",s.VKq(2,De,t))}}function Ua(e,n){if(1&e&&(s.O4$(),s._UZ(0,"circle",30)),2&e){const t=s.oxw().$implicit;s.uIk("cx",t.dimension.width/2)("cy",t.dimension.height/2)("fill",null==t.data?null:t.data.color)}}function Za(e,n){if(1&e){const t=s.EpF();s.O4$(),s.TgZ(0,"g",27,28),s.NdJ("click",function(){const x=s.CHM(t).$implicit,T=s.oxw(2);return s.KtG(T.onClick(x))})("mousedown",function(p){const T=s.CHM(t).$implicit,C=s.oxw(2);return s.KtG(C.onNodeMouseDown(p,T))}),s.YNc(2,Ya,1,4,"ng-container",18),s.YNc(3,Ua,1,3,"circle",29),s.qZA()}if(2&e){const t=n.$implicit,i=s.oxw(2);s.ekj("old-node",i.animate&&i.oldNodes.has(t.id)),s.Q6J("id",t.id),s.uIk("transform",t.transform),s.xp6(2),s.Q6J("ngIf",i.nodeTemplate),s.xp6(1),s.Q6J("ngIf",!i.nodeTemplate)}}function $a(e,n){if(1&e){const t=s.EpF();s.O4$(),s.TgZ(0,"g",4),s.NdJ("touchstart",function(p){s.CHM(t);const x=s.oxw();return s.KtG(x.onTouchStart(p))})("touchend",function(p){s.CHM(t);const x=s.oxw();return s.KtG(x.onTouchEnd(p))}),s.TgZ(1,"defs"),s.YNc(2,Pa,1,1,"ng-container",5),s.YNc(3,ka,1,2,"path",6),s.qZA(),s.TgZ(4,"rect",7),s.NdJ("mousedown",function(){s.CHM(t);const p=s.oxw();return s.KtG(p.isPanning=!0)}),s.qZA(),s.Hsn(5),s.TgZ(6,"g",8),s.YNc(7,Ra,4,6,"g",9),s.qZA(),s.TgZ(8,"g",10),s.YNc(9,Va,4,3,"g",11),s.qZA(),s.TgZ(10,"g",12),s.YNc(11,Za,4,6,"g",13),s.qZA()()}if(2&e){const t=s.oxw();s.uIk("transform",t.transform),s.xp6(2),s.Q6J("ngIf",t.defsTemplate),s.xp6(1),s.Q6J("ngForOf",t.graph.edges),s.xp6(1),s.uIk("width",100*t.dims.width)("height",100*t.dims.height)("transform","translate("+50*(-t.dims.width||0)+","+50*(-t.dims.height||0)+")"),s.xp6(3),s.Q6J("ngForOf",t.graph.clusters)("ngForTrackBy",t.trackNodeBy),s.xp6(2),s.Q6J("ngForOf",t.graph.edges)("ngForTrackBy",t.trackLinkBy),s.xp6(2),s.Q6J("ngForOf",t.graph.nodes)("ngForTrackBy",t.trackNodeBy)}}function ja(e,n){if(1&e&&(s.O4$(),s.GkF(0,20)),2&e){const t=s.oxw().$implicit,i=s.oxw(2);s.Q6J("ngTemplateOutlet",i.miniMapNodeTemplate)("ngTemplateOutletContext",s.VKq(2,De,t))}}function Wa(e,n){if(1&e&&(s.O4$(),s.GkF(0,20)),2&e){const t=s.oxw().$implicit,i=s.oxw(2);s.Q6J("ngTemplateOutlet",i.nodeTemplate)("ngTemplateOutletContext",s.VKq(2,De,t))}}function Xa(e,n){if(1&e&&(s.O4$(),s._UZ(0,"circle",30)),2&e){const t=s.oxw().$implicit,i=s.oxw(2);s.uIk("cx",t.dimension.width/2/i.minimapScaleCoefficient)("cy",t.dimension.height/2/i.minimapScaleCoefficient)("fill",null==t.data?null:t.data.color)}}function Ja(e,n){if(1&e&&(s.O4$(),s.TgZ(0,"g",36,28),s.YNc(2,ja,1,4,"ng-container",18),s.YNc(3,Wa,1,4,"ng-container",18),s.YNc(4,Xa,1,3,"circle",29),s.qZA()),2&e){const t=n.$implicit,i=s.oxw(2);s.ekj("old-node",i.animate&&i.oldNodes.has(t.id)),s.Q6J("id",t.id),s.uIk("transform",t.transform),s.xp6(2),s.Q6J("ngIf",i.miniMapNodeTemplate),s.xp6(1),s.Q6J("ngIf",!i.miniMapNodeTemplate&&i.nodeTemplate),s.xp6(1),s.Q6J("ngIf",!i.nodeTemplate&&!i.miniMapNodeTemplate)}}function Ka(e,n){if(1&e){const t=s.EpF();s.O4$(),s.TgZ(0,"g",31)(1,"rect",32),s.NdJ("mousedown",function(p){s.CHM(t);const x=s.oxw();return s.KtG(x.onMinimapPanTo(p))}),s.qZA(),s.TgZ(2,"g")(3,"g",33),s.YNc(4,Ja,5,7,"g",34),s.qZA(),s.TgZ(5,"rect",35),s.NdJ("mousedown",function(){s.CHM(t);const p=s.oxw();return s.KtG(p.onMinimapDragMouseDown())}),s.qZA()()()}if(2&e){const t=s.oxw();s.uIk("transform",t.minimapTransform)("clip-path","url(#"+t.minimapClipPathId+")"),s.xp6(1),s.uIk("width",t.graphDims.width/t.minimapScaleCoefficient)("height",t.graphDims.height/t.minimapScaleCoefficient),s.xp6(1),s.Udp("transform","translate("+-t.minimapOffsetX/t.minimapScaleCoefficient+"px,"+-t.minimapOffsetY/t.minimapScaleCoefficient+"px)"),s.xp6(1),s.Udp("transform","scale("+1/t.minimapScaleCoefficient+")"),s.xp6(1),s.Q6J("ngForOf",t.graph.nodes)("ngForTrackBy",t.trackNodeBy),s.xp6(1),s.ekj("panning",t.isMinimapPanning),s.uIk("transform","translate("+t.panOffsetX/t.zoomLevel/-t.minimapScaleCoefficient+","+t.panOffsetY/t.zoomLevel/-t.minimapScaleCoefficient+")")("width",t.width/t.minimapScaleCoefficient/t.zoomLevel)("height",t.height/t.minimapScaleCoefficient/t.zoomLevel)}}const Qa=["*"],Xi={};function jt(){let e=("0000"+(Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4);return e=`a${e}`,Xi[e]?jt():(Xi[e]=!0,e)}var ge=(()=>{return(e=ge||(ge={})).Both="both",e.Horizontal="horizontal",e.Vertical="vertical",ge;var e})(),me=(()=>{return(e=me||(me={})).UpperLeft="UpperLeft",e.UpperRight="UpperRight",me;var e})();function qa(e,n,t){t=t||{};let i,p,x,T=null,C=0;function I(){C=!1===t.leading?0:+new Date,T=null,x=e.apply(i,p)}return function(...F){const V=+new Date;!C&&!1===t.leading&&(C=V);const Z=n-(V-C);return i=this,p=F,Z<=0?(clearTimeout(T),T=null,C=V,x=e.apply(i,p)):!T&&!1!==t.trailing&&(T=setTimeout(I,Z)),x}}function tu(e,n){return function(i,p,x){return{configurable:!0,enumerable:x.enumerable,get:function(){return Object.defineProperty(this,p,{configurable:!0,enumerable:x.enumerable,value:qa(x.value,e,n)}),this[p]}}}}const Ji=[{name:"vivid",selectable:!0,group:"Ordinal",domain:["#647c8a","#3f51b5","#2196f3","#00b862","#afdf0a","#a7b61a","#f3e562","#ff9800","#ff5722","#ff4514"]},{name:"natural",selectable:!0,group:"Ordinal",domain:["#bf9d76","#e99450","#d89f59","#f2dfa7","#a5d7c6","#7794b1","#afafaf","#707160","#ba9383","#d9d5c3"]},{name:"cool",selectable:!0,group:"Ordinal",domain:["#a8385d","#7aa3e5","#a27ea8","#aae3f5","#adcded","#a95963","#8796c0","#7ed3ed","#50abcc","#ad6886"]},{name:"fire",selectable:!0,group:"Ordinal",domain:["#ff3d00","#bf360c","#ff8f00","#ff6f00","#ff5722","#e65100","#ffca28","#ffab00"]},{name:"solar",selectable:!0,group:"Continuous",domain:["#fff8e1","#ffecb3","#ffe082","#ffd54f","#ffca28","#ffc107","#ffb300","#ffa000","#ff8f00","#ff6f00"]},{name:"air",selectable:!0,group:"Continuous",domain:["#e1f5fe","#b3e5fc","#81d4fa","#4fc3f7","#29b6f6","#03a9f4","#039be5","#0288d1","#0277bd","#01579b"]},{name:"aqua",selectable:!0,group:"Continuous",domain:["#e0f7fa","#b2ebf2","#80deea","#4dd0e1","#26c6da","#00bcd4","#00acc1","#0097a7","#00838f","#006064"]},{name:"flame",selectable:!1,group:"Ordinal",domain:["#A10A28","#D3342D","#EF6D49","#FAAD67","#FDDE90","#DBED91","#A9D770","#6CBA67","#2C9653","#146738"]},{name:"ocean",selectable:!1,group:"Ordinal",domain:["#1D68FB","#33C0FC","#4AFFFE","#AFFFFF","#FFFC63","#FDBD2D","#FC8A25","#FA4F1E","#FA141B","#BA38D1"]},{name:"forest",selectable:!1,group:"Ordinal",domain:["#55C22D","#C1F33D","#3CC099","#AFFFFF","#8CFC9D","#76CFFA","#BA60FB","#EE6490","#C42A1C","#FC9F32"]},{name:"horizon",selectable:!1,group:"Ordinal",domain:["#2597FB","#65EBFD","#99FDD0","#FCEE4B","#FEFCFA","#FDD6E3","#FCB1A8","#EF6F7B","#CB96E8","#EFDEE0"]},{name:"neons",selectable:!1,group:"Ordinal",domain:["#FF3333","#FF33FF","#CC33FF","#0000FF","#33CCFF","#33FFFF","#33FF66","#CCFF33","#FFCC00","#FF6600"]},{name:"picnic",selectable:!1,group:"Ordinal",domain:["#FAC51D","#66BD6D","#FAA026","#29BB9C","#E96B56","#55ACD2","#B7332F","#2C83C9","#9166B8","#92E7E8"]},{name:"night",selectable:!1,group:"Ordinal",domain:["#2B1B5A","#501356","#183356","#28203F","#391B3C","#1E2B3C","#120634","#2D0432","#051932","#453080","#75267D","#2C507D","#4B3880","#752F7D","#35547D"]},{name:"nightLights",selectable:!1,group:"Ordinal",domain:["#4e31a5","#9c25a7","#3065ab","#57468b","#904497","#46648b","#32118d","#a00fb3","#1052a2","#6e51bd","#b63cc3","#6c97cb","#8671c1","#b455be","#7496c3"]}];class eu{constructor(n,t,i){"string"==typeof n&&(n=Ji.find(p=>p.name===n)),this.colorDomain=n.domain,this.domain=t,this.customColors=i,this.scale=this.generateColorScheme(n,this.domain)}generateColorScheme(n,t){return"string"==typeof n&&(n=Ji.find(i=>i.name===n)),Bi().range(n.domain).domain(t)}getColor(n){if(null==n)throw new Error("Value can not be null");if("function"==typeof this.customColors)return this.customColors(n);const t=n.toString();let i;return this.customColors&&this.customColors.length>0&&(i=this.customColors.find(p=>p.name.toLowerCase()===t.toLowerCase())),i?i.value:this.scale(n)}}let iu=(()=>{class e{constructor(t,i){this.element=t,this.zone=i,this.visible=new s.vpe,this.isVisible=!1,this.runCheck()}destroy(){clearTimeout(this.timeout)}onVisibilityChange(){this.zone.run(()=>{this.isVisible=!0,this.visible.emit(!0)})}runCheck(){const t=()=>{if(!this.element)return;const{offsetHeight:i,offsetWidth:p}=this.element.nativeElement;i&&p?(clearTimeout(this.timeout),this.onVisibilityChange()):(clearTimeout(this.timeout),this.zone.runOutsideAngular(()=>{this.timeout=setTimeout(()=>t(),100)}))};this.zone.runOutsideAngular(()=>{this.timeout=setTimeout(()=>t())})}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(s.SBq),s.Y36(s.R0b))},e.\u0275dir=s.lG2({type:e,selectors:[["visibility-observer"]],outputs:{visible:"visible"}}),e})();var ve=(()=>{return(e=ve||(ve={})).LEFT_TO_RIGHT="LR",e.RIGHT_TO_LEFT="RL",e.TOP_TO_BOTTOM="TB",e.BOTTOM_TO_TOM="BT",ve;var e})();function ye(e){return"string"==typeof e?{id:e,x:0,y:0}:e}function Qi(e,n){return"number"==typeof n?e[n]:n}const qi={dagre:class ru{constructor(){this.defaultSettings={orientation:ve.LEFT_TO_RIGHT,marginX:20,marginY:20,edgePadding:100,rankPadding:100,nodePadding:50,multigraph:!0,compound:!0},this.settings={}}run(n){this.createDagreGraph(n),pe.layout(this.dagreGraph),n.edgeLabels=this.dagreGraph._edgeLabels;for(const t in this.dagreGraph._nodes){const i=this.dagreGraph._nodes[t],p=n.nodes.find(x=>x.id===i.id);p.position={x:i.x,y:i.y},p.dimension={width:i.width,height:i.height}}return n}updateEdge(n,t){const i=n.nodes.find(I=>I.id===t.source),p=n.nodes.find(I=>I.id===t.target),x=i.position.y<=p.position.y?-1:1;return t.points=[{x:i.position.x,y:i.position.y-x*(i.dimension.height/2)},{x:p.position.x,y:p.position.y+x*(p.dimension.height/2)}],n}createDagreGraph(n){const t=Object.assign({},this.defaultSettings,this.settings);this.dagreGraph=new pe.graphlib.Graph({compound:t.compound,multigraph:t.multigraph}),this.dagreGraph.setGraph({rankdir:t.orientation,marginx:t.marginX,marginy:t.marginY,edgesep:t.edgePadding,ranksep:t.rankPadding,nodesep:t.nodePadding,align:t.align,acyclicer:t.acyclicer,ranker:t.ranker,multigraph:t.multigraph,compound:t.compound}),this.dagreGraph.setDefaultEdgeLabel(()=>({})),this.dagreNodes=n.nodes.map(i=>{const p=Object.assign({},i);return p.width=i.dimension.width,p.height=i.dimension.height,p.x=i.position.x,p.y=i.position.y,p}),this.dagreEdges=n.edges.map(i=>{const p=Object.assign({},i);return p.id||(p.id=jt()),p});for(const i of this.dagreNodes)i.width||(i.width=20),i.height||(i.height=30),this.dagreGraph.setNode(i.id,i);for(const i of this.dagreEdges)t.multigraph?this.dagreGraph.setEdge(i.source,i.target,i,i.id):this.dagreGraph.setEdge(i.source,i.target);return this.dagreGraph}},dagreCluster:class su{constructor(){this.defaultSettings={orientation:ve.LEFT_TO_RIGHT,marginX:20,marginY:20,edgePadding:100,rankPadding:100,nodePadding:50,multigraph:!0,compound:!0},this.settings={}}run(n){this.createDagreGraph(n),pe.layout(this.dagreGraph),n.edgeLabels=this.dagreGraph._edgeLabels;const t=i=>{const p=this.dagreGraph._nodes[i.id];return{...i,position:{x:p.x,y:p.y},dimension:{width:p.width,height:p.height}}};return n.clusters=(n.clusters||[]).map(t),n.nodes=n.nodes.map(t),n}updateEdge(n,t){const i=n.nodes.find(I=>I.id===t.source),p=n.nodes.find(I=>I.id===t.target),x=i.position.y<=p.position.y?-1:1;return t.points=[{x:i.position.x,y:i.position.y-x*(i.dimension.height/2)},{x:p.position.x,y:p.position.y+x*(p.dimension.height/2)}],n}createDagreGraph(n){const t=Object.assign({},this.defaultSettings,this.settings);this.dagreGraph=new pe.graphlib.Graph({compound:t.compound,multigraph:t.multigraph}),this.dagreGraph.setGraph({rankdir:t.orientation,marginx:t.marginX,marginy:t.marginY,edgesep:t.edgePadding,ranksep:t.rankPadding,nodesep:t.nodePadding,align:t.align,acyclicer:t.acyclicer,ranker:t.ranker,multigraph:t.multigraph,compound:t.compound}),this.dagreGraph.setDefaultEdgeLabel(()=>({})),this.dagreNodes=n.nodes.map(i=>{const p=Object.assign({},i);return p.width=i.dimension.width,p.height=i.dimension.height,p.x=i.position.x,p.y=i.position.y,p}),this.dagreClusters=n.clusters||[],this.dagreEdges=n.edges.map(i=>{const p=Object.assign({},i);return p.id||(p.id=jt()),p});for(const i of this.dagreNodes)this.dagreGraph.setNode(i.id,i);for(const i of this.dagreClusters)this.dagreGraph.setNode(i.id,i),i.childNodeIds.forEach(p=>{this.dagreGraph.setParent(p,i.id)});for(const i of this.dagreEdges)t.multigraph?this.dagreGraph.setEdge(i.source,i.target,i,i.id):this.dagreGraph.setEdge(i.source,i.target);return this.dagreGraph}},dagreNodesOnly:class au{constructor(){this.defaultSettings={orientation:ve.LEFT_TO_RIGHT,marginX:20,marginY:20,edgePadding:100,rankPadding:100,nodePadding:50,curveDistance:20,multigraph:!0,compound:!0},this.settings={}}run(n){this.createDagreGraph(n),pe.layout(this.dagreGraph),n.edgeLabels=this.dagreGraph._edgeLabels;for(const t in this.dagreGraph._nodes){const i=this.dagreGraph._nodes[t],p=n.nodes.find(x=>x.id===i.id);p.position={x:i.x,y:i.y},p.dimension={width:i.width,height:i.height}}for(const t of n.edges)this.updateEdge(n,t);return n}updateEdge(n,t){const i=n.nodes.find(nt=>nt.id===t.source),p=n.nodes.find(nt=>nt.id===t.target),x="BT"===this.settings.orientation||"TB"===this.settings.orientation?"y":"x",T="y"===x?"x":"y",C="y"===x?"height":"width",I=i.position[x]<=p.position[x]?-1:1,F={[T]:i.position[T],[x]:i.position[x]-I*(i.dimension[C]/2)},V={[T]:p.position[T],[x]:p.position[x]+I*(p.dimension[C]/2)},Z=this.settings.curveDistance||this.defaultSettings.curveDistance;t.points=[F,{[T]:F[T],[x]:F[x]-I*Z},{[T]:V[T],[x]:V[x]+I*Z},V];const q=n.edgeLabels[`${t.source}\x01${t.target}\x01\0`];return q&&(q.points=t.points),n}createDagreGraph(n){const t=Object.assign({},this.defaultSettings,this.settings);this.dagreGraph=new pe.graphlib.Graph({compound:t.compound,multigraph:t.multigraph}),this.dagreGraph.setGraph({rankdir:t.orientation,marginx:t.marginX,marginy:t.marginY,edgesep:t.edgePadding,ranksep:t.rankPadding,nodesep:t.nodePadding,align:t.align,acyclicer:t.acyclicer,ranker:t.ranker,multigraph:t.multigraph,compound:t.compound}),this.dagreGraph.setDefaultEdgeLabel(()=>({})),this.dagreNodes=n.nodes.map(i=>{const p=Object.assign({},i);return p.width=i.dimension.width,p.height=i.dimension.height,p.x=i.position.x,p.y=i.position.y,p}),this.dagreEdges=n.edges.map(i=>{const p=Object.assign({},i);return p.id||(p.id=jt()),p});for(const i of this.dagreNodes)i.width||(i.width=20),i.height||(i.height=30),this.dagreGraph.setNode(i.id,i);for(const i of this.dagreEdges)t.multigraph?this.dagreGraph.setEdge(i.source,i.target,i,i.id):this.dagreGraph.setEdge(i.source,i.target);return this.dagreGraph}},d3ForceDirected:class uu{constructor(){this.defaultSettings={force:ji().force("charge",Wi().strength(-150)).force("collide",zi(5)),forceLink:$i().id(n=>n.id).distance(()=>100)},this.settings={},this.outputGraph$=new fe.x}run(n){return this.inputGraph=n,this.d3Graph={nodes:[...this.inputGraph.nodes.map(t=>({...t}))],edges:[...this.inputGraph.edges.map(t=>({...t}))]},this.outputGraph={nodes:[],edges:[],edgeLabels:[]},this.outputGraph$.next(this.outputGraph),this.settings=Object.assign({},this.defaultSettings,this.settings),this.settings.force&&this.settings.force.nodes(this.d3Graph.nodes).force("link",this.settings.forceLink.links(this.d3Graph.edges)).alpha(.5).restart().on("tick",()=>{this.outputGraph$.next(this.d3GraphToOutputGraph(this.d3Graph))}),this.outputGraph$.asObservable()}updateEdge(n,t){const i=Object.assign({},this.defaultSettings,this.settings);return i.force&&i.force.nodes(this.d3Graph.nodes).force("link",i.forceLink.links(this.d3Graph.edges)).alpha(.5).restart().on("tick",()=>{this.outputGraph$.next(this.d3GraphToOutputGraph(this.d3Graph))}),this.outputGraph$.asObservable()}d3GraphToOutputGraph(n){return this.outputGraph.nodes=this.d3Graph.nodes.map(t=>({...t,id:t.id||jt(),position:{x:t.x,y:t.y},dimension:{width:t.dimension&&t.dimension.width||20,height:t.dimension&&t.dimension.height||20},transform:`translate(${t.x-(t.dimension&&t.dimension.width||20)/2||0}, ${t.y-(t.dimension&&t.dimension.height||20)/2||0})`})),this.outputGraph.edges=this.d3Graph.edges.map(t=>({...t,source:ye(t.source).id,target:ye(t.target).id,points:[{x:ye(t.source).x,y:ye(t.source).y},{x:ye(t.target).x,y:ye(t.target).y}]})),this.outputGraph.edgeLabels=this.outputGraph.edges,this.outputGraph}onDragStart(n,t){this.settings.force.alphaTarget(.3).restart();const i=this.d3Graph.nodes.find(p=>p.id===n.id);!i||(this.draggingStart={x:t.x-i.x,y:t.y-i.y},i.fx=t.x-this.draggingStart.x,i.fy=t.y-this.draggingStart.y)}onDrag(n,t){if(!n)return;const i=this.d3Graph.nodes.find(p=>p.id===n.id);!i||(i.fx=t.x-this.draggingStart.x,i.fy=t.y-this.draggingStart.y)}onDragEnd(n,t){if(!n)return;const i=this.d3Graph.nodes.find(p=>p.id===n.id);!i||(this.settings.force.alphaTarget(0),i.fx=void 0,i.fy=void 0)}},colaForceDirected:class lu{constructor(){this.defaultSettings={force:(0,Aa.d3adaptor)({...y,...o,...m}).linkDistance(150).avoidOverlaps(!0),viewDimensions:{width:600,height:600}},this.settings={},this.outputGraph$=new fe.x}run(n){return this.inputGraph=n,this.inputGraph.clusters||(this.inputGraph.clusters=[]),this.internalGraph={nodes:[...this.inputGraph.nodes.map(t=>({...t,width:t.dimension?t.dimension.width:20,height:t.dimension?t.dimension.height:20}))],groups:[...this.inputGraph.clusters.map(t=>({padding:5,groups:t.childNodeIds.map(i=>this.inputGraph.clusters.findIndex(p=>p.id===i)).filter(i=>i>=0),leaves:t.childNodeIds.map(i=>this.inputGraph.nodes.findIndex(p=>p.id===i)).filter(i=>i>=0)}))],links:[...this.inputGraph.edges.map(t=>{const i=this.inputGraph.nodes.findIndex(x=>t.source===x.id),p=this.inputGraph.nodes.findIndex(x=>t.target===x.id);if(-1!==i&&-1!==p)return{...t,source:i,target:p}}).filter(t=>!!t)],groupLinks:[...this.inputGraph.edges.map(t=>{const i=this.inputGraph.nodes.findIndex(x=>t.source===x.id),p=this.inputGraph.nodes.findIndex(x=>t.target===x.id);if(!(i>=0&&p>=0))return t}).filter(t=>!!t)]},this.outputGraph={nodes:[],clusters:[],edges:[],edgeLabels:[]},this.outputGraph$.next(this.outputGraph),this.settings=Object.assign({},this.defaultSettings,this.settings),this.settings.force&&(this.settings.force=this.settings.force.nodes(this.internalGraph.nodes).groups(this.internalGraph.groups).links(this.internalGraph.links).alpha(.5).on("tick",()=>{this.settings.onTickListener&&this.settings.onTickListener(this.internalGraph),this.outputGraph$.next(this.internalGraphToOutputGraph(this.internalGraph))}),this.settings.viewDimensions&&(this.settings.force=this.settings.force.size([this.settings.viewDimensions.width,this.settings.viewDimensions.height])),this.settings.forceModifierFn&&(this.settings.force=this.settings.forceModifierFn(this.settings.force)),this.settings.force.start()),this.outputGraph$.asObservable()}updateEdge(n,t){const i=Object.assign({},this.defaultSettings,this.settings);return i.force&&i.force.start(),this.outputGraph$.asObservable()}internalGraphToOutputGraph(n){return this.outputGraph.nodes=n.nodes.map(t=>({...t,id:t.id||jt(),position:{x:t.x,y:t.y},dimension:{width:t.dimension&&t.dimension.width||20,height:t.dimension&&t.dimension.height||20},transform:`translate(${t.x-(t.dimension&&t.dimension.width||20)/2||0}, ${t.y-(t.dimension&&t.dimension.height||20)/2||0})`})),this.outputGraph.edges=n.links.map(t=>{const i=Qi(n.nodes,t.source),p=Qi(n.nodes,t.target);return{...t,source:i.id,target:p.id,points:[i.bounds.rayIntersection(p.bounds.cx(),p.bounds.cy()),p.bounds.rayIntersection(i.bounds.cx(),i.bounds.cy())]}}).concat(n.groupLinks.map(t=>{const i=n.nodes.find(C=>C.id===t.source),p=n.nodes.find(C=>C.id===t.target),x=i||n.groups.find(C=>C.id===t.source),T=p||n.groups.find(C=>C.id===t.target);return{...t,source:x.id,target:T.id,points:[x.bounds.rayIntersection(T.bounds.cx(),T.bounds.cy()),T.bounds.rayIntersection(x.bounds.cx(),x.bounds.cy())]}})),this.outputGraph.clusters=n.groups.map((t,i)=>({...this.inputGraph.clusters[i],dimension:{width:t.bounds?t.bounds.width():20,height:t.bounds?t.bounds.height():20},position:{x:t.bounds?t.bounds.x+t.bounds.width()/2:0,y:t.bounds?t.bounds.y+t.bounds.height()/2:0}})),this.outputGraph.edgeLabels=this.outputGraph.edges,this.outputGraph}onDragStart(n,t){const i=this.outputGraph.nodes.findIndex(x=>x.id===n.id),p=this.internalGraph.nodes[i];!p||(this.draggingStart={x:p.x-t.x,y:p.y-t.y},p.fixed=1,this.settings.force.start())}onDrag(n,t){if(!n)return;const i=this.outputGraph.nodes.findIndex(x=>x.id===n.id),p=this.internalGraph.nodes[i];!p||(p.x=this.draggingStart.x+t.x,p.y=this.draggingStart.y+t.y)}onDragEnd(n,t){if(!n)return;const i=this.outputGraph.nodes.findIndex(x=>x.id===n.id),p=this.internalGraph.nodes[i];!p||(p.fixed=0)}}};let tr=(()=>{class e{getLayout(t){if(qi[t])return new qi[t];throw new Error(`Unknown layout type '${t}'`)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e})(),hu=(()=>{class e{constructor(){this.mouseWheelUp=new s.vpe,this.mouseWheelDown=new s.vpe}onMouseWheelChrome(t){this.mouseWheelFunc(t)}onMouseWheelFirefox(t){this.mouseWheelFunc(t)}onWheel(t){this.mouseWheelFunc(t)}onMouseWheelIE(t){this.mouseWheelFunc(t)}mouseWheelFunc(t){window.event&&(t=window.event);const i=Math.max(-1,Math.min(1,t.wheelDelta||-t.detail||t.deltaY||t.deltaX)),x=t.wheelDelta?i<0:i>0;(t.wheelDelta?i>0:i<0)?this.mouseWheelUp.emit(t):x&&this.mouseWheelDown.emit(t),t.returnValue=!1,t.preventDefault&&t.preventDefault()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=s.lG2({type:e,selectors:[["","mouseWheel",""]],hostBindings:function(t,i){1&t&&s.NdJ("mousewheel",function(x){return i.onMouseWheelChrome(x)})("DOMMouseScroll",function(x){return i.onMouseWheelFirefox(x)})("wheel",function(x){return i.onWheel(x)})("onmousewheel",function(x){return i.onMouseWheelIE(x)})},outputs:{mouseWheelUp:"mouseWheelUp",mouseWheelDown:"mouseWheelDown"}}),e})(),cu=(()=>{class e{constructor(t,i,p,x){this.el=t,this.zone=i,this.cd=p,this.layoutService=x,this.nodes=[],this.clusters=[],this.links=[],this.activeEntries=[],this.draggingEnabled=!0,this.panningEnabled=!0,this.panningAxis=ge.Both,this.enableZoom=!0,this.zoomSpeed=.1,this.minZoomLevel=.1,this.maxZoomLevel=4,this.autoZoom=!1,this.panOnZoom=!0,this.animate=!1,this.autoCenter=!1,this.enableTrackpadSupport=!1,this.showMiniMap=!1,this.miniMapMaxWidth=100,this.miniMapPosition=me.UpperRight,this.scheme="cool",this.animations=!0,this.select=new s.vpe,this.activate=new s.vpe,this.deactivate=new s.vpe,this.zoomChange=new s.vpe,this.clickHandler=new s.vpe,this.isMouseMoveCalled=!1,this.graphSubscription=new Ai.w0,this.subscriptions=[],this.isPanning=!1,this.isDragging=!1,this.initialized=!1,this.graphDims={width:0,height:0},this._oldLinks=[],this.oldNodes=new Set,this.oldClusters=new Set,this.transformationMatrix={a:1,c:0,e:0,b:0,d:1,f:0},this._touchLastX=null,this._touchLastY=null,this.minimapScaleCoefficient=3,this.minimapOffsetX=0,this.minimapOffsetY=0,this.isMinimapPanning=!1,this.groupResultsBy=T=>T.label}get zoomLevel(){return this.transformationMatrix.a}set zoomLevel(t){this.zoomTo(Number(t))}get panOffsetX(){return this.transformationMatrix.e}set panOffsetX(t){this.panTo(Number(t),null)}get panOffsetY(){return this.transformationMatrix.f}set panOffsetY(t){this.panTo(null,Number(t))}ngOnInit(){this.update$&&this.subscriptions.push(this.update$.subscribe(()=>{this.update()})),this.center$&&this.subscriptions.push(this.center$.subscribe(()=>{this.center()})),this.zoomToFit$&&this.subscriptions.push(this.zoomToFit$.subscribe(()=>{this.zoomToFit()})),this.panToNode$&&this.subscriptions.push(this.panToNode$.subscribe(t=>{this.panToNodeId(t)})),this.minimapClipPathId=`minimapClip${jt()}`}ngOnChanges(t){this.basicUpdate();const{layoutSettings:p}=t;this.setLayout(this.layout),p&&this.setLayoutSettings(this.layoutSettings),this.update()}setLayout(t){this.initialized=!1,t||(t="dagre"),"string"==typeof t&&(this.layout=this.layoutService.getLayout(t),this.setLayoutSettings(this.layoutSettings))}setLayoutSettings(t){this.layout&&"string"!=typeof this.layout&&(this.layout.settings=t)}ngOnDestroy(){this.unbindEvents(),this.visibilityObserver&&(this.visibilityObserver.visible.unsubscribe(),this.visibilityObserver.destroy());for(const t of this.subscriptions)t.unsubscribe();this.subscriptions=null}ngAfterViewInit(){this.bindWindowResizeEvent(),this.visibilityObserver=new iu(this.el,this.zone),this.visibilityObserver.visible.subscribe(this.update.bind(this)),setTimeout(()=>this.update())}update(){this.basicUpdate(),this.curve||(this.curve=$r.beta(1)),this.zone.run(()=>{this.dims=function nu({width:e,height:n}){let t=e,i=n;return t=Math.max(0,t),i=Math.max(0,i),{width:Math.floor(t),height:Math.floor(i)}}({width:this.width,height:this.height}),this.seriesDomain=this.getSeriesDomain(),this.setColors(),this.createGraph(),this.updateTransform(),this.initialized=!0})}createGraph(){this.graphSubscription.unsubscribe(),this.graphSubscription=new Ai.w0;const t=i=>(i.meta||(i.meta={}),i.id||(i.id=jt()),i.dimension?i.meta.forceDimensions=void 0===i.meta.forceDimensions||i.meta.forceDimensions:(i.dimension={width:this.nodeWidth?this.nodeWidth:30,height:this.nodeHeight?this.nodeHeight:30},i.meta.forceDimensions=!1),i.position={x:0,y:0},i.data=i.data?i.data:{},i);this.graph={nodes:this.nodes.length>0?[...this.nodes].map(t):[],clusters:this.clusters&&this.clusters.length>0?[...this.clusters].map(t):[],edges:this.links.length>0?[...this.links].map(i=>(i.id||(i.id=jt()),i)):[]},requestAnimationFrame(()=>this.draw())}draw(){if(!this.layout||"string"==typeof this.layout)return;this.applyNodeDimensions();const t=this.layout.run(this.graph),i=t instanceof Si.y?t:(0,Oi.of)(t);this.graphSubscription.add(i.subscribe(p=>{this.graph=p,this.tick()})),0!==this.graph.nodes.length&&i.pipe((0,Fo.P)()).subscribe(()=>this.applyNodeDimensions())}tick(){const t=new Set;this.graph.nodes.map(x=>{x.transform=`translate(${x.position.x-x.dimension.width/2||0}, ${x.position.y-x.dimension.height/2||0})`,x.data||(x.data={}),x.data.color=this.colors.getColor(this.groupResultsBy(x)),t.add(x.id)});const i=new Set;(this.graph.clusters||[]).map(x=>{x.transform=`translate(${x.position.x-x.dimension.width/2||0}, ${x.position.y-x.dimension.height/2||0})`,x.data||(x.data={}),x.data.color=this.colors.getColor(this.groupResultsBy(x)),i.add(x.id)}),setTimeout(()=>{this.oldNodes=t,this.oldClusters=i},500);const p=[];for(const x in this.graph.edgeLabels){const T=this.graph.edgeLabels[x],C=x.replace(/[^\w-]*/g,""),I=this.layout&&"string"!=typeof this.layout&&this.layout.settings&&this.layout.settings.multigraph;let F=this._oldLinks.find(I?tt=>`${tt.source}${tt.target}${tt.id}`===C:tt=>`${tt.source}${tt.target}`===C);const V=this.graph.edges.find(I?tt=>`${tt.source}${tt.target}${tt.id}`===C:tt=>`${tt.source}${tt.target}`===C);F?F.data&&V&&V.data&&JSON.stringify(F.data)!==JSON.stringify(V.data)&&(F.data=V.data):F=V||T,F.oldLine=F.line;const Z=T.points,j=this.generateLine(Z),q=Object.assign({},F);q.line=j,q.points=Z,this.updateMidpointOnEdge(q,Z);const nt=Z[Math.floor(Z.length/2)];nt&&(q.textTransform=`translate(${nt.x||0},${nt.y||0})`),q.textAngle=0,q.oldLine||(q.oldLine=q.line),this.calcDominantBaseline(q),p.push(q)}this.graph.edges=p,this.graph.edges&&(this._oldLinks=this.graph.edges.map(x=>{const T=Object.assign({},x);return T.oldLine=x.line,T})),this.updateMinimap(),this.autoZoom&&this.zoomToFit(),this.autoCenter&&this.center(),requestAnimationFrame(()=>this.redrawLines()),this.cd.markForCheck()}getMinimapTransform(){switch(this.miniMapPosition){case me.UpperLeft:return"";case me.UpperRight:return"translate("+(this.dims.width-this.graphDims.width/this.minimapScaleCoefficient)+",0)";default:return""}}updateGraphDims(){let t=1/0,i=-1/0,p=1/0,x=-1/0;for(let T=0;T<this.graph.nodes.length;T++){const C=this.graph.nodes[T];t=C.position.x<t?C.position.x:t,p=C.position.y<p?C.position.y:p,i=C.position.x+C.dimension.width>i?C.position.x+C.dimension.width:i,x=C.position.y+C.dimension.height>x?C.position.y+C.dimension.height:x}t-=100,p-=100,i+=100,x+=100,this.graphDims.width=i-t,this.graphDims.height=x-p,this.minimapOffsetX=t,this.minimapOffsetY=p}updateMinimap(){this.graph.nodes&&this.graph.nodes.length&&(this.updateGraphDims(),this.miniMapMaxWidth&&(this.minimapScaleCoefficient=this.graphDims.width/this.miniMapMaxWidth),this.miniMapMaxHeight&&(this.minimapScaleCoefficient=Math.max(this.minimapScaleCoefficient,this.graphDims.height/this.miniMapMaxHeight)),this.minimapTransform=this.getMinimapTransform())}applyNodeDimensions(){this.nodeElements&&this.nodeElements.length&&this.nodeElements.map(t=>{const i=t.nativeElement,p=this.graph.nodes.find(T=>T.id===i.id);if(!p)return;let x;try{if(x=i.getBBox(),!x.width||!x.height)return}catch{return}if(p.dimension.height=this.nodeHeight?p.dimension.height&&p.meta.forceDimensions?p.dimension.height:this.nodeHeight:p.dimension.height&&p.meta.forceDimensions?p.dimension.height:x.height,this.nodeMaxHeight&&(p.dimension.height=Math.max(p.dimension.height,this.nodeMaxHeight)),this.nodeMinHeight&&(p.dimension.height=Math.min(p.dimension.height,this.nodeMinHeight)),this.nodeWidth)p.dimension.width=p.dimension.width&&p.meta.forceDimensions?p.dimension.width:this.nodeWidth;else if(i.getElementsByTagName("text").length){let T;try{for(const C of i.getElementsByTagName("text")){const I=C.getBBox();T?(I.width>T.width&&(T.width=I.width),I.height>T.height&&(T.height=I.height)):T=I}}catch{return}p.dimension.width=p.dimension.width&&p.meta.forceDimensions?p.dimension.width:T.width+20}else p.dimension.width=p.dimension.width&&p.meta.forceDimensions?p.dimension.width:x.width;this.nodeMaxWidth&&(p.dimension.width=Math.max(p.dimension.width,this.nodeMaxWidth)),this.nodeMinWidth&&(p.dimension.width=Math.min(p.dimension.width,this.nodeMinWidth))})}redrawLines(t=this.animate){this.linkElements.map(i=>{const p=this.graph.edges.find(x=>x.id===i.nativeElement.id);p&&(zn(i.nativeElement).select(".line").attr("d",p.oldLine).transition().ease(Wn).duration(t?500:0).attr("d",p.line),zn(this.el.nativeElement).select(`#${p.id}`).attr("d",p.oldTextPath).transition().ease(Wn).duration(t?500:0).attr("d",p.textPath),this.updateMidpointOnEdge(p,p.points))})}calcDominantBaseline(t){const i=t.points[0],p=t.points[t.points.length-1];t.oldTextPath=t.textPath,p.x<i.x?(t.dominantBaseline="text-before-edge",t.textPath=this.generateLine([...t.points].reverse())):(t.dominantBaseline="text-after-edge",t.textPath=t.line)}generateLine(t){return function Qr(){var e=Jr,n=Kr,t=Ve(!0),i=null,p=Xr,x=null;function T(C){var I,V,j,F=C.length,Z=!1;for(null==i&&(x=p(j=Wr())),I=0;I<=F;++I)!(I<F&&t(V=C[I],I,C))===Z&&((Z=!Z)?x.lineStart():x.lineEnd()),Z&&x.point(+e(V,I,C),+n(V,I,C));if(j)return x=null,j+""||null}return T.x=function(C){return arguments.length?(e="function"==typeof C?C:Ve(+C),T):e},T.y=function(C){return arguments.length?(n="function"==typeof C?C:Ve(+C),T):n},T.defined=function(C){return arguments.length?(t="function"==typeof C?C:Ve(!!C),T):t},T.curve=function(C){return arguments.length?(p=C,null!=i&&(x=p(i)),T):p},T.context=function(C){return arguments.length?(null==C?i=x=null:x=p(i=C),T):i},T}().x(p=>p.x).y(p=>p.y).curve(this.curve)(t)}onZoom(t,i){if(this.enableTrackpadSupport&&!t.ctrlKey)return void this.pan(-1*t.deltaX,-1*t.deltaY);const p=1+("in"===i?this.zoomSpeed:-this.zoomSpeed),x=this.zoomLevel*p;if(!(x<=this.minZoomLevel||x>=this.maxZoomLevel)&&this.enableZoom)if(!0===this.panOnZoom&&t){const T=t.clientX,C=t.clientY,I=this.el.nativeElement.querySelector("svg"),F=I.querySelector("g.chart"),V=I.createSVGPoint();V.x=T,V.y=C;const Z=V.matrixTransform(F.getScreenCTM().inverse());this.pan(Z.x,Z.y,!0),this.zoom(p),this.pan(-Z.x,-Z.y,!0)}else this.zoom(p)}pan(t,i,p=!1){const x=p?1:this.zoomLevel;this.transformationMatrix=Le(this.transformationMatrix,Li(t/x,i/x)),this.updateTransform()}panTo(t,i){null==t||isNaN(t)||null==i||isNaN(i)||(this.transformationMatrix=Le(this.transformationMatrix,Li((-this.panOffsetX-t*this.zoomLevel+this.dims.width/2)/this.zoomLevel,(-this.panOffsetY-i*this.zoomLevel+this.dims.height/2)/this.zoomLevel)),this.updateTransform())}zoom(t){this.transformationMatrix=Le(this.transformationMatrix,function Yo(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return Vo(n)&&(n=e),{a:e,c:0,e:0,b:0,d:n,f:0}}(t,t)),this.zoomChange.emit(this.zoomLevel),this.updateTransform()}zoomTo(t){this.transformationMatrix.a=isNaN(t)?this.transformationMatrix.a:Number(t),this.transformationMatrix.d=isNaN(t)?this.transformationMatrix.d:Number(t),this.zoomChange.emit(this.zoomLevel),this.updateTransform(),this.update()}onDrag(t){if(!this.draggingEnabled)return;const i=this.draggingNode;this.layout&&"string"!=typeof this.layout&&this.layout.onDrag&&this.layout.onDrag(i,t),i.position.x+=t.movementX/this.zoomLevel,i.position.y+=t.movementY/this.zoomLevel,i.transform=`translate(${i.position.x-i.dimension.width/2}, ${i.position.y-i.dimension.height/2})`;for(const T of this.graph.edges)if((T.target===i.id||T.source===i.id||T.target.id===i.id||T.source.id===i.id)&&this.layout&&"string"!=typeof this.layout){const C=this.layout.updateEdge(this.graph,T),I=C instanceof Si.y?C:(0,Oi.of)(C);this.graphSubscription.add(I.subscribe(F=>{this.graph=F,this.redrawEdge(T)}))}this.redrawLines(!1),this.updateMinimap()}redrawEdge(t){const i=this.generateLine(t.points);this.calcDominantBaseline(t),t.oldLine=t.line,t.line=i}updateTransform(){this.transform=function Zo(e){return function Ni(e){return"matrix("+e.a+","+e.b+","+e.c+","+e.d+","+e.e+","+e.f+")"}(e)}(function Wo(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e10;return{a:Math.round(e.a*n)/n,b:Math.round(e.b*n)/n,c:Math.round(e.c*n)/n,d:Math.round(e.d*n)/n,e:Math.round(e.e*n)/n,f:Math.round(e.f*n)/n}}(this.transformationMatrix,100))}onClick(t){this.select.emit(t)}onActivate(t){this.activeEntries.indexOf(t)>-1||(this.activeEntries=[t,...this.activeEntries],this.activate.emit({value:t,entries:this.activeEntries}))}onDeactivate(t){const i=this.activeEntries.indexOf(t);this.activeEntries.splice(i,1),this.activeEntries=[...this.activeEntries],this.deactivate.emit({value:t,entries:this.activeEntries})}getSeriesDomain(){return this.nodes.map(t=>this.groupResultsBy(t)).reduce((t,i)=>-1!==t.indexOf(i)?t:t.concat([i]),[]).sort()}trackLinkBy(t,i){return i.id}trackNodeBy(t,i){return i.id}setColors(){this.colors=new eu(this.scheme,this.seriesDomain,this.customColors)}onMouseMove(t){this.isMouseMoveCalled=!0,(this.isPanning||this.isMinimapPanning)&&this.panningEnabled?this.panWithConstraints(this.panningAxis,t):this.isDragging&&this.draggingEnabled&&this.onDrag(t)}onMouseDown(t){this.isMouseMoveCalled=!1}graphClick(t){this.isMouseMoveCalled||this.clickHandler.emit(t)}onTouchStart(t){this._touchLastX=t.changedTouches[0].clientX,this._touchLastY=t.changedTouches[0].clientY,this.isPanning=!0}onTouchMove(t){if(this.isPanning&&this.panningEnabled){const i=t.changedTouches[0].clientX,p=t.changedTouches[0].clientY,x=i-this._touchLastX,T=p-this._touchLastY;this._touchLastX=i,this._touchLastY=p,this.pan(x,T)}}onTouchEnd(t){this.isPanning=!1}onMouseUp(t){this.isDragging=!1,this.isPanning=!1,this.isMinimapPanning=!1,this.layout&&"string"!=typeof this.layout&&this.layout.onDragEnd&&this.layout.onDragEnd(this.draggingNode,t)}onNodeMouseDown(t,i){!this.draggingEnabled||(this.isDragging=!0,this.draggingNode=i,this.layout&&"string"!=typeof this.layout&&this.layout.onDragStart&&this.layout.onDragStart(i,t))}onMinimapDragMouseDown(){this.isMinimapPanning=!0}onMinimapPanTo(t){this.panTo((t.offsetX-(this.dims.width-(this.graphDims.width+this.minimapOffsetX)/this.minimapScaleCoefficient))*this.minimapScaleCoefficient,(t.offsetY+this.minimapOffsetY/this.minimapScaleCoefficient)*this.minimapScaleCoefficient),this.isMinimapPanning=!0}center(){this.panTo(this.graphDims.width/2,this.graphDims.height/2)}zoomToFit(){let p=Math.min(this.dims.height/this.graphDims.height,this.dims.width/this.graphDims.width,1);p<this.minZoomLevel&&(p=this.minZoomLevel),p>this.maxZoomLevel&&(p=this.maxZoomLevel),p!==this.zoomLevel&&(this.zoomLevel=p,this.updateTransform(),this.zoomChange.emit(this.zoomLevel))}panToNodeId(t){const i=this.graph.nodes.find(p=>p.id===t);!i||this.panTo(i.position.x,i.position.y)}panWithConstraints(t,i){let p=i.movementX,x=i.movementY;switch(this.isMinimapPanning&&(p=-this.minimapScaleCoefficient*p*this.zoomLevel,x=-this.minimapScaleCoefficient*x*this.zoomLevel),t){case ge.Horizontal:this.pan(p,0);break;case ge.Vertical:this.pan(0,x);break;default:this.pan(p,x)}}updateMidpointOnEdge(t,i){if(t&&i)if(i.length%2==1)t.midPoint=i[Math.floor(i.length/2)];else{const p=i[i.length/2],x=i[i.length/2-1];t.midPoint={x:(p.x+x.x)/2,y:(p.y+x.y)/2}}}basicUpdate(){if(this.view)this.width=this.view[0],this.height=this.view[1];else{const t=this.getContainerDims();t&&(this.width=t.width,this.height=t.height)}this.width||(this.width=600),this.height||(this.height=400),this.width=Math.floor(this.width),this.height=Math.floor(this.height),this.cd&&this.cd.markForCheck()}getContainerDims(){let t,i;const p=this.el.nativeElement;if(null!==p.parentNode){const x=p.parentNode.getBoundingClientRect();t=x.width,i=x.height}return t&&i?{width:t,height:i}:null}unbindEvents(){this.resizeSubscription&&this.resizeSubscription.unsubscribe()}bindWindowResizeEvent(){const i=(0,Ne.R)(window,"resize").pipe((0,Ii.b)(200)).subscribe(p=>{this.update(),this.cd&&this.cd.markForCheck()});this.resizeSubscription=i}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(s.SBq),s.Y36(s.R0b),s.Y36(s.sBO),s.Y36(tr))},e.\u0275cmp=s.Xpm({type:e,selectors:[["ngx-graph"]],contentQueries:function(t,i,p){if(1&t&&(s.Suo(p,Oa,5),s.Suo(p,Ia,5),s.Suo(p,Ma,5),s.Suo(p,Na,5),s.Suo(p,La,5)),2&t){let x;s.iGM(x=s.CRH())&&(i.linkTemplate=x.first),s.iGM(x=s.CRH())&&(i.nodeTemplate=x.first),s.iGM(x=s.CRH())&&(i.clusterTemplate=x.first),s.iGM(x=s.CRH())&&(i.defsTemplate=x.first),s.iGM(x=s.CRH())&&(i.miniMapNodeTemplate=x.first)}},viewQuery:function(t,i){if(1&t&&(s.Gf(Da,5),s.Gf(Fa,5)),2&t){let p;s.iGM(p=s.CRH())&&(i.nodeElements=p),s.iGM(p=s.CRH())&&(i.linkElements=p)}},hostBindings:function(t,i){1&t&&s.NdJ("mousemove",function(x){return i.onMouseMove(x)},!1,s.evT)("mousedown",function(x){return i.onMouseDown(x)},!1,s.evT)("click",function(x){return i.graphClick(x)},!1,s.evT)("touchmove",function(x){return i.onTouchMove(x)},!1,s.evT)("mouseup",function(x){return i.onMouseUp(x)},!1,s.evT)},inputs:{nodes:"nodes",clusters:"clusters",links:"links",activeEntries:"activeEntries",curve:"curve",draggingEnabled:"draggingEnabled",nodeHeight:"nodeHeight",nodeMaxHeight:"nodeMaxHeight",nodeMinHeight:"nodeMinHeight",nodeWidth:"nodeWidth",nodeMinWidth:"nodeMinWidth",nodeMaxWidth:"nodeMaxWidth",panningEnabled:"panningEnabled",panningAxis:"panningAxis",enableZoom:"enableZoom",zoomSpeed:"zoomSpeed",minZoomLevel:"minZoomLevel",maxZoomLevel:"maxZoomLevel",autoZoom:"autoZoom",panOnZoom:"panOnZoom",animate:"animate",autoCenter:"autoCenter",update$:"update$",center$:"center$",zoomToFit$:"zoomToFit$",panToNode$:"panToNode$",layout:"layout",layoutSettings:"layoutSettings",enableTrackpadSupport:"enableTrackpadSupport",showMiniMap:"showMiniMap",miniMapMaxWidth:"miniMapMaxWidth",miniMapMaxHeight:"miniMapMaxHeight",miniMapPosition:"miniMapPosition",view:"view",scheme:"scheme",customColors:"customColors",animations:"animations",groupResultsBy:"groupResultsBy",zoomLevel:"zoomLevel",panOffsetX:"panOffsetX",panOffsetY:"panOffsetY"},outputs:{select:"select",activate:"activate",deactivate:"deactivate",zoomChange:"zoomChange",clickHandler:"clickHandler"},features:[s.TTD],ngContentSelectors:Qa,decls:6,vars:11,consts:[["mouseWheel","",1,"ngx-charts-outer",3,"mouseWheelUp","mouseWheelDown"],[1,"ngx-charts"],["class","graph chart",3,"touchstart","touchend",4,"ngIf"],["class","minimap",4,"ngIf"],[1,"graph","chart",3,"touchstart","touchend"],[3,"ngTemplateOutlet",4,"ngIf"],["class","text-path",4,"ngFor","ngForOf"],[1,"panning-rect",3,"mousedown"],[1,"clusters"],["class","node-group",3,"old-node","id","click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"links"],["class","link-group",3,"id",4,"ngFor","ngForOf","ngForTrackBy"],[1,"nodes"],["class","node-group",3,"old-node","id","click","mousedown",4,"ngFor","ngForOf","ngForTrackBy"],[3,"ngTemplateOutlet"],[1,"text-path"],[1,"node-group",3,"id","click"],["clusterElement",""],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngIf"],["class","node cluster",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"node","cluster"],["alignment-baseline","central"],[1,"link-group",3,"id"],["linkElement",""],["class","edge",4,"ngIf"],[1,"edge"],[1,"node-group",3,"id","click","mousedown"],["nodeElement",""],["r","10",4,"ngIf"],["r","10"],[1,"minimap"],[1,"minimap-background",3,"mousedown"],[1,"minimap-nodes"],["class","node-group",3,"old-node","id",4,"ngFor","ngForOf","ngForTrackBy"],[1,"minimap-drag",3,"mousedown"],[1,"node-group",3,"id"]],template:function(t,i){1&t&&(s.F$t(),s.TgZ(0,"div",0),s.NdJ("mouseWheelUp",function(x){return i.onZoom(x,"in")})("mouseWheelDown",function(x){return i.onZoom(x,"out")}),s.O4$(),s.TgZ(1,"svg",1),s.YNc(2,$a,12,12,"g",2),s.TgZ(3,"clipPath"),s._UZ(4,"rect"),s.qZA(),s.YNc(5,Ka,6,15,"g",3),s.qZA()()),2&t&&(s.Udp("width",i.width,"px"),s.Q6J("@animationState","active")("@.disabled",!i.animations),s.xp6(1),s.uIk("width",i.width)("height",i.height),s.xp6(1),s.Q6J("ngIf",i.initialized&&i.graph),s.xp6(1),s.uIk("id",i.minimapClipPathId),s.xp6(1),s.uIk("width",i.graphDims.width/i.minimapScaleCoefficient)("height",i.graphDims.height/i.minimapScaleCoefficient),s.xp6(1),s.Q6J("ngIf",i.showMiniMap))},dependencies:[hu,v.O5,v.tP,v.sg],styles:[".minimap .minimap-background{fill:#0000001a}.minimap .minimap-drag{fill:#0003;stroke:#fff;stroke-width:1px;stroke-dasharray:2px;stroke-dashoffset:2px;cursor:pointer}.minimap .minimap-drag.panning{fill:#0000004d}.minimap .minimap-nodes{opacity:.5;pointer-events:none}.graph{-webkit-user-select:none;user-select:none}.graph .edge{stroke:#666;fill:none}.graph .edge .edge-label{stroke:none;font-size:12px;fill:#251e1e}.graph .panning-rect{fill:#0000;cursor:move}.graph .node-group.old-node{transition:transform .5s ease-in-out}.graph .node-group .node:focus{outline:none}.graph .cluster rect{opacity:.2}\n"],encapsulation:2,data:{animation:[(0,H.X$)("animationState",[(0,H.eR)(":enter",[(0,H.oB)({opacity:0}),(0,H.jt)("500ms 100ms",(0,H.oB)({opacity:1}))])])]},changeDetection:0}),(0,k.gn)([tu(500)],e.prototype,"updateMinimap",null),e})(),fu=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({providers:[tr],imports:[[v.ez]]}),e})(),du=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({imports:[[v.ez],fu]}),e})();var er=r(4006),xe=r(2722),pu=r(3601),gu=r(8675),mu=r(8505),vu=r(9300),yu=r(4004),xu=r(6406),_u=r(3101),Nn=r(6451);const bu=["content"],wu=["scroll"],Eu=["padding"],Fe=function(e){return{searchTerm:e}};function Tu(e,n){if(1&e&&(s.TgZ(0,"div",6),s.GkF(1,7),s.qZA()),2&e){const t=s.oxw();s.xp6(1),s.Q6J("ngTemplateOutlet",t.headerTemplate)("ngTemplateOutletContext",s.VKq(2,Fe,t.filterValue))}}function Cu(e,n){if(1&e&&(s.TgZ(0,"div",8),s.GkF(1,7),s.qZA()),2&e){const t=s.oxw();s.xp6(1),s.Q6J("ngTemplateOutlet",t.footerTemplate)("ngTemplateOutletContext",s.VKq(2,Fe,t.filterValue))}}const nr=["*"],Au=["searchInput"];function Su(e,n){if(1&e){const t=s.EpF();s.TgZ(0,"span",15),s.NdJ("click",function(){s.CHM(t);const p=s.oxw().$implicit,x=s.oxw(2);return s.KtG(x.unselect(p))}),s._uU(1,"\xd7"),s.qZA(),s._UZ(2,"span",16)}if(2&e){const t=s.oxw().$implicit,i=s.oxw(2);s.xp6(2),s.Q6J("ngItemLabel",t.label)("escape",i.escapeHTML)}}function Ou(e,n){}const Iu=function(e,n,t){return{item:e,clear:n,label:t}};function Mu(e,n){if(1&e&&(s.TgZ(0,"div",12),s.YNc(1,Su,3,2,"ng-template",null,13,s.W1O),s.YNc(3,Ou,0,0,"ng-template",14),s.qZA()),2&e){const t=n.$implicit,i=s.MAs(2),p=s.oxw(2);s.ekj("ng-value-disabled",t.disabled),s.xp6(3),s.Q6J("ngTemplateOutlet",p.labelTemplate||i)("ngTemplateOutletContext",s.kEZ(4,Iu,t.value,p.clearItem,t.label))}}function Nu(e,n){if(1&e&&(s.ynx(0),s.YNc(1,Mu,4,8,"div",11),s.BQk()),2&e){const t=s.oxw();s.xp6(1),s.Q6J("ngForOf",t.selectedItems)("ngForTrackBy",t.trackByOption)}}function Lu(e,n){}const Du=function(e,n){return{items:e,clear:n}};function Fu(e,n){if(1&e&&s.YNc(0,Lu,0,0,"ng-template",14),2&e){const t=s.oxw();s.Q6J("ngTemplateOutlet",t.multiLabelTemplate)("ngTemplateOutletContext",s.WLB(2,Du,t.selectedValues,t.clearItem))}}function Pu(e,n){1&e&&s._UZ(0,"div",19)}function ku(e,n){}function Gu(e,n){if(1&e&&(s.ynx(0),s.YNc(1,Pu,1,0,"ng-template",null,17,s.W1O),s.YNc(3,ku,0,0,"ng-template",18),s.BQk()),2&e){const t=s.MAs(2),i=s.oxw();s.xp6(3),s.Q6J("ngTemplateOutlet",i.loadingSpinnerTemplate||t)}}function Bu(e,n){if(1&e&&(s.TgZ(0,"span",20)(1,"span",21),s._uU(2,"\xd7"),s.qZA()()),2&e){const t=s.oxw();s.s9C("title",t.clearAllText)}}function Ru(e,n){if(1&e&&s._UZ(0,"span",27),2&e){const t=s.oxw().$implicit,i=s.oxw(2);s.Q6J("ngItemLabel",t.label)("escape",i.escapeHTML)}}function Hu(e,n){}const zu=function(e,n,t,i){return{item:e,item$:n,index:t,searchTerm:i}};function Vu(e,n){if(1&e){const t=s.EpF();s.TgZ(0,"div",25),s.NdJ("click",function(){const x=s.CHM(t).$implicit,T=s.oxw(2);return s.KtG(T.toggleItem(x))})("mouseover",function(){const x=s.CHM(t).$implicit,T=s.oxw(2);return s.KtG(T.onItemHover(x))}),s.YNc(1,Ru,1,2,"ng-template",null,26,s.W1O),s.YNc(3,Hu,0,0,"ng-template",14),s.qZA()}if(2&e){const t=n.$implicit,i=s.MAs(2),p=s.oxw(2);s.ekj("ng-option-disabled",t.disabled)("ng-option-selected",t.selected)("ng-optgroup",t.children)("ng-option",!t.children)("ng-option-child",!!t.parent)("ng-option-marked",t===p.itemsList.markedItem),s.uIk("role",t.children?"group":"option")("aria-selected",t.selected)("id",null==t?null:t.htmlId),s.xp6(3),s.Q6J("ngTemplateOutlet",t.children?p.optgroupTemplate||i:p.optionTemplate||i)("ngTemplateOutletContext",s.l5B(17,zu,t.value,t,t.index,p.searchTerm))}}function Yu(e,n){if(1&e&&(s.TgZ(0,"span")(1,"span",30),s._uU(2),s.qZA(),s._uU(3),s.qZA()),2&e){const t=s.oxw(3);s.xp6(2),s.Oqu(t.addTagText),s.xp6(1),s.hij('"',t.searchTerm,'"')}}function Uu(e,n){}function Zu(e,n){if(1&e){const t=s.EpF();s.TgZ(0,"div",28),s.NdJ("mouseover",function(){s.CHM(t);const p=s.oxw(2);return s.KtG(p.itemsList.unmarkItem())})("click",function(){s.CHM(t);const p=s.oxw(2);return s.KtG(p.selectTag())}),s.YNc(1,Yu,4,2,"ng-template",null,29,s.W1O),s.YNc(3,Uu,0,0,"ng-template",14),s.qZA()}if(2&e){const t=s.MAs(2),i=s.oxw(2);s.ekj("ng-option-marked",!i.itemsList.markedItem),s.xp6(3),s.Q6J("ngTemplateOutlet",i.tagTemplate||t)("ngTemplateOutletContext",s.VKq(4,Fe,i.searchTerm))}}function $u(e,n){if(1&e&&(s.TgZ(0,"div",32),s._uU(1),s.qZA()),2&e){const t=s.oxw(3);s.xp6(1),s.Oqu(t.notFoundText)}}function ju(e,n){}function Wu(e,n){if(1&e&&(s.ynx(0),s.YNc(1,$u,2,1,"ng-template",null,31,s.W1O),s.YNc(3,ju,0,0,"ng-template",14),s.BQk()),2&e){const t=s.MAs(2),i=s.oxw(2);s.xp6(3),s.Q6J("ngTemplateOutlet",i.notFoundTemplate||t)("ngTemplateOutletContext",s.VKq(2,Fe,i.searchTerm))}}function Xu(e,n){if(1&e&&(s.TgZ(0,"div",32),s._uU(1),s.qZA()),2&e){const t=s.oxw(3);s.xp6(1),s.Oqu(t.typeToSearchText)}}function Ju(e,n){}function Ku(e,n){if(1&e&&(s.ynx(0),s.YNc(1,Xu,2,1,"ng-template",null,33,s.W1O),s.YNc(3,Ju,0,0,"ng-template",18),s.BQk()),2&e){const t=s.MAs(2),i=s.oxw(2);s.xp6(3),s.Q6J("ngTemplateOutlet",i.typeToSearchTemplate||t)}}function Qu(e,n){if(1&e&&(s.TgZ(0,"div",32),s._uU(1),s.qZA()),2&e){const t=s.oxw(3);s.xp6(1),s.Oqu(t.loadingText)}}function qu(e,n){}function tl(e,n){if(1&e&&(s.ynx(0),s.YNc(1,Qu,2,1,"ng-template",null,34,s.W1O),s.YNc(3,qu,0,0,"ng-template",14),s.BQk()),2&e){const t=s.MAs(2),i=s.oxw(2);s.xp6(3),s.Q6J("ngTemplateOutlet",i.loadingTextTemplate||t)("ngTemplateOutletContext",s.VKq(2,Fe,i.searchTerm))}}function el(e,n){if(1&e){const t=s.EpF();s.TgZ(0,"ng-dropdown-panel",22),s.NdJ("update",function(p){s.CHM(t);const x=s.oxw();return s.KtG(x.viewPortItems=p)})("scroll",function(p){s.CHM(t);const x=s.oxw();return s.KtG(x.scroll.emit(p))})("scrollToEnd",function(p){s.CHM(t);const x=s.oxw();return s.KtG(x.scrollToEnd.emit(p))})("outsideClick",function(){s.CHM(t);const p=s.oxw();return s.KtG(p.close())}),s.ynx(1),s.YNc(2,Vu,4,22,"div",23),s.YNc(3,Zu,4,6,"div",24),s.BQk(),s.YNc(4,Wu,4,4,"ng-container",3),s.YNc(5,Ku,4,1,"ng-container",3),s.YNc(6,tl,4,4,"ng-container",3),s.qZA()}if(2&e){const t=s.oxw();s.ekj("ng-select-multiple",t.multiple),s.Q6J("virtualScroll",t.virtualScroll)("bufferAmount",t.bufferAmount)("appendTo",t.appendTo)("position",t.dropdownPosition)("headerTemplate",t.headerTemplate)("footerTemplate",t.footerTemplate)("filterValue",t.searchTerm)("items",t.itemsList.filteredItems)("markedItem",t.itemsList.markedItem)("ngClass",t.appendTo?t.classes:null)("id",t.dropdownId),s.xp6(2),s.Q6J("ngForOf",t.viewPortItems)("ngForTrackBy",t.trackByOption),s.xp6(1),s.Q6J("ngIf",t.showAddTag),s.xp6(1),s.Q6J("ngIf",t.showNoItemsFound()),s.xp6(1),s.Q6J("ngIf",t.showTypeToSearch()),s.xp6(1),s.Q6J("ngIf",t.loading&&0===t.itemsList.filteredItems.length)}}const ir=/[&<>"']/g,nl=RegExp(ir.source),il={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function bt(e){return null!=e}function Pe(e){return"object"==typeof e&&bt(e)}function rn(e){return e instanceof Function}let ol=(()=>{class e{constructor(t){this.element=t,this.escape=!0}ngOnChanges(t){this.element.nativeElement.innerHTML=this.escape?function rl(e){return e&&nl.test(e)?e.replace(ir,n=>il[n]):e}(this.ngItemLabel):this.ngItemLabel}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(s.SBq))},e.\u0275dir=s.lG2({type:e,selectors:[["","ngItemLabel",""]],inputs:{ngItemLabel:"ngItemLabel",escape:"escape"},features:[s.TTD]}),e})(),al=(()=>{class e{constructor(t){this.template=t}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(s.Rgc))},e.\u0275dir=s.lG2({type:e,selectors:[["","ng-option-tmp",""]]}),e})(),ul=(()=>{class e{constructor(t){this.template=t}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(s.Rgc))},e.\u0275dir=s.lG2({type:e,selectors:[["","ng-optgroup-tmp",""]]}),e})(),ll=(()=>{class e{constructor(t){this.template=t}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(s.Rgc))},e.\u0275dir=s.lG2({type:e,selectors:[["","ng-label-tmp",""]]}),e})(),hl=(()=>{class e{constructor(t){this.template=t}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(s.Rgc))},e.\u0275dir=s.lG2({type:e,selectors:[["","ng-multi-label-tmp",""]]}),e})(),cl=(()=>{class e{constructor(t){this.template=t}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(s.Rgc))},e.\u0275dir=s.lG2({type:e,selectors:[["","ng-header-tmp",""]]}),e})(),fl=(()=>{class e{constructor(t){this.template=t}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(s.Rgc))},e.\u0275dir=s.lG2({type:e,selectors:[["","ng-footer-tmp",""]]}),e})(),dl=(()=>{class e{constructor(t){this.template=t}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(s.Rgc))},e.\u0275dir=s.lG2({type:e,selectors:[["","ng-notfound-tmp",""]]}),e})(),pl=(()=>{class e{constructor(t){this.template=t}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(s.Rgc))},e.\u0275dir=s.lG2({type:e,selectors:[["","ng-typetosearch-tmp",""]]}),e})(),gl=(()=>{class e{constructor(t){this.template=t}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(s.Rgc))},e.\u0275dir=s.lG2({type:e,selectors:[["","ng-loadingtext-tmp",""]]}),e})(),ml=(()=>{class e{constructor(t){this.template=t}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(s.Rgc))},e.\u0275dir=s.lG2({type:e,selectors:[["","ng-tag-tmp",""]]}),e})(),vl=(()=>{class e{constructor(t){this.template=t}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(s.Rgc))},e.\u0275dir=s.lG2({type:e,selectors:[["","ng-loadingspinner-tmp",""]]}),e})();function rr(){return"axxxxxxxxxxx".replace(/[x]/g,()=>(16*Math.random()|0).toString(16))}const yl={"\u24b6":"A",\uff21:"A",\u00c0:"A",\u00c1:"A",\u00c2:"A",\u1ea6:"A",\u1ea4:"A",\u1eaa:"A",\u1ea8:"A",\u00c3:"A",\u0100:"A",\u0102:"A",\u1eb0:"A",\u1eae:"A",\u1eb4:"A",\u1eb2:"A",\u0226:"A",\u01e0:"A",\u00c4:"A",\u01de:"A",\u1ea2:"A",\u00c5:"A",\u01fa:"A",\u01cd:"A",\u0200:"A",\u0202:"A",\u1ea0:"A",\u1eac:"A",\u1eb6:"A",\u1e00:"A",\u0104:"A",\u023a:"A",\u2c6f:"A",\ua732:"AA",\u00c6:"AE",\u01fc:"AE",\u01e2:"AE",\ua734:"AO",\ua736:"AU",\ua738:"AV",\ua73a:"AV",\ua73c:"AY","\u24b7":"B",\uff22:"B",\u1e02:"B",\u1e04:"B",\u1e06:"B",\u0243:"B",\u0182:"B",\u0181:"B","\u24b8":"C",\uff23:"C",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u00c7:"C",\u1e08:"C",\u0187:"C",\u023b:"C",\ua73e:"C","\u24b9":"D",\uff24:"D",\u1e0a:"D",\u010e:"D",\u1e0c:"D",\u1e10:"D",\u1e12:"D",\u1e0e:"D",\u0110:"D",\u018b:"D",\u018a:"D",\u0189:"D",\ua779:"D",\u01f1:"DZ",\u01c4:"DZ",\u01f2:"Dz",\u01c5:"Dz","\u24ba":"E",\uff25:"E",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u1ec0:"E",\u1ebe:"E",\u1ec4:"E",\u1ec2:"E",\u1ebc:"E",\u0112:"E",\u1e14:"E",\u1e16:"E",\u0114:"E",\u0116:"E",\u00cb:"E",\u1eba:"E",\u011a:"E",\u0204:"E",\u0206:"E",\u1eb8:"E",\u1ec6:"E",\u0228:"E",\u1e1c:"E",\u0118:"E",\u1e18:"E",\u1e1a:"E",\u0190:"E",\u018e:"E","\u24bb":"F",\uff26:"F",\u1e1e:"F",\u0191:"F",\ua77b:"F","\u24bc":"G",\uff27:"G",\u01f4:"G",\u011c:"G",\u1e20:"G",\u011e:"G",\u0120:"G",\u01e6:"G",\u0122:"G",\u01e4:"G",\u0193:"G",\ua7a0:"G",\ua77d:"G",\ua77e:"G","\u24bd":"H",\uff28:"H",\u0124:"H",\u1e22:"H",\u1e26:"H",\u021e:"H",\u1e24:"H",\u1e28:"H",\u1e2a:"H",\u0126:"H",\u2c67:"H",\u2c75:"H",\ua78d:"H","\u24be":"I",\uff29:"I",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u0128:"I",\u012a:"I",\u012c:"I",\u0130:"I",\u00cf:"I",\u1e2e:"I",\u1ec8:"I",\u01cf:"I",\u0208:"I",\u020a:"I",\u1eca:"I",\u012e:"I",\u1e2c:"I",\u0197:"I","\u24bf":"J",\uff2a:"J",\u0134:"J",\u0248:"J","\u24c0":"K",\uff2b:"K",\u1e30:"K",\u01e8:"K",\u1e32:"K",\u0136:"K",\u1e34:"K",\u0198:"K",\u2c69:"K",\ua740:"K",\ua742:"K",\ua744:"K",\ua7a2:"K","\u24c1":"L",\uff2c:"L",\u013f:"L",\u0139:"L",\u013d:"L",\u1e36:"L",\u1e38:"L",\u013b:"L",\u1e3c:"L",\u1e3a:"L",\u0141:"L",\u023d:"L",\u2c62:"L",\u2c60:"L",\ua748:"L",\ua746:"L",\ua780:"L",\u01c7:"LJ",\u01c8:"Lj","\u24c2":"M",\uff2d:"M",\u1e3e:"M",\u1e40:"M",\u1e42:"M",\u2c6e:"M",\u019c:"M","\u24c3":"N",\uff2e:"N",\u01f8:"N",\u0143:"N",\u00d1:"N",\u1e44:"N",\u0147:"N",\u1e46:"N",\u0145:"N",\u1e4a:"N",\u1e48:"N",\u0220:"N",\u019d:"N",\ua790:"N",\ua7a4:"N",\u01ca:"NJ",\u01cb:"Nj","\u24c4":"O",\uff2f:"O",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u1ed2:"O",\u1ed0:"O",\u1ed6:"O",\u1ed4:"O",\u00d5:"O",\u1e4c:"O",\u022c:"O",\u1e4e:"O",\u014c:"O",\u1e50:"O",\u1e52:"O",\u014e:"O",\u022e:"O",\u0230:"O",\u00d6:"O",\u022a:"O",\u1ece:"O",\u0150:"O",\u01d1:"O",\u020c:"O",\u020e:"O",\u01a0:"O",\u1edc:"O",\u1eda:"O",\u1ee0:"O",\u1ede:"O",\u1ee2:"O",\u1ecc:"O",\u1ed8:"O",\u01ea:"O",\u01ec:"O",\u00d8:"O",\u01fe:"O",\u0186:"O",\u019f:"O",\ua74a:"O",\ua74c:"O",\u01a2:"OI",\ua74e:"OO",\u0222:"OU","\u24c5":"P",\uff30:"P",\u1e54:"P",\u1e56:"P",\u01a4:"P",\u2c63:"P",\ua750:"P",\ua752:"P",\ua754:"P","\u24c6":"Q",\uff31:"Q",\ua756:"Q",\ua758:"Q",\u024a:"Q","\u24c7":"R",\uff32:"R",\u0154:"R",\u1e58:"R",\u0158:"R",\u0210:"R",\u0212:"R",\u1e5a:"R",\u1e5c:"R",\u0156:"R",\u1e5e:"R",\u024c:"R",\u2c64:"R",\ua75a:"R",\ua7a6:"R",\ua782:"R","\u24c8":"S",\uff33:"S",\u1e9e:"S",\u015a:"S",\u1e64:"S",\u015c:"S",\u1e60:"S",\u0160:"S",\u1e66:"S",\u1e62:"S",\u1e68:"S",\u0218:"S",\u015e:"S",\u2c7e:"S",\ua7a8:"S",\ua784:"S","\u24c9":"T",\uff34:"T",\u1e6a:"T",\u0164:"T",\u1e6c:"T",\u021a:"T",\u0162:"T",\u1e70:"T",\u1e6e:"T",\u0166:"T",\u01ac:"T",\u01ae:"T",\u023e:"T",\ua786:"T",\ua728:"TZ","\u24ca":"U",\uff35:"U",\u00d9:"U",\u00da:"U",\u00db:"U",\u0168:"U",\u1e78:"U",\u016a:"U",\u1e7a:"U",\u016c:"U",\u00dc:"U",\u01db:"U",\u01d7:"U",\u01d5:"U",\u01d9:"U",\u1ee6:"U",\u016e:"U",\u0170:"U",\u01d3:"U",\u0214:"U",\u0216:"U",\u01af:"U",\u1eea:"U",\u1ee8:"U",\u1eee:"U",\u1eec:"U",\u1ef0:"U",\u1ee4:"U",\u1e72:"U",\u0172:"U",\u1e76:"U",\u1e74:"U",\u0244:"U","\u24cb":"V",\uff36:"V",\u1e7c:"V",\u1e7e:"V",\u01b2:"V",\ua75e:"V",\u0245:"V",\ua760:"VY","\u24cc":"W",\uff37:"W",\u1e80:"W",\u1e82:"W",\u0174:"W",\u1e86:"W",\u1e84:"W",\u1e88:"W",\u2c72:"W","\u24cd":"X",\uff38:"X",\u1e8a:"X",\u1e8c:"X","\u24ce":"Y",\uff39:"Y",\u1ef2:"Y",\u00dd:"Y",\u0176:"Y",\u1ef8:"Y",\u0232:"Y",\u1e8e:"Y",\u0178:"Y",\u1ef6:"Y",\u1ef4:"Y",\u01b3:"Y",\u024e:"Y",\u1efe:"Y","\u24cf":"Z",\uff3a:"Z",\u0179:"Z",\u1e90:"Z",\u017b:"Z",\u017d:"Z",\u1e92:"Z",\u1e94:"Z",\u01b5:"Z",\u0224:"Z",\u2c7f:"Z",\u2c6b:"Z",\ua762:"Z","\u24d0":"a",\uff41:"a",\u1e9a:"a",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u1ea7:"a",\u1ea5:"a",\u1eab:"a",\u1ea9:"a",\u00e3:"a",\u0101:"a",\u0103:"a",\u1eb1:"a",\u1eaf:"a",\u1eb5:"a",\u1eb3:"a",\u0227:"a",\u01e1:"a",\u00e4:"a",\u01df:"a",\u1ea3:"a",\u00e5:"a",\u01fb:"a",\u01ce:"a",\u0201:"a",\u0203:"a",\u1ea1:"a",\u1ead:"a",\u1eb7:"a",\u1e01:"a",\u0105:"a",\u2c65:"a",\u0250:"a",\ua733:"aa",\u00e6:"ae",\u01fd:"ae",\u01e3:"ae",\ua735:"ao",\ua737:"au",\ua739:"av",\ua73b:"av",\ua73d:"ay","\u24d1":"b",\uff42:"b",\u1e03:"b",\u1e05:"b",\u1e07:"b",\u0180:"b",\u0183:"b",\u0253:"b","\u24d2":"c",\uff43:"c",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u00e7:"c",\u1e09:"c",\u0188:"c",\u023c:"c",\ua73f:"c",\u2184:"c","\u24d3":"d",\uff44:"d",\u1e0b:"d",\u010f:"d",\u1e0d:"d",\u1e11:"d",\u1e13:"d",\u1e0f:"d",\u0111:"d",\u018c:"d",\u0256:"d",\u0257:"d",\ua77a:"d",\u01f3:"dz",\u01c6:"dz","\u24d4":"e",\uff45:"e",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u1ec1:"e",\u1ebf:"e",\u1ec5:"e",\u1ec3:"e",\u1ebd:"e",\u0113:"e",\u1e15:"e",\u1e17:"e",\u0115:"e",\u0117:"e",\u00eb:"e",\u1ebb:"e",\u011b:"e",\u0205:"e",\u0207:"e",\u1eb9:"e",\u1ec7:"e",\u0229:"e",\u1e1d:"e",\u0119:"e",\u1e19:"e",\u1e1b:"e",\u0247:"e",\u025b:"e",\u01dd:"e","\u24d5":"f",\uff46:"f",\u1e1f:"f",\u0192:"f",\ua77c:"f","\u24d6":"g",\uff47:"g",\u01f5:"g",\u011d:"g",\u1e21:"g",\u011f:"g",\u0121:"g",\u01e7:"g",\u0123:"g",\u01e5:"g",\u0260:"g",\ua7a1:"g",\u1d79:"g",\ua77f:"g","\u24d7":"h",\uff48:"h",\u0125:"h",\u1e23:"h",\u1e27:"h",\u021f:"h",\u1e25:"h",\u1e29:"h",\u1e2b:"h",\u1e96:"h",\u0127:"h",\u2c68:"h",\u2c76:"h",\u0265:"h",\u0195:"hv","\u24d8":"i",\uff49:"i",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u0129:"i",\u012b:"i",\u012d:"i",\u00ef:"i",\u1e2f:"i",\u1ec9:"i",\u01d0:"i",\u0209:"i",\u020b:"i",\u1ecb:"i",\u012f:"i",\u1e2d:"i",\u0268:"i",\u0131:"i","\u24d9":"j",\uff4a:"j",\u0135:"j",\u01f0:"j",\u0249:"j","\u24da":"k",\uff4b:"k",\u1e31:"k",\u01e9:"k",\u1e33:"k",\u0137:"k",\u1e35:"k",\u0199:"k",\u2c6a:"k",\ua741:"k",\ua743:"k",\ua745:"k",\ua7a3:"k","\u24db":"l",\uff4c:"l",\u0140:"l",\u013a:"l",\u013e:"l",\u1e37:"l",\u1e39:"l",\u013c:"l",\u1e3d:"l",\u1e3b:"l",\u017f:"l",\u0142:"l",\u019a:"l",\u026b:"l",\u2c61:"l",\ua749:"l",\ua781:"l",\ua747:"l",\u01c9:"lj","\u24dc":"m",\uff4d:"m",\u1e3f:"m",\u1e41:"m",\u1e43:"m",\u0271:"m",\u026f:"m","\u24dd":"n",\uff4e:"n",\u01f9:"n",\u0144:"n",\u00f1:"n",\u1e45:"n",\u0148:"n",\u1e47:"n",\u0146:"n",\u1e4b:"n",\u1e49:"n",\u019e:"n",\u0272:"n",\u0149:"n",\ua791:"n",\ua7a5:"n",\u01cc:"nj","\u24de":"o",\uff4f:"o",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u1ed3:"o",\u1ed1:"o",\u1ed7:"o",\u1ed5:"o",\u00f5:"o",\u1e4d:"o",\u022d:"o",\u1e4f:"o",\u014d:"o",\u1e51:"o",\u1e53:"o",\u014f:"o",\u022f:"o",\u0231:"o",\u00f6:"o",\u022b:"o",\u1ecf:"o",\u0151:"o",\u01d2:"o",\u020d:"o",\u020f:"o",\u01a1:"o",\u1edd:"o",\u1edb:"o",\u1ee1:"o",\u1edf:"o",\u1ee3:"o",\u1ecd:"o",\u1ed9:"o",\u01eb:"o",\u01ed:"o",\u00f8:"o",\u01ff:"o",\u0254:"o",\ua74b:"o",\ua74d:"o",\u0275:"o",\u01a3:"oi",\u0223:"ou",\ua74f:"oo","\u24df":"p",\uff50:"p",\u1e55:"p",\u1e57:"p",\u01a5:"p",\u1d7d:"p",\ua751:"p",\ua753:"p",\ua755:"p","\u24e0":"q",\uff51:"q",\u024b:"q",\ua757:"q",\ua759:"q","\u24e1":"r",\uff52:"r",\u0155:"r",\u1e59:"r",\u0159:"r",\u0211:"r",\u0213:"r",\u1e5b:"r",\u1e5d:"r",\u0157:"r",\u1e5f:"r",\u024d:"r",\u027d:"r",\ua75b:"r",\ua7a7:"r",\ua783:"r","\u24e2":"s",\uff53:"s",\u00df:"s",\u015b:"s",\u1e65:"s",\u015d:"s",\u1e61:"s",\u0161:"s",\u1e67:"s",\u1e63:"s",\u1e69:"s",\u0219:"s",\u015f:"s",\u023f:"s",\ua7a9:"s",\ua785:"s",\u1e9b:"s","\u24e3":"t",\uff54:"t",\u1e6b:"t",\u1e97:"t",\u0165:"t",\u1e6d:"t",\u021b:"t",\u0163:"t",\u1e71:"t",\u1e6f:"t",\u0167:"t",\u01ad:"t",\u0288:"t",\u2c66:"t",\ua787:"t",\ua729:"tz","\u24e4":"u",\uff55:"u",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u0169:"u",\u1e79:"u",\u016b:"u",\u1e7b:"u",\u016d:"u",\u00fc:"u",\u01dc:"u",\u01d8:"u",\u01d6:"u",\u01da:"u",\u1ee7:"u",\u016f:"u",\u0171:"u",\u01d4:"u",\u0215:"u",\u0217:"u",\u01b0:"u",\u1eeb:"u",\u1ee9:"u",\u1eef:"u",\u1eed:"u",\u1ef1:"u",\u1ee5:"u",\u1e73:"u",\u0173:"u",\u1e77:"u",\u1e75:"u",\u0289:"u","\u24e5":"v",\uff56:"v",\u1e7d:"v",\u1e7f:"v",\u028b:"v",\ua75f:"v",\u028c:"v",\ua761:"vy","\u24e6":"w",\uff57:"w",\u1e81:"w",\u1e83:"w",\u0175:"w",\u1e87:"w",\u1e85:"w",\u1e98:"w",\u1e89:"w",\u2c73:"w","\u24e7":"x",\uff58:"x",\u1e8b:"x",\u1e8d:"x","\u24e8":"y",\uff59:"y",\u1ef3:"y",\u00fd:"y",\u0177:"y",\u1ef9:"y",\u0233:"y",\u1e8f:"y",\u00ff:"y",\u1ef7:"y",\u1e99:"y",\u1ef5:"y",\u01b4:"y",\u024f:"y",\u1eff:"y","\u24e9":"z",\uff5a:"z",\u017a:"z",\u1e91:"z",\u017c:"z",\u017e:"z",\u1e93:"z",\u1e95:"z",\u01b6:"z",\u0225:"z",\u0240:"z",\u2c6c:"z",\ua763:"z",\u0386:"\u0391",\u0388:"\u0395",\u0389:"\u0397",\u038a:"\u0399",\u03aa:"\u0399",\u038c:"\u039f",\u038e:"\u03a5",\u03ab:"\u03a5",\u038f:"\u03a9",\u03ac:"\u03b1",\u03ad:"\u03b5",\u03ae:"\u03b7",\u03af:"\u03b9",\u03ca:"\u03b9",\u0390:"\u03b9",\u03cc:"\u03bf",\u03cd:"\u03c5",\u03cb:"\u03c5",\u03b0:"\u03c5",\u03c9:"\u03c9",\u03c2:"\u03c3"};function sn(e){return e.replace(/[^\u0000-\u007E]/g,t=>yl[t]||t)}class xl{constructor(n,t){this._ngSelect=n,this._selectionModel=t,this._items=[],this._filteredItems=[],this._markedIndex=-1}get items(){return this._items}get filteredItems(){return this._filteredItems}get markedIndex(){return this._markedIndex}get selectedItems(){return this._selectionModel.value}get markedItem(){return this._filteredItems[this._markedIndex]}get noItemsToSelect(){return this._ngSelect.hideSelected&&this._items.length===this.selectedItems.length}get maxItemsSelected(){return this._ngSelect.multiple&&this._ngSelect.maxSelectedItems<=this.selectedItems.length}get lastSelectedItem(){let n=this.selectedItems.length-1;for(;n>=0;n--){const t=this.selectedItems[n];if(!t.disabled)return t}return null}setItems(n){this._items=n.map((t,i)=>this.mapItem(t,i)),this._ngSelect.groupBy?(this._groups=this._groupBy(this._items,this._ngSelect.groupBy),this._items=this._flatten(this._groups)):(this._groups=new Map,this._groups.set(void 0,this._items)),this._filteredItems=[...this._items]}select(n){if(n.selected||this.maxItemsSelected)return;const t=this._ngSelect.multiple;t||this.clearSelected(),this._selectionModel.select(n,t,this._ngSelect.selectableGroupAsModel),this._ngSelect.hideSelected&&this._hideSelected(n)}unselect(n){!n.selected||(this._selectionModel.unselect(n,this._ngSelect.multiple),this._ngSelect.hideSelected&&bt(n.index)&&this._ngSelect.multiple&&this._showSelected(n))}findItem(n){let t;return t=this._ngSelect.compareWith?i=>this._ngSelect.compareWith(i.value,n):this._ngSelect.bindValue?i=>!i.children&&this.resolveNested(i.value,this._ngSelect.bindValue)===n:i=>i.value===n||!i.children&&i.label&&i.label===this.resolveNested(n,this._ngSelect.bindLabel),this._items.find(i=>t(i))}addItem(n){const t=this.mapItem(n,this._items.length);return this._items.push(t),this._filteredItems.push(t),t}clearSelected(n=!1){this._selectionModel.clear(n),this._items.forEach(t=>{t.selected=n&&t.selected&&t.disabled,t.marked=!1}),this._ngSelect.hideSelected&&this.resetFilteredItems()}findByLabel(n){return n=sn(n).toLocaleLowerCase(),this.filteredItems.find(t=>sn(t.label).toLocaleLowerCase().substr(0,n.length)===n)}filter(n){if(!n)return void this.resetFilteredItems();this._filteredItems=[],n=this._ngSelect.searchFn?n:sn(n).toLocaleLowerCase();const t=this._ngSelect.searchFn||this._defaultSearchFn,i=this._ngSelect.hideSelected;for(const p of Array.from(this._groups.keys())){const x=[];for(const T of this._groups.get(p))i&&(T.parent&&T.parent.selected||T.selected)||t(n,this._ngSelect.searchFn?T.value:T)&&x.push(T);if(x.length>0){const[T]=x.slice(-1);if(T.parent){const C=this._items.find(I=>I===T.parent);this._filteredItems.push(C)}this._filteredItems.push(...x)}}}resetFilteredItems(){this._filteredItems.length!==this._items.length&&(this._filteredItems=this._ngSelect.hideSelected&&this.selectedItems.length>0?this._items.filter(n=>!n.selected):this._items)}unmarkItem(){this._markedIndex=-1}markNextItem(){this._stepToItem(1)}markPreviousItem(){this._stepToItem(-1)}markItem(n){this._markedIndex=this._filteredItems.indexOf(n)}markSelectedOrDefault(n){if(0===this._filteredItems.length)return;const t=this._getLastMarkedIndex();this._markedIndex=t>-1?t:n?this.filteredItems.findIndex(i=>!i.disabled):-1}resolveNested(n,t){if(!Pe(n))return n;if(-1===t.indexOf("."))return n[t];{const i=t.split(".");let p=n;for(let x=0,T=i.length;x<T;++x){if(null==p)return null;p=p[i[x]]}return p}}mapItem(n,t){const i=bt(n.$ngOptionLabel)?n.$ngOptionLabel:this.resolveNested(n,this._ngSelect.bindLabel),p=bt(n.$ngOptionValue)?n.$ngOptionValue:n;return{index:t,label:bt(i)?i.toString():"",value:p,disabled:n.disabled,htmlId:`${this._ngSelect.dropdownId}-${t}`}}mapSelectedItems(){const n=this._ngSelect.multiple;for(const t of this.selectedItems){const i=this._ngSelect.bindValue?this.resolveNested(t.value,this._ngSelect.bindValue):t.value,p=bt(i)?this.findItem(i):null;this._selectionModel.unselect(t,n),this._selectionModel.select(p||t,n,this._ngSelect.selectableGroupAsModel)}this._ngSelect.hideSelected&&(this._filteredItems=this.filteredItems.filter(t=>-1===this.selectedItems.indexOf(t)))}_showSelected(n){if(this._filteredItems.push(n),n.parent){const t=n.parent;this._filteredItems.find(p=>p===t)||this._filteredItems.push(t)}else if(n.children)for(const t of n.children)t.selected=!1,this._filteredItems.push(t);this._filteredItems=[...this._filteredItems.sort((t,i)=>t.index-i.index)]}_hideSelected(n){this._filteredItems=this._filteredItems.filter(t=>t!==n),n.parent?n.parent.children.every(i=>i.selected)&&(this._filteredItems=this._filteredItems.filter(i=>i!==n.parent)):n.children&&(this._filteredItems=this.filteredItems.filter(t=>t.parent!==n))}_defaultSearchFn(n,t){return sn(t.label).toLocaleLowerCase().indexOf(n)>-1}_getNextItemIndex(n){return n>0?this._markedIndex>=this._filteredItems.length-1?0:this._markedIndex+1:this._markedIndex<=0?this._filteredItems.length-1:this._markedIndex-1}_stepToItem(n){0===this._filteredItems.length||this._filteredItems.every(t=>t.disabled)||(this._markedIndex=this._getNextItemIndex(n),this.markedItem.disabled&&this._stepToItem(n))}_getLastMarkedIndex(){if(this._ngSelect.hideSelected||this._markedIndex>-1&&void 0===this.markedItem)return-1;const n=this._filteredItems.indexOf(this.lastSelectedItem);return this.lastSelectedItem&&n<0?-1:Math.max(this.markedIndex,n)}_groupBy(n,t){const i=new Map;if(0===n.length)return i;if(Array.isArray(n[0].value[t])){for(const T of n){const C=(T.value[t]||[]).map((I,F)=>this.mapItem(I,F));i.set(T,C)}return i}const p=rn(this._ngSelect.groupBy),x=T=>{const C=p?t(T.value):T.value[t];return bt(C)?C:void 0};for(const T of n){const C=x(T),I=i.get(C);I?I.push(T):i.set(C,[T])}return i}_flatten(n){const t=rn(this._ngSelect.groupBy),i=[];for(const p of Array.from(n.keys())){let x=i.length;if(void 0===p){const Z=n.get(void 0)||[];i.push(...Z.map(j=>(j.index=x++,j)));continue}const T=Pe(p),C={label:T?"":String(p),children:void 0,parent:null,index:x++,disabled:!this._ngSelect.selectableGroup,htmlId:rr()},I=t?this._ngSelect.bindLabel:this._ngSelect.groupBy,F=this._ngSelect.groupValue||(()=>T?p.value:{[I]:p}),V=n.get(p).map(Z=>(Z.parent=C,Z.children=void 0,Z.index=x++,Z));C.children=V,C.value=F(p,V.map(Z=>Z.value)),i.push(C),i.push(...V)}return i}}var Rt=(()=>{return(e=Rt||(Rt={}))[e.Tab=9]="Tab",e[e.Enter=13]="Enter",e[e.Esc=27]="Esc",e[e.Space=32]="Space",e[e.ArrowUp=38]="ArrowUp",e[e.ArrowDown=40]="ArrowDown",e[e.Backspace=8]="Backspace",Rt;var e})();let sr=(()=>{class e{constructor(){this._dimensions={itemHeight:0,panelHeight:0,itemsPerViewport:0}}get dimensions(){return this._dimensions}calculateItems(t,i,p){const x=this._dimensions,T=x.itemHeight*i,I=Math.max(0,t)/T*i;let F=Math.min(i,Math.ceil(I)+(x.itemsPerViewport+1));const Z=Math.max(0,F-x.itemsPerViewport);let j=Math.min(Z,Math.floor(I)),q=x.itemHeight*Math.ceil(j)-x.itemHeight*Math.min(j,p);return q=isNaN(q)?0:q,j=isNaN(j)?-1:j,F=isNaN(F)?-1:F,j-=p,j=Math.max(0,j),F+=p,F=Math.min(i,F),{topPadding:q,scrollHeight:T,start:j,end:F}}setDimensions(t,i){const p=Math.max(1,Math.floor(i/t));this._dimensions={itemHeight:t,panelHeight:i,itemsPerViewport:p}}getScrollTo(t,i,p){const{panelHeight:x}=this.dimensions,T=t+i,I=p+x;return x>=T&&p===t?null:T>I?p+T-I:t<=p?t:null}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e})();const or=["top","right","bottom","left"],_l=typeof requestAnimationFrame<"u"?xu.Z:_u.E;let ar=(()=>{class e{constructor(t,i,p,x,T){this._renderer=t,this._zone=i,this._panelService=p,this._document=T,this.items=[],this.position="auto",this.virtualScroll=!1,this.filterValue=null,this.update=new s.vpe,this.scroll=new s.vpe,this.scrollToEnd=new s.vpe,this.outsideClick=new s.vpe,this._destroy$=new fe.x,this._scrollToEndFired=!1,this._updateScrollHeight=!1,this._lastScrollPosition=0,this._dropdown=x.nativeElement}get currentPosition(){return this._currentPosition}get itemsLength(){return this._itemsLength}set itemsLength(t){t!==this._itemsLength&&(this._itemsLength=t,this._onItemsLengthChanged())}get _startOffset(){if(this.markedItem){const{itemHeight:t,panelHeight:i}=this._panelService.dimensions,p=this.markedItem.index*t;return i>p?0:p}return 0}ngOnInit(){this._select=this._dropdown.parentElement,this._virtualPadding=this.paddingElementRef.nativeElement,this._scrollablePanel=this.scrollElementRef.nativeElement,this._contentPanel=this.contentElementRef.nativeElement,this._handleScroll(),this._handleOutsideClick(),this._appendDropdown(),this._setupMousedownListener()}ngOnChanges(t){if(t.items){const i=t.items;this._onItemsChange(i.currentValue,i.firstChange)}}ngOnDestroy(){this._destroy$.next(),this._destroy$.complete(),this._destroy$.unsubscribe(),this.appendTo&&this._renderer.removeChild(this._dropdown.parentNode,this._dropdown)}scrollTo(t,i=!1){if(!t)return;const p=this.items.indexOf(t);if(p<0||p>=this.itemsLength)return;let x;if(this.virtualScroll){const T=this._panelService.dimensions.itemHeight;x=this._panelService.getScrollTo(p*T,T,this._lastScrollPosition)}else{const T=this._dropdown.querySelector(`#${t.htmlId}`);x=this._panelService.getScrollTo(T.offsetTop,T.clientHeight,i?T.offsetTop:this._lastScrollPosition)}bt(x)&&(this._scrollablePanel.scrollTop=x)}scrollToTag(){const t=this._scrollablePanel;t.scrollTop=t.scrollHeight-t.clientHeight}adjustPosition(){this._updateYPosition()}_handleDropdownPosition(){this._currentPosition=this._calculateCurrentPosition(this._dropdown),or.includes(this._currentPosition)?this._updateDropdownClass(this._currentPosition):this._updateDropdownClass("bottom"),this.appendTo&&this._updateYPosition(),this._dropdown.style.opacity="1"}_updateDropdownClass(t){or.forEach(p=>{const x=`ng-select-${p}`;this._renderer.removeClass(this._dropdown,x),this._renderer.removeClass(this._select,x)});const i=`ng-select-${t}`;this._renderer.addClass(this._dropdown,i),this._renderer.addClass(this._select,i)}_handleScroll(){this._zone.runOutsideAngular(()=>{(0,Ne.R)(this.scrollElementRef.nativeElement,"scroll").pipe((0,xe.R)(this._destroy$),(0,pu.e)(0,_l)).subscribe(t=>{const i=t.path||t.composedPath&&t.composedPath();this._onContentScrolled(i&&0!==i.length?i[0].scrollTop:t.target.scrollTop)})})}_handleOutsideClick(){!this._document||this._zone.runOutsideAngular(()=>{(0,Nn.T)((0,Ne.R)(this._document,"touchstart",{capture:!0}),(0,Ne.R)(this._document,"mousedown",{capture:!0})).pipe((0,xe.R)(this._destroy$)).subscribe(t=>this._checkToClose(t))})}_checkToClose(t){if(this._select.contains(t.target)||this._dropdown.contains(t.target))return;const i=t.path||t.composedPath&&t.composedPath();t.target&&t.target.shadowRoot&&i&&i[0]&&this._select.contains(i[0])||this._zone.run(()=>this.outsideClick.emit())}_onItemsChange(t,i){this.items=t||[],this._scrollToEndFired=!1,this.itemsLength=t.length,this.virtualScroll?this._updateItemsRange(i):(this._setVirtualHeight(),this._updateItems(i))}_updateItems(t){this.update.emit(this.items),!1!==t&&this._zone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._panelService.setDimensions(0,this._scrollablePanel.clientHeight),this._handleDropdownPosition(),this.scrollTo(this.markedItem,t)})})}_updateItemsRange(t){this._zone.runOutsideAngular(()=>{this._measureDimensions().then(()=>{t?(this._renderItemsRange(this._startOffset),this._handleDropdownPosition()):this._renderItemsRange()})})}_onContentScrolled(t){this.virtualScroll&&this._renderItemsRange(t),this._lastScrollPosition=t,this._fireScrollToEnd(t)}_updateVirtualHeight(t){this._updateScrollHeight&&(this._virtualPadding.style.height=`${t}px`,this._updateScrollHeight=!1)}_setVirtualHeight(){!this._virtualPadding||(this._virtualPadding.style.height="0px")}_onItemsLengthChanged(){this._updateScrollHeight=!0}_renderItemsRange(t=null){if(t&&this._lastScrollPosition===t)return;const i=this._panelService.calculateItems(t=t||this._scrollablePanel.scrollTop,this.itemsLength,this.bufferAmount);this._updateVirtualHeight(i.scrollHeight),this._contentPanel.style.transform=`translateY(${i.topPadding}px)`,this._zone.run(()=>{this.update.emit(this.items.slice(i.start,i.end)),this.scroll.emit({start:i.start,end:i.end})}),bt(t)&&0===this._lastScrollPosition&&(this._scrollablePanel.scrollTop=t,this._lastScrollPosition=t)}_measureDimensions(){if(this._panelService.dimensions.itemHeight>0||0===this.itemsLength)return Promise.resolve(this._panelService.dimensions);const[t]=this.items;return this.update.emit([t]),Promise.resolve().then(()=>{const p=this._dropdown.querySelector(`#${t.htmlId}`).clientHeight;return this._virtualPadding.style.height=p*this.itemsLength+"px",this._panelService.setDimensions(p,this._scrollablePanel.clientHeight),this._panelService.dimensions})}_fireScrollToEnd(t){this._scrollToEndFired||0===t||t+this._dropdown.clientHeight>=(this.virtualScroll?this._virtualPadding:this._contentPanel).clientHeight-1&&(this._zone.run(()=>this.scrollToEnd.emit()),this._scrollToEndFired=!0)}_calculateCurrentPosition(t){if("auto"!==this.position)return this.position;const i=this._select.getBoundingClientRect(),p=document.documentElement.scrollTop||document.body.scrollTop;return i.top+window.pageYOffset+i.height+t.getBoundingClientRect().height>p+document.documentElement.clientHeight?"top":"bottom"}_appendDropdown(){if(this.appendTo){if(this._parent=document.querySelector(this.appendTo),!this._parent)throw new Error(`appendTo selector ${this.appendTo} did not found any parent element`);this._updateXPosition(),this._parent.appendChild(this._dropdown)}}_updateXPosition(){const t=this._select.getBoundingClientRect(),i=this._parent.getBoundingClientRect();this._dropdown.style.left=t.left-i.left+"px",this._dropdown.style.width=t.width+"px",this._dropdown.style.minWidth=t.width+"px"}_updateYPosition(){const t=this._select.getBoundingClientRect(),i=this._parent.getBoundingClientRect(),p=t.height;"top"===this._currentPosition?(this._dropdown.style.bottom=i.bottom-t.bottom+p+"px",this._dropdown.style.top="auto"):"bottom"===this._currentPosition&&(this._dropdown.style.top=t.top-i.top+p+"px",this._dropdown.style.bottom="auto")}_setupMousedownListener(){this._zone.runOutsideAngular(()=>{(0,Ne.R)(this._dropdown,"mousedown").pipe((0,xe.R)(this._destroy$)).subscribe(t=>{"INPUT"!==t.target.tagName&&t.preventDefault()})})}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(s.Qsj),s.Y36(s.R0b),s.Y36(sr),s.Y36(s.SBq),s.Y36(v.K0,8))},e.\u0275cmp=s.Xpm({type:e,selectors:[["ng-dropdown-panel"]],viewQuery:function(t,i){if(1&t&&(s.Gf(bu,7,s.SBq),s.Gf(wu,7,s.SBq),s.Gf(Eu,7,s.SBq)),2&t){let p;s.iGM(p=s.CRH())&&(i.contentElementRef=p.first),s.iGM(p=s.CRH())&&(i.scrollElementRef=p.first),s.iGM(p=s.CRH())&&(i.paddingElementRef=p.first)}},inputs:{items:"items",markedItem:"markedItem",position:"position",appendTo:"appendTo",bufferAmount:"bufferAmount",virtualScroll:"virtualScroll",headerTemplate:"headerTemplate",footerTemplate:"footerTemplate",filterValue:"filterValue"},outputs:{update:"update",scroll:"scroll",scrollToEnd:"scrollToEnd",outsideClick:"outsideClick"},features:[s.TTD],ngContentSelectors:nr,decls:9,vars:6,consts:[["class","ng-dropdown-header",4,"ngIf"],[1,"ng-dropdown-panel-items","scroll-host"],["scroll",""],["padding",""],["content",""],["class","ng-dropdown-footer",4,"ngIf"],[1,"ng-dropdown-header"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"ng-dropdown-footer"]],template:function(t,i){1&t&&(s.F$t(),s.YNc(0,Tu,2,4,"div",0),s.TgZ(1,"div",1,2),s._UZ(3,"div",null,3),s.TgZ(5,"div",null,4),s.Hsn(7),s.qZA()(),s.YNc(8,Cu,2,4,"div",5)),2&t&&(s.Q6J("ngIf",i.headerTemplate),s.xp6(3),s.ekj("total-padding",i.virtualScroll),s.xp6(2),s.ekj("scrollable-content",i.virtualScroll&&i.items.length),s.xp6(3),s.Q6J("ngIf",i.footerTemplate))},dependencies:[v.O5,v.tP],encapsulation:2,changeDetection:0}),e})(),bl=(()=>{class e{constructor(t){this.elementRef=t,this.stateChange$=new fe.x,this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=this._isDisabled(t)}get label(){return(this.elementRef.nativeElement.textContent||"").trim()}ngOnChanges(t){t.disabled&&this.stateChange$.next({value:this.value,disabled:this._disabled})}ngAfterViewChecked(){this.label!==this._previousLabel&&(this._previousLabel=this.label,this.stateChange$.next({value:this.value,disabled:this._disabled,label:this.elementRef.nativeElement.innerHTML}))}ngOnDestroy(){this.stateChange$.complete()}_isDisabled(t){return null!=t&&"false"!=`${t}`}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(s.SBq))},e.\u0275cmp=s.Xpm({type:e,selectors:[["ng-option"]],inputs:{value:"value",disabled:"disabled"},features:[s.TTD],ngContentSelectors:nr,decls:1,vars:0,template:function(t,i){1&t&&(s.F$t(),s.Hsn(0))},encapsulation:2,changeDetection:0}),e})(),wl=(()=>{class e{constructor(){this.notFoundText="No items found",this.typeToSearchText="Type to search",this.addTagText="Add item",this.loadingText="Loading...",this.clearAllText="Clear all",this.disableVirtualScroll=!0,this.openOnEnter=!0,this.appearance="underline"}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),El=(()=>{class e{warn(t){console.warn(t)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const ur=new s.OlP("ng-select-selection-model");let Tl=(()=>{class e{constructor(t,i,p,x,T,C,I){this.classes=t,this.autoFocus=i,this.config=p,this._cd=C,this._console=I,this.markFirst=!0,this.dropdownPosition="auto",this.loading=!1,this.closeOnSelect=!0,this.hideSelected=!1,this.selectOnTab=!1,this.bufferAmount=4,this.selectableGroup=!1,this.selectableGroupAsModel=!0,this.searchFn=null,this.trackByFn=null,this.clearOnBackspace=!0,this.labelForId=null,this.inputAttrs={},this.readonly=!1,this.searchWhileComposing=!0,this.minTermLength=0,this.editableSearchTerm=!1,this.keyDownFn=F=>!0,this.multiple=!1,this.addTag=!1,this.searchable=!0,this.clearable=!0,this.isOpen=!1,this.blurEvent=new s.vpe,this.focusEvent=new s.vpe,this.changeEvent=new s.vpe,this.openEvent=new s.vpe,this.closeEvent=new s.vpe,this.searchEvent=new s.vpe,this.clearEvent=new s.vpe,this.addEvent=new s.vpe,this.removeEvent=new s.vpe,this.scroll=new s.vpe,this.scrollToEnd=new s.vpe,this.useDefaultClass=!0,this.viewPortItems=[],this.searchTerm=null,this.dropdownId=rr(),this.escapeHTML=!0,this._items=[],this._defaultLabel="label",this._pressedKeys=[],this._isComposing=!1,this._destroy$=new fe.x,this._keyPress$=new fe.x,this._onChange=F=>{},this._onTouched=()=>{},this.clearItem=F=>{const V=this.selectedItems.find(Z=>Z.value===F);this.unselect(V)},this.trackByOption=(F,V)=>this.trackByFn?this.trackByFn(V.value):V,this._mergeGlobalConfig(p),this.itemsList=new xl(this,x()),this.element=T.nativeElement}get items(){return this._items}set items(t){null===t&&(t=[]),this._itemsAreUsed=!0,this._items=t}get compareWith(){return this._compareWith}set compareWith(t){if(null!=t&&!rn(t))throw Error("`compareWith` must be a function.");this._compareWith=t}get clearSearchOnAdd(){return bt(this._clearSearchOnAdd)?this._clearSearchOnAdd:bt(this.config.clearSearchOnAdd)?this.config.clearSearchOnAdd:this.closeOnSelect}set clearSearchOnAdd(t){this._clearSearchOnAdd=t}get disabled(){return this.readonly||this._disabled}get filtered(){return!!this.searchTerm&&this.searchable||this._isComposing}get single(){return!this.multiple}get _editableSearchTerm(){return this.editableSearchTerm&&!this.multiple}get selectedItems(){return this.itemsList.selectedItems}get selectedValues(){return this.selectedItems.map(t=>t.value)}get hasValue(){return this.selectedItems.length>0}get currentPanelPosition(){if(this.dropdownPanel)return this.dropdownPanel.currentPosition}ngOnInit(){this._handleKeyPresses(),this._setInputAttributes()}ngOnChanges(t){t.multiple&&this.itemsList.clearSelected(),t.items&&this._setItems(t.items.currentValue||[]),t.isOpen&&(this._manualOpen=bt(t.isOpen.currentValue))}ngAfterViewInit(){this._itemsAreUsed||(this.escapeHTML=!1,this._setItemsFromNgOptions()),bt(this.autoFocus)&&this.focus()}ngOnDestroy(){this._destroy$.next(),this._destroy$.complete()}handleKeyDown(t){if(Rt[t.which]){if(!1===this.keyDownFn(t))return;this.handleKeyCode(t)}else t.key&&1===t.key.length&&this._keyPress$.next(t.key.toLocaleLowerCase())}handleKeyCode(t){switch(t.which){case Rt.ArrowDown:this._handleArrowDown(t);break;case Rt.ArrowUp:this._handleArrowUp(t);break;case Rt.Space:this._handleSpace(t);break;case Rt.Enter:this._handleEnter(t);break;case Rt.Tab:this._handleTab(t);break;case Rt.Esc:this.close(),t.preventDefault();break;case Rt.Backspace:this._handleBackspace()}}handleMousedown(t){const i=t.target;"INPUT"!==i.tagName&&t.preventDefault(),i.classList.contains("ng-clear-wrapper")?this.handleClearClick():i.classList.contains("ng-arrow-wrapper")?this.handleArrowClick():i.classList.contains("ng-value-icon")||(this.focused||this.focus(),this.searchable?this.open():this.toggle())}handleArrowClick(){this.isOpen?this.close():this.open()}handleClearClick(){this.hasValue&&(this.itemsList.clearSelected(!0),this._updateNgModel()),this._clearSearch(),this.focus(),this.clearEvent.emit(),this._onSelectionChanged()}clearModel(){!this.clearable||(this.itemsList.clearSelected(),this._updateNgModel())}writeValue(t){this.itemsList.clearSelected(),this._handleWriteValue(t),this._cd.markForCheck()}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this._disabled=t,this._cd.markForCheck()}toggle(){this.isOpen?this.close():this.open()}open(){this.disabled||this.isOpen||this._manualOpen||!this._isTypeahead&&!this.addTag&&this.itemsList.noItemsToSelect||(this.isOpen=!0,this.itemsList.markSelectedOrDefault(this.markFirst),this.openEvent.emit(),this.searchTerm||this.focus(),this.detectChanges())}close(){!this.isOpen||this._manualOpen||(this.isOpen=!1,this._isComposing=!1,this._editableSearchTerm?this.itemsList.resetFilteredItems():this._clearSearch(),this.itemsList.unmarkItem(),this._onTouched(),this.closeEvent.emit(),this._cd.markForCheck())}toggleItem(t){!t||t.disabled||this.disabled||(this.multiple&&t.selected?this.unselect(t):this.select(t),this._editableSearchTerm&&this._setSearchTermFromItems(),this._onSelectionChanged())}select(t){t.selected||(this.itemsList.select(t),this.clearSearchOnAdd&&!this._editableSearchTerm&&this._clearSearch(),this._updateNgModel(),this.multiple&&this.addEvent.emit(t.value)),(this.closeOnSelect||this.itemsList.noItemsToSelect)&&this.close()}focus(){this.searchInput.nativeElement.focus()}blur(){this.searchInput.nativeElement.blur()}unselect(t){!t||(this.itemsList.unselect(t),this.focus(),this._updateNgModel(),this.removeEvent.emit(t))}selectTag(){let t;t=rn(this.addTag)?this.addTag(this.searchTerm):this._primitive?this.searchTerm:{[this.bindLabel]:this.searchTerm};const i=p=>this._isTypeahead||!this.isOpen?this.itemsList.mapItem(p,null):this.itemsList.addItem(p);!function sl(e){return e instanceof Promise}(t)?t&&this.select(i(t)):t.then(p=>this.select(i(p))).catch(()=>{})}showClear(){return this.clearable&&(this.hasValue||this.searchTerm)&&!this.disabled}get showAddTag(){if(!this._validTerm)return!1;const t=this.searchTerm.toLowerCase().trim();return this.addTag&&!this.itemsList.filteredItems.some(i=>i.label.toLowerCase()===t)&&(!this.hideSelected&&this.isOpen||!this.selectedItems.some(i=>i.label.toLowerCase()===t))&&!this.loading}showNoItemsFound(){const t=0===this.itemsList.filteredItems.length;return(t&&!this._isTypeahead&&!this.loading||t&&this._isTypeahead&&this._validTerm&&!this.loading)&&!this.showAddTag}showTypeToSearch(){return 0===this.itemsList.filteredItems.length&&this._isTypeahead&&!this._validTerm&&!this.loading}onCompositionStart(){this._isComposing=!0}onCompositionEnd(t){this._isComposing=!1,!this.searchWhileComposing&&this.filter(t)}filter(t){this._isComposing&&!this.searchWhileComposing||(this.searchTerm=t,this._isTypeahead&&(this._validTerm||0===this.minTermLength)&&this.typeahead.next(t),this._isTypeahead||(this.itemsList.filter(this.searchTerm),this.isOpen&&this.itemsList.markSelectedOrDefault(this.markFirst)),this.searchEvent.emit({term:t,items:this.itemsList.filteredItems.map(i=>i.value)}),this.open())}onInputFocus(t){this.focused||(this._editableSearchTerm&&this._setSearchTermFromItems(),this.element.classList.add("ng-select-focused"),this.focusEvent.emit(t),this.focused=!0)}onInputBlur(t){this.element.classList.remove("ng-select-focused"),this.blurEvent.emit(t),!this.isOpen&&!this.disabled&&this._onTouched(),this._editableSearchTerm&&this._setSearchTermFromItems(),this.focused=!1}onItemHover(t){t.disabled||this.itemsList.markItem(t)}detectChanges(){this._cd.destroyed||this._cd.detectChanges()}_setSearchTermFromItems(){const t=this.selectedItems&&this.selectedItems[0];this.searchTerm=t&&t.label||null}_setItems(t){const i=t[0];this.bindLabel=this.bindLabel||this._defaultLabel,this._primitive=bt(i)?!Pe(i):this._primitive||this.bindLabel===this._defaultLabel,this.itemsList.setItems(t),t.length>0&&this.hasValue&&this.itemsList.mapSelectedItems(),this.isOpen&&bt(this.searchTerm)&&!this._isTypeahead&&this.itemsList.filter(this.searchTerm),(this._isTypeahead||this.isOpen)&&this.itemsList.markSelectedOrDefault(this.markFirst)}_setItemsFromNgOptions(){const t=p=>{this.items=p.map(x=>({$ngOptionValue:x.value,$ngOptionLabel:x.elementRef.nativeElement.innerHTML,disabled:x.disabled})),this.itemsList.setItems(this.items),this.hasValue&&this.itemsList.mapSelectedItems(),this.detectChanges()},i=()=>{const p=(0,Nn.T)(this.ngOptions.changes,this._destroy$);(0,Nn.T)(...this.ngOptions.map(x=>x.stateChange$)).pipe((0,xe.R)(p)).subscribe(x=>{const T=this.itemsList.findItem(x.value);T.disabled=x.disabled,T.label=x.label||T.label,this._cd.detectChanges()})};this.ngOptions.changes.pipe((0,gu.O)(this.ngOptions),(0,xe.R)(this._destroy$)).subscribe(p=>{this.bindLabel=this._defaultLabel,t(p),i()})}_isValidWriteValue(t){if(!bt(t)||this.multiple&&""===t||Array.isArray(t)&&0===t.length)return!1;const i=p=>!(!bt(this.compareWith)&&Pe(p)&&this.bindValue&&(this._console.warn(`Setting object(${JSON.stringify(p)}) as your model with bindValue is not allowed unless [compareWith] is used.`),1));return this.multiple?Array.isArray(t)?t.every(p=>i(p)):(this._console.warn("Multiple select ngModel should be array."),!1):i(t)}_handleWriteValue(t){if(!this._isValidWriteValue(t))return;const i=p=>{let x=this.itemsList.findItem(p);if(x)this.itemsList.select(x);else{const T=Pe(p),C=!T&&!this.bindValue;T||C?this.itemsList.select(this.itemsList.mapItem(p,null)):this.bindValue&&(x={[this.bindLabel]:null,[this.bindValue]:p},this.itemsList.select(this.itemsList.mapItem(x,null)))}};this.multiple?t.forEach(p=>i(p)):i(t)}_handleKeyPresses(){this.searchable||this._keyPress$.pipe((0,xe.R)(this._destroy$),(0,mu.b)(t=>this._pressedKeys.push(t)),(0,Ii.b)(200),(0,vu.h)(()=>this._pressedKeys.length>0),(0,yu.U)(()=>this._pressedKeys.join(""))).subscribe(t=>{const i=this.itemsList.findByLabel(t);i&&(this.isOpen?(this.itemsList.markItem(i),this._scrollToMarked(),this._cd.markForCheck()):this.select(i)),this._pressedKeys=[]})}_setInputAttributes(){const t=this.searchInput.nativeElement,i={type:"text",autocorrect:"off",autocapitalize:"off",autocomplete:this.labelForId?"off":this.dropdownId,...this.inputAttrs};for(const p of Object.keys(i))t.setAttribute(p,i[p])}_updateNgModel(){const t=[];for(const p of this.selectedItems)if(this.bindValue){let x=null;x=p.children?p.value[(this.groupValue?this.bindValue:this.groupBy)||this.groupBy]:this.itemsList.resolveNested(p.value,this.bindValue),t.push(x)}else t.push(p.value);const i=this.selectedItems.map(p=>p.value);this.multiple?(this._onChange(t),this.changeEvent.emit(i)):(this._onChange(bt(t[0])?t[0]:null),this.changeEvent.emit(i[0])),this._cd.markForCheck()}_clearSearch(){!this.searchTerm||(this._changeSearch(null),this.itemsList.resetFilteredItems())}_changeSearch(t){this.searchTerm=t,this._isTypeahead&&this.typeahead.next(t)}_scrollToMarked(){!this.isOpen||!this.dropdownPanel||this.dropdownPanel.scrollTo(this.itemsList.markedItem)}_scrollToTag(){!this.isOpen||!this.dropdownPanel||this.dropdownPanel.scrollToTag()}_onSelectionChanged(){this.isOpen&&this.multiple&&this.appendTo&&(this._cd.detectChanges(),this.dropdownPanel.adjustPosition())}_handleTab(t){!1===this.isOpen&&!this.addTag||(this.selectOnTab?this.itemsList.markedItem?(this.toggleItem(this.itemsList.markedItem),t.preventDefault()):this.showAddTag?(this.selectTag(),t.preventDefault()):this.close():this.close())}_handleEnter(t){if(this.isOpen||this._manualOpen)this.itemsList.markedItem?this.toggleItem(this.itemsList.markedItem):this.showAddTag&&this.selectTag();else{if(!this.openOnEnter)return;this.open()}t.preventDefault()}_handleSpace(t){this.isOpen||this._manualOpen||(this.open(),t.preventDefault())}_handleArrowDown(t){this._nextItemIsTag(1)?(this.itemsList.unmarkItem(),this._scrollToTag()):(this.itemsList.markNextItem(),this._scrollToMarked()),this.open(),t.preventDefault()}_handleArrowUp(t){!this.isOpen||(this._nextItemIsTag(-1)?(this.itemsList.unmarkItem(),this._scrollToTag()):(this.itemsList.markPreviousItem(),this._scrollToMarked()),t.preventDefault())}_nextItemIsTag(t){const i=this.itemsList.markedIndex+t;return this.addTag&&this.searchTerm&&this.itemsList.markedItem&&(i<0||i===this.itemsList.filteredItems.length)}_handleBackspace(){this.searchTerm||!this.clearable||!this.clearOnBackspace||!this.hasValue||(this.multiple?this.unselect(this.itemsList.lastSelectedItem):this.clearModel())}get _isTypeahead(){return this.typeahead&&this.typeahead.observers.length>0}get _validTerm(){const t=this.searchTerm&&this.searchTerm.trim();return t&&t.length>=this.minTermLength}_mergeGlobalConfig(t){this.placeholder=this.placeholder||t.placeholder,this.notFoundText=this.notFoundText||t.notFoundText,this.typeToSearchText=this.typeToSearchText||t.typeToSearchText,this.addTagText=this.addTagText||t.addTagText,this.loadingText=this.loadingText||t.loadingText,this.clearAllText=this.clearAllText||t.clearAllText,this.virtualScroll=bt(this.virtualScroll)?this.virtualScroll:!!bt(t.disableVirtualScroll)&&!t.disableVirtualScroll,this.openOnEnter=bt(this.openOnEnter)?this.openOnEnter:t.openOnEnter,this.appendTo=this.appendTo||t.appendTo,this.bindValue=this.bindValue||t.bindValue,this.bindLabel=this.bindLabel||t.bindLabel,this.appearance=this.appearance||t.appearance}}return e.\u0275fac=function(t){return new(t||e)(s.$8M("class"),s.$8M("autofocus"),s.Y36(wl),s.Y36(ur),s.Y36(s.SBq),s.Y36(s.sBO),s.Y36(El))},e.\u0275cmp=s.Xpm({type:e,selectors:[["ng-select"]],contentQueries:function(t,i,p){if(1&t&&(s.Suo(p,al,5,s.Rgc),s.Suo(p,ul,5,s.Rgc),s.Suo(p,ll,5,s.Rgc),s.Suo(p,hl,5,s.Rgc),s.Suo(p,cl,5,s.Rgc),s.Suo(p,fl,5,s.Rgc),s.Suo(p,dl,5,s.Rgc),s.Suo(p,pl,5,s.Rgc),s.Suo(p,gl,5,s.Rgc),s.Suo(p,ml,5,s.Rgc),s.Suo(p,vl,5,s.Rgc),s.Suo(p,bl,5)),2&t){let x;s.iGM(x=s.CRH())&&(i.optionTemplate=x.first),s.iGM(x=s.CRH())&&(i.optgroupTemplate=x.first),s.iGM(x=s.CRH())&&(i.labelTemplate=x.first),s.iGM(x=s.CRH())&&(i.multiLabelTemplate=x.first),s.iGM(x=s.CRH())&&(i.headerTemplate=x.first),s.iGM(x=s.CRH())&&(i.footerTemplate=x.first),s.iGM(x=s.CRH())&&(i.notFoundTemplate=x.first),s.iGM(x=s.CRH())&&(i.typeToSearchTemplate=x.first),s.iGM(x=s.CRH())&&(i.loadingTextTemplate=x.first),s.iGM(x=s.CRH())&&(i.tagTemplate=x.first),s.iGM(x=s.CRH())&&(i.loadingSpinnerTemplate=x.first),s.iGM(x=s.CRH())&&(i.ngOptions=x)}},viewQuery:function(t,i){if(1&t&&(s.Gf(ar,5),s.Gf(Au,7)),2&t){let p;s.iGM(p=s.CRH())&&(i.dropdownPanel=p.first),s.iGM(p=s.CRH())&&(i.searchInput=p.first)}},hostVars:20,hostBindings:function(t,i){1&t&&s.NdJ("keydown",function(x){return i.handleKeyDown(x)}),2&t&&s.ekj("ng-select-typeahead",i.typeahead)("ng-select-multiple",i.multiple)("ng-select-taggable",i.addTag)("ng-select-searchable",i.searchable)("ng-select-clearable",i.clearable)("ng-select-opened",i.isOpen)("ng-select",i.useDefaultClass)("ng-select-disabled",i.disabled)("ng-select-filtered",i.filtered)("ng-select-single",i.single)},inputs:{bindLabel:"bindLabel",bindValue:"bindValue",markFirst:"markFirst",placeholder:"placeholder",notFoundText:"notFoundText",typeToSearchText:"typeToSearchText",addTagText:"addTagText",loadingText:"loadingText",clearAllText:"clearAllText",appearance:"appearance",dropdownPosition:"dropdownPosition",appendTo:"appendTo",loading:"loading",closeOnSelect:"closeOnSelect",hideSelected:"hideSelected",selectOnTab:"selectOnTab",openOnEnter:"openOnEnter",maxSelectedItems:"maxSelectedItems",groupBy:"groupBy",groupValue:"groupValue",bufferAmount:"bufferAmount",virtualScroll:"virtualScroll",selectableGroup:"selectableGroup",selectableGroupAsModel:"selectableGroupAsModel",searchFn:"searchFn",trackByFn:"trackByFn",clearOnBackspace:"clearOnBackspace",labelForId:"labelForId",inputAttrs:"inputAttrs",tabIndex:"tabIndex",readonly:"readonly",searchWhileComposing:"searchWhileComposing",minTermLength:"minTermLength",editableSearchTerm:"editableSearchTerm",keyDownFn:"keyDownFn",typeahead:"typeahead",multiple:"multiple",addTag:"addTag",searchable:"searchable",clearable:"clearable",isOpen:"isOpen",items:"items",compareWith:"compareWith",clearSearchOnAdd:"clearSearchOnAdd"},outputs:{blurEvent:"blur",focusEvent:"focus",changeEvent:"change",openEvent:"open",closeEvent:"close",searchEvent:"search",clearEvent:"clear",addEvent:"add",removeEvent:"remove",scroll:"scroll",scrollToEnd:"scrollToEnd"},features:[s._Bn([{provide:er.JU,useExisting:(0,s.Gpc)(()=>e),multi:!0},sr]),s.TTD],decls:14,vars:19,consts:[[1,"ng-select-container",3,"mousedown"],[1,"ng-value-container"],[1,"ng-placeholder"],[4,"ngIf"],["role","combobox","aria-haspopup","listbox",1,"ng-input"],["aria-autocomplete","list",3,"readOnly","disabled","value","input","compositionstart","compositionend","focus","blur","change"],["searchInput",""],["class","ng-clear-wrapper",3,"title",4,"ngIf"],[1,"ng-arrow-wrapper"],[1,"ng-arrow"],["class","ng-dropdown-panel","role","listbox","aria-label","Options list",3,"virtualScroll","bufferAmount","appendTo","position","headerTemplate","footerTemplate","filterValue","items","markedItem","ng-select-multiple","ngClass","id","update","scroll","scrollToEnd","outsideClick",4,"ngIf"],["class","ng-value",3,"ng-value-disabled",4,"ngFor","ngForOf","ngForTrackBy"],[1,"ng-value"],["defaultLabelTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["aria-hidden","true",1,"ng-value-icon","left",3,"click"],[1,"ng-value-label",3,"ngItemLabel","escape"],["defaultLoadingSpinnerTemplate",""],[3,"ngTemplateOutlet"],[1,"ng-spinner-loader"],[1,"ng-clear-wrapper",3,"title"],["aria-hidden","true",1,"ng-clear"],["role","listbox","aria-label","Options list",1,"ng-dropdown-panel",3,"virtualScroll","bufferAmount","appendTo","position","headerTemplate","footerTemplate","filterValue","items","markedItem","ngClass","id","update","scroll","scrollToEnd","outsideClick"],["class","ng-option",3,"ng-option-disabled","ng-option-selected","ng-optgroup","ng-option","ng-option-child","ng-option-marked","click","mouseover",4,"ngFor","ngForOf","ngForTrackBy"],["class","ng-option","role","option",3,"ng-option-marked","mouseover","click",4,"ngIf"],[1,"ng-option",3,"click","mouseover"],["defaultOptionTemplate",""],[1,"ng-option-label",3,"ngItemLabel","escape"],["role","option",1,"ng-option",3,"mouseover","click"],["defaultTagTemplate",""],[1,"ng-tag-label"],["defaultNotFoundTemplate",""],[1,"ng-option","ng-option-disabled"],["defaultTypeToSearchTemplate",""],["defaultLoadingTextTemplate",""]],template:function(t,i){if(1&t){const p=s.EpF();s.TgZ(0,"div",0),s.NdJ("mousedown",function(T){return i.handleMousedown(T)}),s.TgZ(1,"div",1)(2,"div",2),s._uU(3),s.qZA(),s.YNc(4,Nu,2,2,"ng-container",3),s.YNc(5,Fu,1,5,null,3),s.TgZ(6,"div",4)(7,"input",5,6),s.NdJ("input",function(){s.CHM(p);const T=s.MAs(8);return s.KtG(i.filter(T.value))})("compositionstart",function(){return i.onCompositionStart()})("compositionend",function(){s.CHM(p);const T=s.MAs(8);return s.KtG(i.onCompositionEnd(T.value))})("focus",function(T){return i.onInputFocus(T)})("blur",function(T){return i.onInputBlur(T)})("change",function(T){return T.stopPropagation()}),s.qZA()()(),s.YNc(9,Gu,4,1,"ng-container",3),s.YNc(10,Bu,3,1,"span",7),s.TgZ(11,"span",8),s._UZ(12,"span",9),s.qZA()(),s.YNc(13,el,7,19,"ng-dropdown-panel",10)}2&t&&(s.ekj("ng-appearance-outline","outline"===i.appearance)("ng-has-value",i.hasValue),s.xp6(3),s.Oqu(i.placeholder),s.xp6(1),s.Q6J("ngIf",(!i.multiLabelTemplate||!i.multiple)&&i.selectedItems.length>0),s.xp6(1),s.Q6J("ngIf",i.multiple&&i.multiLabelTemplate&&i.selectedValues.length>0),s.xp6(1),s.uIk("aria-expanded",i.isOpen)("aria-owns",i.isOpen?i.dropdownId:null),s.xp6(1),s.Q6J("readOnly",!i.searchable||i.itemsList.maxItemsSelected)("disabled",i.disabled)("value",i.searchTerm?i.searchTerm:""),s.uIk("id",i.labelForId)("tabindex",i.tabIndex)("aria-activedescendant",i.isOpen?null==i.itemsList||null==i.itemsList.markedItem?null:i.itemsList.markedItem.htmlId:null)("aria-controls",i.isOpen?i.dropdownId:null),s.xp6(2),s.Q6J("ngIf",i.loading),s.xp6(1),s.Q6J("ngIf",i.showClear()),s.xp6(3),s.Q6J("ngIf",i.isOpen))},dependencies:[v.mk,v.sg,v.O5,v.tP,ar,ol],styles:['@charset "UTF-8";.ng-select{position:relative;display:block;box-sizing:border-box}.ng-select div,.ng-select input,.ng-select span{box-sizing:border-box}.ng-select [hidden]{display:none}.ng-select.ng-select-searchable .ng-select-container .ng-value-container .ng-input{opacity:1}.ng-select.ng-select-opened .ng-select-container{z-index:1001}.ng-select.ng-select-disabled .ng-select-container .ng-value-container .ng-placeholder,.ng-select.ng-select-disabled .ng-select-container .ng-value-container .ng-value{-webkit-user-select:none;user-select:none;cursor:default}.ng-select.ng-select-disabled .ng-arrow-wrapper{cursor:default}.ng-select.ng-select-filtered .ng-placeholder{display:none}.ng-select .ng-select-container{cursor:default;display:flex;outline:none;overflow:hidden;position:relative;width:100%}.ng-select .ng-select-container .ng-value-container{display:flex;flex:1}.ng-select .ng-select-container .ng-value-container .ng-input{opacity:0}.ng-select .ng-select-container .ng-value-container .ng-input>input{box-sizing:content-box;background:none transparent;border:0 none;box-shadow:none;outline:none;padding:0;cursor:default;width:100%}.ng-select .ng-select-container .ng-value-container .ng-input>input::-ms-clear{display:none}.ng-select .ng-select-container .ng-value-container .ng-input>input[readonly]{-webkit-user-select:none;user-select:none;width:0;padding:0}.ng-select.ng-select-single.ng-select-filtered .ng-select-container .ng-value-container .ng-value{visibility:hidden}.ng-select.ng-select-single .ng-select-container .ng-value-container,.ng-select.ng-select-single .ng-select-container .ng-value-container .ng-value{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ng-select.ng-select-single .ng-select-container .ng-value-container .ng-value .ng-value-icon{display:none}.ng-select.ng-select-single .ng-select-container .ng-value-container .ng-input{position:absolute;left:0;width:100%}.ng-select.ng-select-multiple.ng-select-disabled>.ng-select-container .ng-value-container .ng-value .ng-value-icon{display:none}.ng-select.ng-select-multiple .ng-select-container .ng-value-container{flex-wrap:wrap}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-placeholder{position:absolute}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value{white-space:nowrap}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value.ng-value-disabled .ng-value-icon{display:none}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value .ng-value-icon{cursor:pointer}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-input{flex:1;z-index:2}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-placeholder{z-index:1}.ng-select .ng-clear-wrapper{cursor:pointer;position:relative;width:17px;-webkit-user-select:none;user-select:none}.ng-select .ng-clear-wrapper .ng-clear{display:inline-block;font-size:18px;line-height:1;pointer-events:none}.ng-select .ng-spinner-loader{border-radius:50%;width:17px;height:17px;margin-right:5px;font-size:10px;position:relative;text-indent:-9999em;border-top:2px solid rgba(66,66,66,.2);border-right:2px solid rgba(66,66,66,.2);border-bottom:2px solid rgba(66,66,66,.2);border-left:2px solid #424242;transform:translateZ(0);animation:load8 .8s infinite linear}.ng-select .ng-spinner-loader:after{border-radius:50%;width:17px;height:17px}@keyframes load8{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.ng-select .ng-arrow-wrapper{cursor:pointer;position:relative;text-align:center;-webkit-user-select:none;user-select:none}.ng-select .ng-arrow-wrapper .ng-arrow{pointer-events:none;display:inline-block;height:0;width:0;position:relative}.ng-dropdown-panel{box-sizing:border-box;position:absolute;opacity:0;width:100%;z-index:1050;-webkit-overflow-scrolling:touch}.ng-dropdown-panel .ng-dropdown-panel-items{display:block;height:auto;box-sizing:border-box;max-height:240px;overflow-y:auto}.ng-dropdown-panel .ng-dropdown-panel-items .ng-optgroup{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option{box-sizing:border-box;cursor:pointer;display:block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option .ng-option-label:empty:before{content:"\\200b"}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option .highlighted{font-weight:700;text-decoration:underline}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option.disabled{cursor:default}.ng-dropdown-panel .scroll-host{overflow:hidden;overflow-y:auto;position:relative;display:block;-webkit-overflow-scrolling:touch}.ng-dropdown-panel .scrollable-content{top:0;left:0;width:100%;height:100%;position:absolute}.ng-dropdown-panel .total-padding{width:1px;opacity:0}\n'],encapsulation:2,changeDetection:0}),e})();function Cl(){return new Al}class Al{constructor(){this._selected=[]}get value(){return this._selected}select(n,t,i){if(n.selected=!0,(!n.children||!t&&i)&&this._selected.push(n),t)if(n.parent){const p=n.parent.children.length,x=n.parent.children.filter(T=>T.selected).length;n.parent.selected=p===x}else n.children&&(this._setChildrenSelectedState(n.children,!0),this._removeChildren(n),this._selected=i&&this._activeChildren(n)?[...this._selected.filter(p=>p.parent!==n),n]:[...this._selected,...n.children.filter(p=>!p.disabled)])}unselect(n,t){if(this._selected=this._selected.filter(i=>i!==n),n.selected=!1,t)if(n.parent&&n.parent.selected){const i=n.parent.children;this._removeParent(n.parent),this._removeChildren(n.parent),this._selected.push(...i.filter(p=>p!==n&&!p.disabled)),n.parent.selected=!1}else n.children&&(this._setChildrenSelectedState(n.children,!1),this._removeChildren(n))}clear(n){this._selected=n?this._selected.filter(t=>t.disabled):[]}_setChildrenSelectedState(n,t){for(const i of n)i.disabled||(i.selected=t)}_removeChildren(n){this._selected=[...this._selected.filter(t=>t.parent!==n),...n.children.filter(t=>t.parent===n&&t.disabled&&t.selected)]}_removeParent(n){this._selected=this._selected.filter(t=>t!==n)}_activeChildren(n){return n.children.every(t=>!t.disabled||t.selected)}}let Sl=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({providers:[{provide:ur,useValue:Cl}],imports:[v.ez]}),e})();var ke=r(9671);let Ol=(()=>{class e{constructor(){}ngOnInit(){console.log(this.dataIn)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s.Xpm({type:e,selectors:[["app-card-node"]],inputs:{dataIn:"dataIn"},decls:6,vars:3,consts:[["fxFill","","fxLayout","column",1,"animate__animated","animate__bounceIn"],[1,"node-template"],[1,"node-template-header"],[1,"node-template-body"],[3,"innerHTML"]],template:function(t,i){1&t&&(s.TgZ(0,"div",0)(1,"div",1)(2,"div",2),s._uU(3),s.qZA(),s.TgZ(4,"div",3),s._UZ(5,"div",4),s.qZA()()()),2&t&&(s.xp6(3),s.AsE(" ",null==i.dataIn||null==i.dataIn.data?null:i.dataIn.data.title," ",null==i.dataIn?null:i.dataIn.label," "),s.xp6(2),s.Q6J("innerHTML",null==i.dataIn||null==i.dataIn.data?null:i.dataIn.data.text,s.oJD))},dependencies:[ke.xw,ke.s9],styles:[".wrapper-node[_ngcontent-%COMP%]{display:flex;min-height:120px;width:98%}.node-template[_ngcontent-%COMP%]{background-color:#639;color:#f2f2f2;padding:5px;cursor:pointer;width:100%;height:120px;display:flex;box-shadow:0 0 8px 2px #0000006b;flex-direction:column;justify-content:end}.node-template[_ngcontent-%COMP%]   .node-template-header[_ngcontent-%COMP%]{font-weight:800;padding:.35rem}.node-template[_ngcontent-%COMP%]   .node-template-body[_ngcontent-%COMP%]{margin:.25rem;font-weight:500;padding:.5rem;color:var(--color-1);border-radius:var(--border-radius)}"]}),e})();function Il(e,n){if(1&e&&(s.O4$(),s.TgZ(0,"g",6)(1,"foreignObject",7),s.kcU(),s.TgZ(2,"div",8),s._UZ(3,"app-card-node",9),s.qZA()()()),2&e){const t=n.$implicit;s.xp6(3),s.Q6J("dataIn",t)}}function Ml(e,n){if(1&e&&(s.TgZ(0,"ngx-graph",4),s.YNc(1,Il,4,1,"ng-template",null,5,s.W1O),s.qZA()),2&e){const t=s.oxw();s.Q6J("curve",t.curve)("links",t.graph.links)("nodes",t.graph.nodes)}}let Nl=(()=>{class e{constructor(t,i){this.dialog=t,this.service=i,this.families=[],this.curve=l,this.init=new h({nodes:[{id:"start",label:"start"},{id:"end",label:"End"}],links:[{source:"start",target:"end"}]}),this.graph=this.init}ngOnInit(){var t=this;return d(function*(){t.families=yield a(t.service.getFamily())})()}selectFamily(t){var i=this;return d(function*(){if(console.log(O.V.server),t){const T=yield a(i.service.getNodes(t.id));return console.log(i.graph),void(i.graph=new h({nodes:T.nodes,links:T.links}))}const p=new w.i({type:w.X.Alert,message:"Debes seleccionar al menos un registro",title:"Advertencia"}),x=new A.vA;x.disableClose=!0,x.autoFocus=!0,x.data=p,i.dialog.open(S.a,x),i.graph=i.init})()}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(A.uw),s.Y36(M.d))},e.\u0275cmp=s.Xpm({type:e,selectors:[["app-family"]],decls:4,vars:2,consts:[["appearance","outline","placeholder","Selecciona una item","bindLabel","description","bindValue","id",3,"items","change"],[1,"container"],["fxLayout","column","fxFill",""],["class","chart-container",3,"curve","links","nodes",4,"ngIf"],[1,"chart-container",3,"curve","links","nodes"],["nodeTemplate",""],[1,"node"],["width","120","height","120"],["xmlns","http://www.w3.org/1999/xhtml"],[3,"dataIn"]],template:function(t,i){1&t&&(s.TgZ(0,"ng-select",0),s.NdJ("change",function(x){return i.selectFamily(x)}),s.qZA(),s.TgZ(1,"div",1)(2,"div",2),s.YNc(3,Ml,3,3,"ngx-graph",3),s.qZA()()),2&t&&(s.Q6J("items",i.families),s.xp6(3),s.Q6J("ngIf",i.graph))},dependencies:[v.O5,cu,Tl,ke.xw,ke.s9,Ol],styles:["[_nghost-%COMP%]   .container[_ngcontent-%COMP%]{height:90%}[_nghost-%COMP%]   .chart-container[_ngcontent-%COMP%]{background-image:repeating-linear-gradient(90deg,hsla(206deg,0%,65%,.05) 0px,hsla(206deg,0%,65%,.05) 1px,transparent 1px,transparent 104px),repeating-linear-gradient(0deg,hsla(206deg,0%,65%,.05) 0px,hsla(206deg,0%,65%,.05) 1px,transparent 1px,transparent 104px),repeating-linear-gradient(0deg,hsla(206deg,0%,65%,.07) 0px,hsla(206deg,0%,65%,.07) 1px,transparent 1px,transparent 52px),repeating-linear-gradient(90deg,hsla(206deg,0%,65%,.07) 0px,hsla(206deg,0%,65%,.07) 1px,transparent 1px,transparent 52px),linear-gradient(45deg,rgb(242,235,235),rgb(242,235,235))}"],changeDetection:0}),e})();var Ll=r(6962),Dl=r(2253),Fl=r(6370);const lr=[{path:"home",component:Nl},{path:"",redirectTo:"home",pathMatch:"full"}];let Pl=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({providers:[Dl.$,M.d],imports:[Ll.Bz.forChild(lr),v.ez,du,Sl,er.u5,ke.ae,Fl.a]}),e})()},9695:(_,E,r)=>{_.exports={graphlib:r(6456),layout:r(4850),debug:r(1914),util:{time:r(1510).time,notime:r(1510).notime},version:r(8126)}},2234:(_,E,r)=>{"use strict";var o=r(5760),y=r(7365);_.exports={run:function m(d){var u="greedy"===d.graph().acyclicer?y(d,function a(h){return function(c){return h.edge(c).weight}}(d)):function v(d){var u=[],a={},h={};return o.forEach(d.nodes(),function c(l){o.has(h,l)||(h[l]=!0,a[l]=!0,o.forEach(d.outEdges(l),function(g){o.has(a,g.w)?u.push(g):c(g.w)}),delete a[l])}),u}(d);o.forEach(u,function(h){var c=d.edge(h);d.removeEdge(h),c.forwardName=h.name,c.reversed=!0,d.setEdge(h.w,h.v,c,o.uniqueId("rev"))})},undo:function f(d){o.forEach(d.edges(),function(u){var a=d.edge(u);if(a.reversed){d.removeEdge(u);var h=a.forwardName;delete a.reversed,delete a.forwardName,d.setEdge(u.w,u.v,a,h)}})}}},9999:(_,E,r)=>{var o=r(5760),y=r(1510);function v(f,d,u,a,h,c){var g=h[d][c-1],b=y.addDummyNode(f,"border",{width:0,height:0,rank:c,borderType:d},u);h[d][c]=b,f.setParent(b,a),g&&f.setEdge(g,b,{weight:1})}_.exports=function m(f){o.forEach(f.children(),function d(u){var a=f.children(u),h=f.node(u);if(a.length&&o.forEach(a,d),o.has(h,"minRank")){h.borderLeft=[],h.borderRight=[];for(var c=h.minRank,l=h.maxRank+1;c<l;++c)v(f,"borderLeft","_bl",u,h,c),v(f,"borderRight","_br",u,h,c)}})}},3870:(_,E,r)=>{"use strict";var o=r(5760);function v(c){o.forEach(c.nodes(),function(l){f(c.node(l))}),o.forEach(c.edges(),function(l){f(c.edge(l))})}function f(c){var l=c.width;c.width=c.height,c.height=l}function u(c){c.y=-c.y}function h(c){var l=c.x;c.x=c.y,c.y=l}_.exports={adjust:function y(c){var l=c.graph().rankdir.toLowerCase();("lr"===l||"rl"===l)&&v(c)},undo:function m(c){var l=c.graph().rankdir.toLowerCase();("bt"===l||"rl"===l)&&function d(c){o.forEach(c.nodes(),function(l){u(c.node(l))}),o.forEach(c.edges(),function(l){var g=c.edge(l);o.forEach(g.points,u),o.has(g,"y")&&u(g)})}(c),("lr"===l||"rl"===l)&&(function a(c){o.forEach(c.nodes(),function(l){h(c.node(l))}),o.forEach(c.edges(),function(l){var g=c.edge(l);o.forEach(g.points,h),o.has(g,"x")&&h(g)})}(c),v(c))}}},3226:_=>{function E(){var y={};y._next=y._prev=y,this._sentinel=y}function r(y){y._prev._next=y._next,y._next._prev=y._prev,delete y._next,delete y._prev}function o(y,m){if("_next"!==y&&"_prev"!==y)return m}_.exports=E,E.prototype.dequeue=function(){var y=this._sentinel,m=y._prev;if(m!==y)return r(m),m},E.prototype.enqueue=function(y){var m=this._sentinel;y._prev&&y._next&&r(y),y._next=m._next,m._next._prev=y,m._next=y,y._prev=m},E.prototype.toString=function(){for(var y=[],m=this._sentinel,v=m._prev;v!==m;)y.push(JSON.stringify(v,o)),v=v._prev;return"["+y.join(", ")+"]"}},1914:(_,E,r)=>{var o=r(5760),y=r(1510),m=r(6456).Graph;_.exports={debugOrdering:function v(f){var d=y.buildLayerMatrix(f),u=new m({compound:!0,multigraph:!0}).setGraph({});return o.forEach(f.nodes(),function(a){u.setNode(a,{label:a}),u.setParent(a,"layer"+f.node(a).rank)}),o.forEach(f.edges(),function(a){u.setEdge(a.v,a.w,{},a.name)}),o.forEach(d,function(a,h){u.setNode("layer"+h,{rank:"same"}),o.reduce(a,function(l,g){return u.setEdge(l,g,{style:"invis"}),g})}),u}}},6456:(_,E,r)=>{var o;try{o=r(5510)}catch{}o||(o=window.graphlib),_.exports=o},7365:(_,E,r)=>{var o=r(5760),y=r(6456).Graph,m=r(3226);_.exports=function f(c,l){if(c.nodeCount()<=1)return[];var g=function a(c,l){var g=new y,b=0,w=0;o.forEach(c.nodes(),function(O){g.setNode(O,{v:O,in:0,out:0})}),o.forEach(c.edges(),function(O){var s=g.edge(O.v,O.w)||0,M=l(O);g.setEdge(O.v,O.w,s+M),w=Math.max(w,g.node(O.v).out+=M),b=Math.max(b,g.node(O.w).in+=M)});var A=o.range(w+b+3).map(function(){return new m}),S=b+1;return o.forEach(g.nodes(),function(O){h(A,S,g.node(O))}),{graph:g,buckets:A,zeroIdx:S}}(c,l||v),b=function d(c,l,g){for(var S,b=[],w=l[l.length-1],A=l[0];c.nodeCount();){for(;S=A.dequeue();)u(c,l,g,S);for(;S=w.dequeue();)u(c,l,g,S);if(c.nodeCount())for(var O=l.length-2;O>0;--O)if(S=l[O].dequeue()){b=b.concat(u(c,l,g,S,!0));break}}return b}(g.graph,g.buckets,g.zeroIdx);return o.flatten(o.map(b,function(w){return c.outEdges(w.v,w.w)}),!0)};var v=o.constant(1);function u(c,l,g,b,w){var A=w?[]:void 0;return o.forEach(c.inEdges(b.v),function(S){var O=c.edge(S),s=c.node(S.v);w&&A.push({v:S.v,w:S.w}),s.out-=O,h(l,g,s)}),o.forEach(c.outEdges(b.v),function(S){var O=c.edge(S),M=c.node(S.w);M.in-=O,h(l,g,M)}),c.removeNode(b.v),A}function h(c,l,g){g.out?g.in?c[g.out-g.in+l].enqueue(g):c[c.length-1].enqueue(g):c[0].enqueue(g)}},4850:(_,E,r)=>{"use strict";var o=r(5760),y=r(2234),m=r(1496),v=r(4124),f=r(1510).normalizeRanks,d=r(162),u=r(1510).removeEmptyRanks,a=r(1230),h=r(9999),c=r(3870),l=r(2974),g=r(8226),b=r(1510),w=r(6456).Graph;_.exports=function A(W,K){var it=K&&K.debugTiming?b.time:b.notime;it("layout",function(){var at=it("  buildLayoutGraph",function(){return function L(W){var K=new w({multigraph:!0,compound:!0}),it=pt(W.graph());return K.setGraph(o.merge({},M,ut(it,s),o.pick(it,k))),o.forEach(W.nodes(),function(at){var ft=pt(W.node(at));K.setNode(at,o.defaults(ut(ft,H),Y)),K.setParent(at,W.parent(at))}),o.forEach(W.edges(),function(at){var ft=pt(W.edge(at));K.setEdge(at,o.merge({},$,ut(ft,z),o.pick(ft,N)))}),K}(W)});it("  runLayout",function(){!function S(W,K){K("    makeSpaceForEdgeLabels",function(){!function D(W){var K=W.graph();K.ranksep/=2,o.forEach(W.edges(),function(it){var at=W.edge(it);at.minlen*=2,"c"!==at.labelpos.toLowerCase()&&("TB"===K.rankdir||"BT"===K.rankdir?at.width+=at.labeloffset:at.height+=at.labeloffset)})}(W)}),K("    removeSelfEdges",function(){!function rt(W){o.forEach(W.edges(),function(K){if(K.v===K.w){var it=W.node(K.v);it.selfEdges||(it.selfEdges=[]),it.selfEdges.push({e:K,label:W.edge(K)}),W.removeEdge(K)}})}(W)}),K("    acyclic",function(){y.run(W)}),K("    nestingGraph.run",function(){a.run(W)}),K("    rank",function(){v(b.asNonCompoundGraph(W))}),K("    injectEdgeLabelProxies",function(){!function P(W){o.forEach(W.edges(),function(K){var it=W.edge(K);if(it.width&&it.height){var at=W.node(K.v),ft=W.node(K.w);b.addDummyNode(W,"edge-proxy",{rank:(ft.rank-at.rank)/2+at.rank,e:K},"_ep")}})}(W)}),K("    removeEmptyRanks",function(){u(W)}),K("    nestingGraph.cleanup",function(){a.cleanup(W)}),K("    normalizeRanks",function(){f(W)}),K("    assignRankMinMax",function(){!function G(W){var K=0;o.forEach(W.nodes(),function(it){var at=W.node(it);at.borderTop&&(at.minRank=W.node(at.borderTop).rank,at.maxRank=W.node(at.borderBottom).rank,K=o.max(K,at.maxRank))}),W.graph().maxRank=K}(W)}),K("    removeEdgeLabelProxies",function(){!function U(W){o.forEach(W.nodes(),function(K){var it=W.node(K);"edge-proxy"===it.dummy&&(W.edge(it.e).labelRank=it.rank,W.removeNode(K))})}(W)}),K("    normalize.run",function(){m.run(W)}),K("    parentDummyChains",function(){d(W)}),K("    addBorderSegments",function(){h(W)}),K("    order",function(){l(W)}),K("    insertSelfEdges",function(){!function et(W){var K=b.buildLayerMatrix(W);o.forEach(K,function(it){var at=0;o.forEach(it,function(ft,ct){var gt=W.node(ft);gt.order=ct+at,o.forEach(gt.selfEdges,function(yt){b.addDummyNode(W,"selfedge",{width:yt.label.width,height:yt.label.height,rank:gt.rank,order:ct+ ++at,e:yt.e,label:yt.label},"_se")}),delete gt.selfEdges})})}(W)}),K("    adjustCoordinateSystem",function(){c.adjust(W)}),K("    position",function(){g(W)}),K("    positionSelfEdges",function(){!function st(W){o.forEach(W.nodes(),function(K){var it=W.node(K);if("selfedge"===it.dummy){var at=W.node(it.e.v),ft=at.x+at.width/2,ct=at.y,gt=it.x-ft,yt=at.height/2;W.setEdge(it.e,it.label),W.removeNode(K),it.label.points=[{x:ft+2*gt/3,y:ct-yt},{x:ft+5*gt/6,y:ct-yt},{x:ft+gt,y:ct},{x:ft+5*gt/6,y:ct+yt},{x:ft+2*gt/3,y:ct+yt}],it.label.x=it.x,it.label.y=it.y}})}(W)}),K("    removeBorderNodes",function(){!function J(W){o.forEach(W.nodes(),function(K){if(W.children(K).length){var it=W.node(K),at=W.node(it.borderTop),ft=W.node(it.borderBottom),ct=W.node(o.last(it.borderLeft)),gt=W.node(o.last(it.borderRight));it.width=Math.abs(gt.x-ct.x),it.height=Math.abs(ft.y-at.y),it.x=ct.x+it.width/2,it.y=at.y+it.height/2}}),o.forEach(W.nodes(),function(K){"border"===W.node(K).dummy&&W.removeNode(K)})}(W)}),K("    normalize.undo",function(){m.undo(W)}),K("    fixupEdgeLabelCoords",function(){!function B(W){o.forEach(W.edges(),function(K){var it=W.edge(K);if(o.has(it,"x"))switch(("l"===it.labelpos||"r"===it.labelpos)&&(it.width-=it.labeloffset),it.labelpos){case"l":it.x-=it.width/2+it.labeloffset;break;case"r":it.x+=it.width/2+it.labeloffset}})}(W)}),K("    undoCoordinateSystem",function(){c.undo(W)}),K("    translateGraph",function(){!function Q(W){var K=Number.POSITIVE_INFINITY,it=0,at=Number.POSITIVE_INFINITY,ft=0,ct=W.graph(),gt=ct.marginx||0,yt=ct.marginy||0;function Pt(_t){var Et=_t.x,mt=_t.y,Ut=_t.width,vt=_t.height;K=Math.min(K,Et-Ut/2),it=Math.max(it,Et+Ut/2),at=Math.min(at,mt-vt/2),ft=Math.max(ft,mt+vt/2)}o.forEach(W.nodes(),function(_t){Pt(W.node(_t))}),o.forEach(W.edges(),function(_t){var Et=W.edge(_t);o.has(Et,"x")&&Pt(Et)}),K-=gt,at-=yt,o.forEach(W.nodes(),function(_t){var Et=W.node(_t);Et.x-=K,Et.y-=at}),o.forEach(W.edges(),function(_t){var Et=W.edge(_t);o.forEach(Et.points,function(mt){mt.x-=K,mt.y-=at}),o.has(Et,"x")&&(Et.x-=K),o.has(Et,"y")&&(Et.y-=at)}),ct.width=it-K+gt,ct.height=ft-at+yt}(W)}),K("    assignNodeIntersects",function(){!function R(W){o.forEach(W.edges(),function(K){var ct,gt,it=W.edge(K),at=W.node(K.v),ft=W.node(K.w);it.points?(ct=it.points[0],gt=it.points[it.points.length-1]):(it.points=[],ct=ft,gt=at),it.points.unshift(b.intersectRect(at,ct)),it.points.push(b.intersectRect(ft,gt))})}(W)}),K("    reversePoints",function(){!function X(W){o.forEach(W.edges(),function(K){var it=W.edge(K);it.reversed&&it.points.reverse()})}(W)}),K("    acyclic.undo",function(){y.undo(W)})}(at,it)}),it("  updateInputGraph",function(){!function O(W,K){o.forEach(W.nodes(),function(it){var at=W.node(it),ft=K.node(it);at&&(at.x=ft.x,at.y=ft.y,K.children(it).length&&(at.width=ft.width,at.height=ft.height))}),o.forEach(W.edges(),function(it){var at=W.edge(it),ft=K.edge(it);at.points=ft.points,o.has(ft,"x")&&(at.x=ft.x,at.y=ft.y)}),W.graph().width=K.graph().width,W.graph().height=K.graph().height}(W,at)})})};var s=["nodesep","edgesep","ranksep","marginx","marginy"],M={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},k=["acyclicer","ranker","rankdir","align"],H=["width","height"],Y={width:0,height:0},z=["minlen","weight","width","height","labeloffset"],$={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},N=["labelpos"];function ut(W,K){return o.mapValues(o.pick(W,K),Number)}function pt(W){var K={};return o.forEach(W,function(it,at){K[at.toLowerCase()]=it}),K}},5760:(_,E,r)=>{var o;try{o={cloneDeep:r(733),constant:r(6684),defaults:r(8800),each:r(5474),filter:r(5281),find:r(2516),flatten:r(2274),forEach:r(9851),forIn:r(1176),has:r(4842),isUndefined:r(4235),last:r(5809),map:r(9984),mapValues:r(203),max:r(8176),merge:r(567),min:r(9439),minBy:r(9525),now:r(1710),pick:r(6372),range:r(361),reduce:r(1337),sortBy:r(2906),uniqueId:r(1541),values:r(377),zipObject:r(1617)}}catch{}o||(o=window._),_.exports=o},1230:(_,E,r)=>{var o=r(5760),y=r(1510);function v(a,h,c,l,g,b,w){var A=a.children(w);if(A.length){var S=y.addBorderNode(a,"_bt"),O=y.addBorderNode(a,"_bb"),s=a.node(w);a.setParent(S,w),s.borderTop=S,a.setParent(O,w),s.borderBottom=O,o.forEach(A,function(M){v(a,h,c,l,g,b,M);var k=a.node(M),H=k.borderTop?k.borderTop:M,Y=k.borderBottom?k.borderBottom:M,z=k.borderTop?l:2*l,$=H!==Y?1:g-b[w]+1;a.setEdge(S,H,{weight:z,minlen:$,nestingEdge:!0}),a.setEdge(Y,O,{weight:z,minlen:$,nestingEdge:!0})}),a.parent(w)||a.setEdge(h,S,{weight:0,minlen:g+b[w]})}else w!==h&&a.setEdge(h,w,{weight:0,minlen:c})}_.exports={run:function m(a){var h=y.addDummyNode(a,"root",{},"_root"),c=function f(a){var h={};function c(l,g){var b=a.children(l);b&&b.length&&o.forEach(b,function(w){c(w,g+1)}),h[l]=g}return o.forEach(a.children(),function(l){c(l,1)}),h}(a),l=o.max(o.values(c))-1,g=2*l+1;a.graph().nestingRoot=h,o.forEach(a.edges(),function(w){a.edge(w).minlen*=g});var b=function d(a){return o.reduce(a.edges(),function(h,c){return h+a.edge(c).weight},0)}(a)+1;o.forEach(a.children(),function(w){v(a,h,g,b,l,c,w)}),a.graph().nodeRankFactor=g},cleanup:function u(a){var h=a.graph();a.removeNode(h.nestingRoot),delete h.nestingRoot,o.forEach(a.edges(),function(c){a.edge(c).nestingEdge&&a.removeEdge(c)})}}},1496:(_,E,r)=>{"use strict";var o=r(5760),y=r(1510);_.exports={run:function m(d){d.graph().dummyChains=[],o.forEach(d.edges(),function(u){!function v(d,u){var a=u.v,h=d.node(a).rank,c=u.w,l=d.node(c).rank,g=u.name,b=d.edge(u),w=b.labelRank;if(l!==h+1){var A,S,O;for(d.removeEdge(u),O=0,++h;h<l;++O,++h)b.points=[],A=y.addDummyNode(d,"edge",S={width:0,height:0,edgeLabel:b,edgeObj:u,rank:h},"_d"),h===w&&(S.width=b.width,S.height=b.height,S.dummy="edge-label",S.labelpos=b.labelpos),d.setEdge(a,A,{weight:b.weight},g),0===O&&d.graph().dummyChains.push(A),a=A;d.setEdge(a,c,{weight:b.weight},g)}}(d,u)})},undo:function f(d){o.forEach(d.graph().dummyChains,function(u){var c,a=d.node(u),h=a.edgeLabel;for(d.setEdge(a.edgeObj,h);a.dummy;)c=d.successors(u)[0],d.removeNode(u),h.points.push({x:a.x,y:a.y}),"edge-label"===a.dummy&&(h.x=a.x,h.y=a.y,h.width=a.width,h.height=a.height),a=d.node(u=c)})}}},3034:(_,E,r)=>{var o=r(5760);_.exports=function y(m,v,f){var u,d={};o.forEach(f,function(a){for(var c,l,h=m.parent(a);h;){if((c=m.parent(h))?(l=d[c],d[c]=h):(l=u,u=h),l&&l!==h)return void v.setEdge(l,h);h=c}})}},1323:(_,E,r)=>{var o=r(5760);_.exports=function y(m,v){return o.map(v,function(f){var d=m.inEdges(f);if(d.length){var u=o.reduce(d,function(a,h){var c=m.edge(h),l=m.node(h.v);return{sum:a.sum+c.weight*l.order,weight:a.weight+c.weight}},{sum:0,weight:0});return{v:f,barycenter:u.sum/u.weight,weight:u.weight}}return{v:f}})}},1686:(_,E,r)=>{var o=r(5760),y=r(6456).Graph;_.exports=function m(f,d,u){var a=function v(f){for(var d;f.hasNode(d=o.uniqueId("_root")););return d}(f),h=new y({compound:!0}).setGraph({root:a}).setDefaultNodeLabel(function(c){return f.node(c)});return o.forEach(f.nodes(),function(c){var l=f.node(c),g=f.parent(c);(l.rank===d||l.minRank<=d&&d<=l.maxRank)&&(h.setNode(c),h.setParent(c,g||a),o.forEach(f[u](c),function(b){var w=b.v===c?b.w:b.v,A=h.edge(w,c),S=o.isUndefined(A)?0:A.weight;h.setEdge(w,c,{weight:f.edge(b).weight+S})}),o.has(l,"minRank")&&h.setNode(c,{borderLeft:l.borderLeft[d],borderRight:l.borderRight[d]}))}),h}},8796:(_,E,r)=>{"use strict";var o=r(5760);function m(v,f,d){for(var u=o.zipObject(d,o.map(d,function(b,w){return w})),a=o.flatten(o.map(f,function(b){return o.sortBy(o.map(v.outEdges(b),function(w){return{pos:u[w.w],weight:v.edge(w).weight}}),"pos")}),!0),h=1;h<d.length;)h<<=1;var c=2*h-1;h-=1;var l=o.map(new Array(c),function(){return 0}),g=0;return o.forEach(a.forEach(function(b){var w=b.pos+h;l[w]+=b.weight;for(var A=0;w>0;)w%2&&(A+=l[w+1]),l[w=w-1>>1]+=b.weight;g+=b.weight*A})),g}_.exports=function y(v,f){for(var d=0,u=1;u<f.length;++u)d+=m(v,f[u-1],f[u]);return d}},2974:(_,E,r)=>{"use strict";var o=r(5760),y=r(9402),m=r(8796),v=r(1057),f=r(1686),d=r(3034),u=r(6456).Graph,a=r(1510);function c(b,w,A){return o.map(w,function(S){return f(b,S,A)})}function l(b,w){var A=new u;o.forEach(b,function(S){var O=S.graph().root,s=v(S,O,A,w);o.forEach(s.vs,function(M,k){S.node(M).order=k}),d(S,A,s.vs)})}function g(b,w){o.forEach(w,function(A){o.forEach(A,function(S,O){b.node(S).order=O})})}_.exports=function h(b){var w=a.maxRank(b),A=c(b,o.range(1,w+1),"inEdges"),S=c(b,o.range(w-1,-1,-1),"outEdges"),O=y(b);g(b,O);for(var M,s=Number.POSITIVE_INFINITY,k=0,H=0;H<4;++k,++H){l(k%2?A:S,k%4>=2),O=a.buildLayerMatrix(b);var Y=m(b,O);Y<s&&(H=0,M=o.cloneDeep(O),s=Y)}g(b,M)}},9402:(_,E,r)=>{"use strict";var o=r(5760);_.exports=function y(m){var v={},f=o.filter(m.nodes(),function(c){return!m.children(c).length}),d=o.max(o.map(f,function(c){return m.node(c).rank})),u=o.map(o.range(d+1),function(){return[]}),h=o.sortBy(f,function(c){return m.node(c).rank});return o.forEach(h,function a(c){if(!o.has(v,c)){v[c]=!0;var l=m.node(c);u[l.rank].push(c),o.forEach(m.successors(c),a)}}),u}},3826:(_,E,r)=>{"use strict";var o=r(5760);_.exports=function y(f,d){var u={};return o.forEach(f,function(h,c){var l=u[h.v]={indegree:0,in:[],out:[],vs:[h.v],i:c};o.isUndefined(h.barycenter)||(l.barycenter=h.barycenter,l.weight=h.weight)}),o.forEach(d.edges(),function(h){var c=u[h.v],l=u[h.w];!o.isUndefined(c)&&!o.isUndefined(l)&&(l.indegree++,c.out.push(u[h.w]))}),function m(f){var d=[];function u(c){return function(l){l.merged||(o.isUndefined(l.barycenter)||o.isUndefined(c.barycenter)||l.barycenter>=c.barycenter)&&function v(f,d){var u=0,a=0;f.weight&&(u+=f.barycenter*f.weight,a+=f.weight),d.weight&&(u+=d.barycenter*d.weight,a+=d.weight),f.vs=d.vs.concat(f.vs),f.barycenter=u/a,f.weight=a,f.i=Math.min(d.i,f.i),d.merged=!0}(c,l)}}function a(c){return function(l){l.in.push(c),0==--l.indegree&&f.push(l)}}for(;f.length;){var h=f.pop();d.push(h),o.forEach(h.in.reverse(),u(h)),o.forEach(h.out,a(h))}return o.map(o.filter(d,function(c){return!c.merged}),function(c){return o.pick(c,["vs","i","barycenter","weight"])})}(o.filter(u,function(h){return!h.indegree}))}},1057:(_,E,r)=>{var o=r(5760),y=r(1323),m=r(3826),v=r(3803);_.exports=function f(a,h,c,l){var g=a.children(h),b=a.node(h),w=b?b.borderLeft:void 0,A=b?b.borderRight:void 0,S={};w&&(g=o.filter(g,function(Y){return Y!==w&&Y!==A}));var O=y(a,g);o.forEach(O,function(Y){if(a.children(Y.v).length){var z=f(a,Y.v,c,l);S[Y.v]=z,o.has(z,"barycenter")&&function u(a,h){o.isUndefined(a.barycenter)?(a.barycenter=h.barycenter,a.weight=h.weight):(a.barycenter=(a.barycenter*a.weight+h.barycenter*h.weight)/(a.weight+h.weight),a.weight+=h.weight)}(Y,z)}});var s=m(O,c);!function d(a,h){o.forEach(a,function(c){c.vs=o.flatten(c.vs.map(function(l){return h[l]?h[l].vs:l}),!0)})}(s,S);var M=v(s,l);if(w&&(M.vs=o.flatten([w,M.vs,A],!0),a.predecessors(w).length)){var k=a.node(a.predecessors(w)[0]),H=a.node(a.predecessors(A)[0]);o.has(M,"barycenter")||(M.barycenter=0,M.weight=0),M.barycenter=(M.barycenter*M.weight+k.order+H.order)/(M.weight+2),M.weight+=2}return M}},3803:(_,E,r)=>{var o=r(5760),y=r(1510);function v(d,u,a){for(var h;u.length&&(h=o.last(u)).i<=a;)u.pop(),d.push(h.vs),a++;return a}_.exports=function m(d,u){var a=y.partition(d,function(S){return o.has(S,"barycenter")}),h=a.lhs,c=o.sortBy(a.rhs,function(S){return-S.i}),l=[],g=0,b=0,w=0;h.sort(function f(d){return function(u,a){return u.barycenter<a.barycenter?-1:u.barycenter>a.barycenter?1:d?a.i-u.i:u.i-a.i}}(!!u)),w=v(l,c,w),o.forEach(h,function(S){w+=S.vs.length,l.push(S.vs),g+=S.barycenter*S.weight,b+=S.weight,w=v(l,c,w)});var A={vs:o.flatten(l,!0)};return b&&(A.barycenter=g/b,A.weight=b),A}},162:(_,E,r)=>{var o=r(5760);_.exports=function y(f){var d=function v(f){var d={},u=0;return o.forEach(f.children(),function a(h){var c=u;o.forEach(f.children(h),a),d[h]={low:c,lim:u++}}),d}(f);o.forEach(f.graph().dummyChains,function(u){for(var a=f.node(u),h=a.edgeObj,c=function m(f,d,u,a){var b,w,h=[],c=[],l=Math.min(d[u].low,d[a].low),g=Math.max(d[u].lim,d[a].lim);b=u;do{b=f.parent(b),h.push(b)}while(b&&(d[b].low>l||g>d[b].lim));for(w=b,b=a;(b=f.parent(b))!==w;)c.push(b);return{path:h.concat(c.reverse()),lca:w}}(f,d,h.v,h.w),l=c.path,g=c.lca,b=0,w=l[b],A=!0;u!==h.w;){if(a=f.node(u),A){for(;(w=l[b])!==g&&f.node(w).maxRank<a.rank;)b++;w===g&&(A=!1)}if(!A){for(;b<l.length-1&&f.node(w=l[b+1]).minRank<=a.rank;)b++;w=l[b]}f.setParent(u,w),u=f.successors(u)[0]}})}},4058:(_,E,r)=>{"use strict";var o=r(5760),y=r(6456).Graph,m=r(1510);function v(s,M){var k={};return o.reduce(M,function H(Y,z){var $=0,N=0,L=Y.length,D=o.last(z);return o.forEach(z,function(P,G){var U=function d(s,M){if(s.node(M).dummy)return o.find(s.predecessors(M),function(k){return s.node(k).dummy})}(s,P),Q=U?s.node(U).order:L;(U||P===D)&&(o.forEach(z.slice(N,G+1),function(R){o.forEach(s.predecessors(R),function(B){var X=s.node(B),J=X.order;(J<$||Q<J)&&(!X.dummy||!s.node(R).dummy)&&u(k,B,R)})}),N=G+1,$=Q)}),z}),k}function f(s,M){var k={};function H(z,$,N,L,D){var P;o.forEach(o.range($,N),function(G){s.node(P=z[G]).dummy&&o.forEach(s.predecessors(P),function(U){var Q=s.node(U);Q.dummy&&(Q.order<L||Q.order>D)&&u(k,U,P)})})}return o.reduce(M,function Y(z,$){var L,N=-1,D=0;return o.forEach($,function(P,G){if("border"===s.node(P).dummy){var U=s.predecessors(P);U.length&&(L=s.node(U[0]).order,H($,D,G,N,L),D=G,N=L)}H($,D,$.length,L,z.length)}),$}),k}function u(s,M,k){if(M>k){var H=M;M=k,k=H}var Y=s[M];Y||(s[M]=Y={}),Y[k]=!0}function a(s,M,k){if(M>k){var H=M;M=k,k=H}return o.has(s[M],k)}function h(s,M,k,H){var Y={},z={},$={};return o.forEach(M,function(N){o.forEach(N,function(L,D){Y[L]=L,z[L]=L,$[L]=D})}),o.forEach(M,function(N){var L=-1;o.forEach(N,function(D){var P=H(D);if(P.length)for(var G=((P=o.sortBy(P,function(B){return $[B]})).length-1)/2,U=Math.floor(G),Q=Math.ceil(G);U<=Q;++U){var R=P[U];z[D]===D&&L<$[R]&&!a(k,D,R)&&(z[R]=D,z[D]=Y[D]=Y[R],L=$[R])}})}),{root:Y,align:z}}function c(s,M,k,H,Y){var z={},$=function l(s,M,k,H){var Y=new y,z=s.graph(),$=function S(s,M,k){return function(H,Y,z){var D,$=H.node(Y),N=H.node(z),L=0;if(L+=$.width/2,o.has($,"labelpos"))switch($.labelpos.toLowerCase()){case"l":D=-$.width/2;break;case"r":D=$.width/2}if(D&&(L+=k?D:-D),D=0,L+=($.dummy?M:s)/2,L+=(N.dummy?M:s)/2,L+=N.width/2,o.has(N,"labelpos"))switch(N.labelpos.toLowerCase()){case"l":D=N.width/2;break;case"r":D=-N.width/2}return D&&(L+=k?D:-D),D=0,L}}(z.nodesep,z.edgesep,H);return o.forEach(M,function(N){var L;o.forEach(N,function(D){var P=k[D];if(Y.setNode(P),L){var G=k[L],U=Y.edge(G,P);Y.setEdge(G,P,Math.max($(s,D,L),U||0))}L=D})}),Y}(s,M,k,Y),N=Y?"borderLeft":"borderRight";function L(G,U){for(var Q=$.nodes(),R=Q.pop(),B={};R;)B[R]?G(R):(B[R]=!0,Q.push(R),Q=Q.concat(U(R))),R=Q.pop()}return L(function D(G){z[G]=$.inEdges(G).reduce(function(U,Q){return Math.max(U,z[Q.v]+$.edge(Q))},0)},$.predecessors.bind($)),L(function P(G){var U=$.outEdges(G).reduce(function(R,B){return Math.min(R,z[B.w]-$.edge(B))},Number.POSITIVE_INFINITY),Q=s.node(G);U!==Number.POSITIVE_INFINITY&&Q.borderType!==N&&(z[G]=Math.max(z[G],U))},$.successors.bind($)),o.forEach(H,function(G){z[G]=z[k[G]]}),z}function g(s,M){return o.minBy(o.values(M),function(k){var H=Number.NEGATIVE_INFINITY,Y=Number.POSITIVE_INFINITY;return o.forIn(k,function(z,$){var N=function O(s,M){return s.node(M).width}(s,$)/2;H=Math.max(z+N,H),Y=Math.min(z-N,Y)}),H-Y})}function b(s,M){var k=o.values(M),H=o.min(k),Y=o.max(k);o.forEach(["u","d"],function(z){o.forEach(["l","r"],function($){var D,N=z+$,L=s[N];if(L!==M){var P=o.values(L);(D="l"===$?H-o.min(P):Y-o.max(P))&&(s[N]=o.mapValues(L,function(G){return G+D}))}})})}function w(s,M){return o.mapValues(s.ul,function(k,H){if(M)return s[M.toLowerCase()][H];var Y=o.sortBy(o.map(s,H));return(Y[1]+Y[2])/2})}_.exports={positionX:function A(s){var Y,M=m.buildLayerMatrix(s),k=o.merge(v(s,M),f(s,M)),H={};o.forEach(["u","d"],function($){Y="u"===$?M:o.values(M).reverse(),o.forEach(["l","r"],function(N){"r"===N&&(Y=o.map(Y,function(G){return o.values(G).reverse()}));var L=("u"===$?s.predecessors:s.successors).bind(s),D=h(0,Y,k,L),P=c(s,Y,D.root,D.align,"r"===N);"r"===N&&(P=o.mapValues(P,function(G){return-G})),H[$+N]=P})});var z=g(s,H);return b(H,z),w(H,s.graph().align)},findType1Conflicts:v,findType2Conflicts:f,addConflict:u,hasConflict:a,verticalAlignment:h,horizontalCompaction:c,alignCoordinates:b,findSmallestWidthAlignment:g,balance:w}},8226:(_,E,r)=>{"use strict";var o=r(5760),y=r(1510),m=r(4058).positionX;_.exports=function v(d){(function f(d){var u=y.buildLayerMatrix(d),a=d.graph().ranksep,h=0;o.forEach(u,function(c){var l=o.max(o.map(c,function(g){return d.node(g).height}));o.forEach(c,function(g){d.node(g).y=h+l/2}),h+=l+a})})(d=y.asNonCompoundGraph(d)),o.forEach(m(d),function(u,a){d.node(a).x=u})}},6632:(_,E,r)=>{"use strict";var o=r(5760),y=r(6456).Graph,m=r(1916).slack;function f(a,h){return o.forEach(a.nodes(),function c(l){o.forEach(h.nodeEdges(l),function(g){var b=g.v,w=l===b?g.w:b;!a.hasNode(w)&&!m(h,g)&&(a.setNode(w,{}),a.setEdge(l,w,{}),c(w))})}),a.nodeCount()}function d(a,h){return o.minBy(h.edges(),function(c){if(a.hasNode(c.v)!==a.hasNode(c.w))return m(h,c)})}function u(a,h,c){o.forEach(a.nodes(),function(l){h.node(l).rank+=c})}_.exports=function v(a){var g,b,h=new y({directed:!1}),c=a.nodes()[0],l=a.nodeCount();for(h.setNode(c,{});f(h,a)<l;)g=d(h,a),b=h.hasNode(g.v)?m(a,g):-m(a,g),u(h,a,b);return h}},4124:(_,E,r)=>{"use strict";var y=r(1916).longestPath,m=r(6632),v=r(3804);_.exports=function f(h){switch(h.graph().ranker){case"network-simplex":default:!function a(h){v(h)}(h);break;case"tight-tree":!function u(h){y(h),m(h)}(h);break;case"longest-path":d(h)}};var d=y},3804:(_,E,r)=>{"use strict";var o=r(5760),y=r(6632),m=r(1916).slack,v=r(1916).longestPath,f=r(6456).alg.preorder,d=r(6456).alg.postorder,u=r(1510).simplify;function a(k){k=u(k),v(k);var Y,H=y(k);for(g(H),h(H,k);Y=w(H);)S(H,k,Y,A(H,k,Y))}function h(k,H){var Y=d(k,k.nodes());Y=Y.slice(0,Y.length-1),o.forEach(Y,function(z){!function c(k,H,Y){var z=k.node(Y);k.edge(Y,z.parent).cutvalue=l(k,H,Y)}(k,H,z)})}function l(k,H,Y){var $=k.node(Y).parent,N=!0,L=H.edge(Y,$),D=0;return L||(N=!1,L=H.edge($,Y)),D=L.weight,o.forEach(H.nodeEdges(Y),function(P){var G=P.v===Y,U=G?P.w:P.v;if(U!==$){var Q=G===N,R=H.edge(P).weight;if(D+=Q?R:-R,function s(k,H,Y){return k.hasEdge(H,Y)}(k,Y,U)){var B=k.edge(Y,U).cutvalue;D+=Q?-B:B}}}),D}function g(k,H){arguments.length<2&&(H=k.nodes()[0]),b(k,{},1,H)}function b(k,H,Y,z,$){var N=Y,L=k.node(z);return H[z]=!0,o.forEach(k.neighbors(z),function(D){o.has(H,D)||(Y=b(k,H,Y,D,z))}),L.low=N,L.lim=Y++,$?L.parent=$:delete L.parent,Y}function w(k){return o.find(k.edges(),function(H){return k.edge(H).cutvalue<0})}function A(k,H,Y){var z=Y.v,$=Y.w;H.hasEdge(z,$)||(z=Y.w,$=Y.v);var N=k.node(z),L=k.node($),D=N,P=!1;N.lim>L.lim&&(D=L,P=!0);var G=o.filter(H.edges(),function(U){return P===M(0,k.node(U.v),D)&&P!==M(0,k.node(U.w),D)});return o.minBy(G,function(U){return m(H,U)})}function S(k,H,Y,z){k.removeEdge(Y.v,Y.w),k.setEdge(z.v,z.w,{}),g(k),h(k,H),function O(k,H){var Y=o.find(k.nodes(),function($){return!H.node($).parent}),z=f(k,Y);z=z.slice(1),o.forEach(z,function($){var N=k.node($).parent,L=H.edge($,N),D=!1;L||(L=H.edge(N,$),D=!0),H.node($).rank=H.node(N).rank+(D?L.minlen:-L.minlen)})}(k,H)}function M(k,H,Y){return Y.low<=H.lim&&H.lim<=Y.lim}_.exports=a,a.initLowLimValues=g,a.initCutValues=h,a.calcCutValue=l,a.leaveEdge=w,a.enterEdge=A,a.exchangeEdges=S},1916:(_,E,r)=>{"use strict";var o=r(5760);_.exports={longestPath:function y(v){var f={};o.forEach(v.sources(),function d(u){var a=v.node(u);if(o.has(f,u))return a.rank;f[u]=!0;var h=o.min(o.map(v.outEdges(u),function(c){return d(c.w)-v.edge(c).minlen}));return(h===Number.POSITIVE_INFINITY||null==h)&&(h=0),a.rank=h})},slack:function m(v,f){return v.node(f.w).rank-v.node(f.v).rank-v.edge(f).minlen}}},1510:(_,E,r)=>{"use strict";var o=r(5760),y=r(6456).Graph;function m(O,s,M,k){var H;do{H=o.uniqueId(k)}while(O.hasNode(H));return M.dummy=s,O.setNode(H,M),H}function b(O){return o.max(o.map(O.nodes(),function(s){var M=O.node(s).rank;if(!o.isUndefined(M))return M}))}_.exports={addDummyNode:m,simplify:function v(O){var s=(new y).setGraph(O.graph());return o.forEach(O.nodes(),function(M){s.setNode(M,O.node(M))}),o.forEach(O.edges(),function(M){var k=s.edge(M.v,M.w)||{weight:0,minlen:1},H=O.edge(M);s.setEdge(M.v,M.w,{weight:k.weight+H.weight,minlen:Math.max(k.minlen,H.minlen)})}),s},asNonCompoundGraph:function f(O){var s=new y({multigraph:O.isMultigraph()}).setGraph(O.graph());return o.forEach(O.nodes(),function(M){O.children(M).length||s.setNode(M,O.node(M))}),o.forEach(O.edges(),function(M){s.setEdge(M,O.edge(M))}),s},successorWeights:function d(O){var s=o.map(O.nodes(),function(M){var k={};return o.forEach(O.outEdges(M),function(H){k[H.w]=(k[H.w]||0)+O.edge(H).weight}),k});return o.zipObject(O.nodes(),s)},predecessorWeights:function u(O){var s=o.map(O.nodes(),function(M){var k={};return o.forEach(O.inEdges(M),function(H){k[H.v]=(k[H.v]||0)+O.edge(H).weight}),k});return o.zipObject(O.nodes(),s)},intersectRect:function a(O,s){var N,L,M=O.x,k=O.y,H=s.x-M,Y=s.y-k,z=O.width/2,$=O.height/2;if(!H&&!Y)throw new Error("Not possible to find intersection inside of the rectangle");return Math.abs(Y)*z>Math.abs(H)*$?(Y<0&&($=-$),N=$*H/Y,L=$):(H<0&&(z=-z),N=z,L=z*Y/H),{x:M+N,y:k+L}},buildLayerMatrix:function h(O){var s=o.map(o.range(b(O)+1),function(){return[]});return o.forEach(O.nodes(),function(M){var k=O.node(M),H=k.rank;o.isUndefined(H)||(s[H][k.order]=M)}),s},normalizeRanks:function c(O){var s=o.min(o.map(O.nodes(),function(M){return O.node(M).rank}));o.forEach(O.nodes(),function(M){var k=O.node(M);o.has(k,"rank")&&(k.rank-=s)})},removeEmptyRanks:function l(O){var s=o.min(o.map(O.nodes(),function(Y){return O.node(Y).rank})),M=[];o.forEach(O.nodes(),function(Y){var z=O.node(Y).rank-s;M[z]||(M[z]=[]),M[z].push(Y)});var k=0,H=O.graph().nodeRankFactor;o.forEach(M,function(Y,z){o.isUndefined(Y)&&z%H!=0?--k:k&&o.forEach(Y,function($){O.node($).rank+=k})})},addBorderNode:function g(O,s,M,k){var H={width:0,height:0};return arguments.length>=4&&(H.rank=M,H.order=k),m(O,"border",H,s)},maxRank:b,partition:function w(O,s){var M={lhs:[],rhs:[]};return o.forEach(O,function(k){s(k)?M.lhs.push(k):M.rhs.push(k)}),M},time:function A(O,s){var M=o.now();try{return s()}finally{console.log(O+" time: "+(o.now()-M)+"ms")}},notime:function S(O,s){return s()}}},8126:_=>{_.exports="0.8.5"},5510:(_,E,r)=>{var o=r(1838);_.exports={Graph:o.Graph,json:r(1088),alg:r(3430),version:o.version}},6730:(_,E,r)=>{var o=r(9138);_.exports=function y(m){var d,v={},f=[];function u(a){o.has(v,a)||(v[a]=!0,d.push(a),o.each(m.successors(a),u),o.each(m.predecessors(a),u))}return o.each(m.nodes(),function(a){d=[],u(a),d.length&&f.push(d)}),f}},2163:(_,E,r)=>{var o=r(9138);function m(v,f,d,u,a,h){o.has(u,f)||(u[f]=!0,d||h.push(f),o.each(a(f),function(c){m(v,c,d,u,a,h)}),d&&h.push(f))}_.exports=function y(v,f,d){o.isArray(f)||(f=[f]);var u=(v.isDirected()?v.successors:v.neighbors).bind(v),a=[],h={};return o.each(f,function(c){if(!v.hasNode(c))throw new Error("Graph does not have node: "+c);m(v,c,"post"===d,h,u,a)}),a}},5668:(_,E,r)=>{var o=r(1718),y=r(9138);_.exports=function m(v,f,d){return y.transform(v.nodes(),function(u,a){u[a]=o(v,a,f,d)},{})}},1718:(_,E,r)=>{var o=r(9138),y=r(1919);_.exports=function v(d,u,a,h){return function f(d,u,a,h){var g,b,c={},l=new y,w=function(A){var S=A.v!==g?A.v:A.w,O=c[S],s=a(A),M=b.distance+s;if(s<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+A+" Weight: "+s);M<O.distance&&(O.distance=M,O.predecessor=g,l.decrease(S,M))};for(d.nodes().forEach(function(A){var S=A===u?0:Number.POSITIVE_INFINITY;c[A]={distance:S},l.add(A,S)});l.size()>0&&(g=l.removeMin(),(b=c[g]).distance!==Number.POSITIVE_INFINITY);)h(g).forEach(w);return c}(d,String(u),a||m,h||function(c){return d.outEdges(c)})};var m=o.constant(1)},9611:(_,E,r)=>{var o=r(9138),y=r(3585);_.exports=function m(v){return o.filter(y(v),function(f){return f.length>1||1===f.length&&v.hasEdge(f[0],f[0])})}},2881:(_,E,r)=>{var o=r(9138);_.exports=function m(f,d,u){return function v(f,d,u){var a={},h=f.nodes();return h.forEach(function(c){a[c]={},a[c][c]={distance:0},h.forEach(function(l){c!==l&&(a[c][l]={distance:Number.POSITIVE_INFINITY})}),u(c).forEach(function(l){var g=l.v===c?l.w:l.v,b=d(l);a[c][g]={distance:b,predecessor:c}})}),h.forEach(function(c){var l=a[c];h.forEach(function(g){var b=a[g];h.forEach(function(w){var S=l[w],O=b[w],s=b[c].distance+S.distance;s<O.distance&&(O.distance=s,O.predecessor=S.predecessor)})})}),a}(f,d||y,u||function(a){return f.outEdges(a)})};var y=o.constant(1)},3430:(_,E,r)=>{_.exports={components:r(6730),dijkstra:r(1718),dijkstraAll:r(5668),findCycles:r(9611),floydWarshall:r(2881),isAcyclic:r(6693),postorder:r(6694),preorder:r(5330),prim:r(6823),tarjan:r(3585),topsort:r(2180)}},6693:(_,E,r)=>{var o=r(2180);_.exports=function y(m){try{o(m)}catch(v){if(v instanceof o.CycleException)return!1;throw v}return!0}},6694:(_,E,r)=>{var o=r(2163);_.exports=function y(m,v){return o(m,v,"post")}},5330:(_,E,r)=>{var o=r(2163);_.exports=function y(m,v){return o(m,v,"pre")}},6823:(_,E,r)=>{var o=r(9138),y=r(6568),m=r(1919);_.exports=function v(f,d){var c,u=new y,a={},h=new m;function l(b){var w=b.v===c?b.w:b.v,A=h.priority(w);if(void 0!==A){var S=d(b);S<A&&(a[w]=c,h.decrease(w,S))}}if(0===f.nodeCount())return u;o.each(f.nodes(),function(b){h.add(b,Number.POSITIVE_INFINITY),u.setNode(b)}),h.decrease(f.nodes()[0],0);for(var g=!1;h.size()>0;){if(c=h.removeMin(),o.has(a,c))u.setEdge(c,a[c]);else{if(g)throw new Error("Input graph is not connected: "+f);g=!0}f.nodeEdges(c).forEach(l)}return u}},3585:(_,E,r)=>{var o=r(9138);_.exports=function y(m){var v=0,f=[],d={},u=[];function a(h){var c=d[h]={onStack:!0,lowlink:v,index:v++};if(f.push(h),m.successors(h).forEach(function(b){o.has(d,b)?d[b].onStack&&(c.lowlink=Math.min(c.lowlink,d[b].index)):(a(b),c.lowlink=Math.min(c.lowlink,d[b].lowlink))}),c.lowlink===c.index){var g,l=[];do{g=f.pop(),d[g].onStack=!1,l.push(g)}while(h!==g);u.push(l)}}return m.nodes().forEach(function(h){o.has(d,h)||a(h)}),u}},2180:(_,E,r)=>{var o=r(9138);function y(v){var f={},d={},u=[];if(o.each(v.sinks(),function a(h){if(o.has(d,h))throw new m;o.has(f,h)||(d[h]=!0,f[h]=!0,o.each(v.predecessors(h),a),delete d[h],u.push(h))}),o.size(f)!==v.nodeCount())throw new m;return u}function m(){}_.exports=y,y.CycleException=m,m.prototype=new Error},1919:(_,E,r)=>{var o=r(9138);function y(){this._arr=[],this._keyIndices={}}_.exports=y,y.prototype.size=function(){return this._arr.length},y.prototype.keys=function(){return this._arr.map(function(m){return m.key})},y.prototype.has=function(m){return o.has(this._keyIndices,m)},y.prototype.priority=function(m){var v=this._keyIndices[m];if(void 0!==v)return this._arr[v].priority},y.prototype.min=function(){if(0===this.size())throw new Error("Queue underflow");return this._arr[0].key},y.prototype.add=function(m,v){var f=this._keyIndices;if(m=String(m),!o.has(f,m)){var d=this._arr,u=d.length;return f[m]=u,d.push({key:m,priority:v}),this._decrease(u),!0}return!1},y.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var m=this._arr.pop();return delete this._keyIndices[m.key],this._heapify(0),m.key},y.prototype.decrease=function(m,v){var f=this._keyIndices[m];if(v>this._arr[f].priority)throw new Error("New priority is greater than current priority. Key: "+m+" Old: "+this._arr[f].priority+" New: "+v);this._arr[f].priority=v,this._decrease(f)},y.prototype._heapify=function(m){var v=this._arr,f=2*m,d=f+1,u=m;f<v.length&&(u=v[f].priority<v[u].priority?f:u,d<v.length&&(u=v[d].priority<v[u].priority?d:u),u!==m&&(this._swap(m,u),this._heapify(u)))},y.prototype._decrease=function(m){for(var d,v=this._arr,f=v[m].priority;0!==m&&!(v[d=m>>1].priority<f);)this._swap(m,d),m=d},y.prototype._swap=function(m,v){var f=this._arr,d=this._keyIndices,u=f[m],a=f[v];f[m]=a,f[v]=u,d[a.key]=m,d[u.key]=v}},6568:(_,E,r)=>{"use strict";var o=r(9138);_.exports=f;var m="\0";function f(l){this._isDirected=!o.has(l,"directed")||l.directed,this._isMultigraph=!!o.has(l,"multigraph")&&l.multigraph,this._isCompound=!!o.has(l,"compound")&&l.compound,this._label=void 0,this._defaultNodeLabelFn=o.constant(void 0),this._defaultEdgeLabelFn=o.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[m]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}function d(l,g){l[g]?l[g]++:l[g]=1}function u(l,g){--l[g]||delete l[g]}function a(l,g,b,w){var A=""+g,S=""+b;if(!l&&A>S){var O=A;A=S,S=O}return A+"\x01"+S+"\x01"+(o.isUndefined(w)?"\0":w)}function h(l,g,b,w){var A=""+g,S=""+b;if(!l&&A>S){var O=A;A=S,S=O}var s={v:A,w:S};return w&&(s.name=w),s}function c(l,g){return a(l,g.v,g.w,g.name)}f.prototype._nodeCount=0,f.prototype._edgeCount=0,f.prototype.isDirected=function(){return this._isDirected},f.prototype.isMultigraph=function(){return this._isMultigraph},f.prototype.isCompound=function(){return this._isCompound},f.prototype.setGraph=function(l){return this._label=l,this},f.prototype.graph=function(){return this._label},f.prototype.setDefaultNodeLabel=function(l){return o.isFunction(l)||(l=o.constant(l)),this._defaultNodeLabelFn=l,this},f.prototype.nodeCount=function(){return this._nodeCount},f.prototype.nodes=function(){return o.keys(this._nodes)},f.prototype.sources=function(){var l=this;return o.filter(this.nodes(),function(g){return o.isEmpty(l._in[g])})},f.prototype.sinks=function(){var l=this;return o.filter(this.nodes(),function(g){return o.isEmpty(l._out[g])})},f.prototype.setNodes=function(l,g){var b=arguments,w=this;return o.each(l,function(A){b.length>1?w.setNode(A,g):w.setNode(A)}),this},f.prototype.setNode=function(l,g){return o.has(this._nodes,l)?(arguments.length>1&&(this._nodes[l]=g),this):(this._nodes[l]=arguments.length>1?g:this._defaultNodeLabelFn(l),this._isCompound&&(this._parent[l]=m,this._children[l]={},this._children[m][l]=!0),this._in[l]={},this._preds[l]={},this._out[l]={},this._sucs[l]={},++this._nodeCount,this)},f.prototype.node=function(l){return this._nodes[l]},f.prototype.hasNode=function(l){return o.has(this._nodes,l)},f.prototype.removeNode=function(l){var g=this;if(o.has(this._nodes,l)){var b=function(w){g.removeEdge(g._edgeObjs[w])};delete this._nodes[l],this._isCompound&&(this._removeFromParentsChildList(l),delete this._parent[l],o.each(this.children(l),function(w){g.setParent(w)}),delete this._children[l]),o.each(o.keys(this._in[l]),b),delete this._in[l],delete this._preds[l],o.each(o.keys(this._out[l]),b),delete this._out[l],delete this._sucs[l],--this._nodeCount}return this},f.prototype.setParent=function(l,g){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(o.isUndefined(g))g=m;else{for(var b=g+="";!o.isUndefined(b);b=this.parent(b))if(b===l)throw new Error("Setting "+g+" as parent of "+l+" would create a cycle");this.setNode(g)}return this.setNode(l),this._removeFromParentsChildList(l),this._parent[l]=g,this._children[g][l]=!0,this},f.prototype._removeFromParentsChildList=function(l){delete this._children[this._parent[l]][l]},f.prototype.parent=function(l){if(this._isCompound){var g=this._parent[l];if(g!==m)return g}},f.prototype.children=function(l){if(o.isUndefined(l)&&(l=m),this._isCompound){var g=this._children[l];if(g)return o.keys(g)}else{if(l===m)return this.nodes();if(this.hasNode(l))return[]}},f.prototype.predecessors=function(l){var g=this._preds[l];if(g)return o.keys(g)},f.prototype.successors=function(l){var g=this._sucs[l];if(g)return o.keys(g)},f.prototype.neighbors=function(l){var g=this.predecessors(l);if(g)return o.union(g,this.successors(l))},f.prototype.isLeaf=function(l){return 0===(this.isDirected()?this.successors(l):this.neighbors(l)).length},f.prototype.filterNodes=function(l){var g=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});g.setGraph(this.graph());var b=this;o.each(this._nodes,function(S,O){l(O)&&g.setNode(O,S)}),o.each(this._edgeObjs,function(S){g.hasNode(S.v)&&g.hasNode(S.w)&&g.setEdge(S,b.edge(S))});var w={};function A(S){var O=b.parent(S);return void 0===O||g.hasNode(O)?(w[S]=O,O):O in w?w[O]:A(O)}return this._isCompound&&o.each(g.nodes(),function(S){g.setParent(S,A(S))}),g},f.prototype.setDefaultEdgeLabel=function(l){return o.isFunction(l)||(l=o.constant(l)),this._defaultEdgeLabelFn=l,this},f.prototype.edgeCount=function(){return this._edgeCount},f.prototype.edges=function(){return o.values(this._edgeObjs)},f.prototype.setPath=function(l,g){var b=this,w=arguments;return o.reduce(l,function(A,S){return w.length>1?b.setEdge(A,S,g):b.setEdge(A,S),S}),this},f.prototype.setEdge=function(){var l,g,b,w,A=!1,S=arguments[0];"object"==typeof S&&null!==S&&"v"in S?(l=S.v,g=S.w,b=S.name,2===arguments.length&&(w=arguments[1],A=!0)):(l=S,g=arguments[1],b=arguments[3],arguments.length>2&&(w=arguments[2],A=!0)),l=""+l,g=""+g,o.isUndefined(b)||(b=""+b);var O=a(this._isDirected,l,g,b);if(o.has(this._edgeLabels,O))return A&&(this._edgeLabels[O]=w),this;if(!o.isUndefined(b)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(l),this.setNode(g),this._edgeLabels[O]=A?w:this._defaultEdgeLabelFn(l,g,b);var s=h(this._isDirected,l,g,b);return l=s.v,g=s.w,Object.freeze(s),this._edgeObjs[O]=s,d(this._preds[g],l),d(this._sucs[l],g),this._in[g][O]=s,this._out[l][O]=s,this._edgeCount++,this},f.prototype.edge=function(l,g,b){var w=1===arguments.length?c(this._isDirected,arguments[0]):a(this._isDirected,l,g,b);return this._edgeLabels[w]},f.prototype.hasEdge=function(l,g,b){var w=1===arguments.length?c(this._isDirected,arguments[0]):a(this._isDirected,l,g,b);return o.has(this._edgeLabels,w)},f.prototype.removeEdge=function(l,g,b){var w=1===arguments.length?c(this._isDirected,arguments[0]):a(this._isDirected,l,g,b),A=this._edgeObjs[w];return A&&(l=A.v,g=A.w,delete this._edgeLabels[w],delete this._edgeObjs[w],u(this._preds[g],l),u(this._sucs[l],g),delete this._in[g][w],delete this._out[l][w],this._edgeCount--),this},f.prototype.inEdges=function(l,g){var b=this._in[l];if(b){var w=o.values(b);return g?o.filter(w,function(A){return A.v===g}):w}},f.prototype.outEdges=function(l,g){var b=this._out[l];if(b){var w=o.values(b);return g?o.filter(w,function(A){return A.w===g}):w}},f.prototype.nodeEdges=function(l,g){var b=this.inEdges(l,g);if(b)return b.concat(this.outEdges(l,g))}},1838:(_,E,r)=>{_.exports={Graph:r(6568),version:r(5089)}},1088:(_,E,r)=>{var o=r(9138),y=r(6568);function v(u){return o.map(u.nodes(),function(a){var h=u.node(a),c=u.parent(a),l={v:a};return o.isUndefined(h)||(l.value=h),o.isUndefined(c)||(l.parent=c),l})}function f(u){return o.map(u.edges(),function(a){var h=u.edge(a),c={v:a.v,w:a.w};return o.isUndefined(a.name)||(c.name=a.name),o.isUndefined(h)||(c.value=h),c})}_.exports={write:function m(u){var a={options:{directed:u.isDirected(),multigraph:u.isMultigraph(),compound:u.isCompound()},nodes:v(u),edges:f(u)};return o.isUndefined(u.graph())||(a.value=o.clone(u.graph())),a},read:function d(u){var a=new y(u.options).setGraph(u.value);return o.each(u.nodes,function(h){a.setNode(h.v,h.value),h.parent&&a.setParent(h.v,h.parent)}),o.each(u.edges,function(h){a.setEdge({v:h.v,w:h.w,name:h.name},h.value)}),a}}},9138:(_,E,r)=>{var o;try{o={clone:r(1094),constant:r(6684),each:r(5474),filter:r(5281),has:r(4842),isArray:r(1503),isEmpty:r(1973),isFunction:r(5946),isUndefined:r(4235),keys:r(118),map:r(9984),reduce:r(1337),size:r(5637),transform:r(9416),union:r(8921),values:r(377)}}catch{}o||(o=window._),_.exports=o},5089:_=>{_.exports="2.1.8"},7244:(_,E,r)=>{var m=r(3436)(r(2119),"DataView");_.exports=m},4994:(_,E,r)=>{var o=r(4312),y=r(6421),m=r(5764),v=r(8685),f=r(6676);function d(u){var a=-1,h=null==u?0:u.length;for(this.clear();++a<h;){var c=u[a];this.set(c[0],c[1])}}d.prototype.clear=o,d.prototype.delete=y,d.prototype.get=m,d.prototype.has=v,d.prototype.set=f,_.exports=d},9215:(_,E,r)=>{var o=r(1840),y=r(4378),m=r(4981),v=r(7343),f=r(8895);function d(u){var a=-1,h=null==u?0:u.length;for(this.clear();++a<h;){var c=u[a];this.set(c[0],c[1])}}d.prototype.clear=o,d.prototype.delete=y,d.prototype.get=m,d.prototype.has=v,d.prototype.set=f,_.exports=d},1501:(_,E,r)=>{var m=r(3436)(r(2119),"Map");_.exports=m},9850:(_,E,r)=>{var o=r(638),y=r(1184),m=r(866),v=r(3771),f=r(1772);function d(u){var a=-1,h=null==u?0:u.length;for(this.clear();++a<h;){var c=u[a];this.set(c[0],c[1])}}d.prototype.clear=o,d.prototype.delete=y,d.prototype.get=m,d.prototype.has=v,d.prototype.set=f,_.exports=d},4267:(_,E,r)=>{var m=r(3436)(r(2119),"Promise");_.exports=m},6323:(_,E,r)=>{var m=r(3436)(r(2119),"Set");_.exports=m},8849:(_,E,r)=>{var o=r(9850),y=r(4600),m=r(1387);function v(f){var d=-1,u=null==f?0:f.length;for(this.__data__=new o;++d<u;)this.add(f[d])}v.prototype.add=v.prototype.push=y,v.prototype.has=m,_.exports=v},2858:(_,E,r)=>{var o=r(9215),y=r(3720),m=r(4410),v=r(5576),f=r(2247),d=r(1585);function u(a){var h=this.__data__=new o(a);this.size=h.size}u.prototype.clear=y,u.prototype.delete=m,u.prototype.get=v,u.prototype.has=f,u.prototype.set=d,_.exports=u},443:(_,E,r)=>{var o=r(2119);_.exports=o.Symbol},3457:(_,E,r)=>{var o=r(2119);_.exports=o.Uint8Array},4243:(_,E,r)=>{var m=r(3436)(r(2119),"WeakMap");_.exports=m},6999:_=>{_.exports=function E(r,o,y){switch(y.length){case 0:return r.call(o);case 1:return r.call(o,y[0]);case 2:return r.call(o,y[0],y[1]);case 3:return r.call(o,y[0],y[1],y[2])}return r.apply(o,y)}},6837:_=>{_.exports=function E(r,o){for(var y=-1,m=null==r?0:r.length;++y<m&&!1!==o(r[y],y,r););return r}},9779:_=>{_.exports=function E(r,o){for(var y=-1,m=null==r?0:r.length,v=0,f=[];++y<m;){var d=r[y];o(d,y,r)&&(f[v++]=d)}return f}},1253:(_,E,r)=>{var o=r(4164);_.exports=function y(m,v){return!(null==m||!m.length)&&o(m,v,0)>-1}},177:_=>{_.exports=function E(r,o,y){for(var m=-1,v=null==r?0:r.length;++m<v;)if(y(o,r[m]))return!0;return!1}},2271:(_,E,r)=>{var o=r(5334),y=r(7151),m=r(1503),v=r(891),f=r(8442),d=r(8159),a=Object.prototype.hasOwnProperty;_.exports=function h(c,l){var g=m(c),b=!g&&y(c),w=!g&&!b&&v(c),A=!g&&!b&&!w&&d(c),S=g||b||w||A,O=S?o(c.length,String):[],s=O.length;for(var M in c)(l||a.call(c,M))&&(!S||!("length"==M||w&&("offset"==M||"parent"==M)||A&&("buffer"==M||"byteLength"==M||"byteOffset"==M)||f(M,s)))&&O.push(M);return O}},4633:_=>{_.exports=function E(r,o){for(var y=-1,m=null==r?0:r.length,v=Array(m);++y<m;)v[y]=o(r[y],y,r);return v}},5059:_=>{_.exports=function E(r,o){for(var y=-1,m=o.length,v=r.length;++y<m;)r[v+y]=o[y];return r}},8745:_=>{_.exports=function E(r,o,y,m){var v=-1,f=null==r?0:r.length;for(m&&f&&(y=r[++v]);++v<f;)y=o(y,r[v],v,r);return y}},9503:_=>{_.exports=function E(r,o){for(var y=-1,m=null==r?0:r.length;++y<m;)if(o(r[y],y,r))return!0;return!1}},5481:(_,E,r)=>{var y=r(1847)("length");_.exports=y},9276:(_,E,r)=>{var o=r(5683),y=r(217);_.exports=function m(v,f,d){(void 0!==d&&!y(v[f],d)||void 0===d&&!(f in v))&&o(v,f,d)}},9719:(_,E,r)=>{var o=r(5683),y=r(217),v=Object.prototype.hasOwnProperty;_.exports=function f(d,u,a){var h=d[u];(!v.call(d,u)||!y(h,a)||void 0===a&&!(u in d))&&o(d,u,a)}},3503:(_,E,r)=>{var o=r(217);_.exports=function y(m,v){for(var f=m.length;f--;)if(o(m[f][0],v))return f;return-1}},4121:(_,E,r)=>{var o=r(1989),y=r(118);_.exports=function m(v,f){return v&&o(f,y(f),v)}},9287:(_,E,r)=>{var o=r(1989),y=r(6555);_.exports=function m(v,f){return v&&o(f,y(f),v)}},5683:(_,E,r)=>{var o=r(6713);_.exports=function y(m,v,f){"__proto__"==v&&o?o(m,v,{configurable:!0,enumerable:!0,value:f,writable:!0}):m[v]=f}},4462:(_,E,r)=>{var o=r(2858),y=r(6837),m=r(9719),v=r(4121),f=r(9287),d=r(9292),u=r(9454),a=r(4444),h=r(9905),c=r(7597),l=r(6967),g=r(8794),b=r(6782),w=r(7878),A=r(4264),S=r(1503),O=r(891),s=r(3222),M=r(5940),k=r(799),H=r(118),Y=r(6555),L="[object Arguments]",Q="[object Function]",J="[object Object]",mt={};mt[L]=mt["[object Array]"]=mt["[object ArrayBuffer]"]=mt["[object DataView]"]=mt["[object Boolean]"]=mt["[object Date]"]=mt["[object Float32Array]"]=mt["[object Float64Array]"]=mt["[object Int8Array]"]=mt["[object Int16Array]"]=mt["[object Int32Array]"]=mt["[object Map]"]=mt["[object Number]"]=mt[J]=mt["[object RegExp]"]=mt["[object Set]"]=mt["[object String]"]=mt["[object Symbol]"]=mt["[object Uint8Array]"]=mt["[object Uint8ClampedArray]"]=mt["[object Uint16Array]"]=mt["[object Uint32Array]"]=!0,mt["[object Error]"]=mt[Q]=mt["[object WeakMap]"]=!1,_.exports=function Ut(vt,Xt,Jt,on,se,zt){var St,oe=1&Xt,ae=2&Xt,an=4&Xt;if(Jt&&(St=se?Jt(vt,on,se,zt):Jt(vt)),void 0!==St)return St;if(!M(vt))return vt;var Ge=S(vt);if(Ge){if(St=b(vt),!oe)return u(vt,St)}else{var Nt=g(vt),Be=Nt==Q||"[object GeneratorFunction]"==Nt;if(O(vt))return d(vt,oe);if(Nt==J||Nt==L||Be&&!se){if(St=ae||Be?{}:A(vt),!oe)return ae?h(vt,f(St,vt)):a(vt,v(St,vt))}else{if(!mt[Nt])return se?vt:{};St=w(vt,Nt,oe)}}zt||(zt=new o);var Re=zt.get(vt);if(Re)return Re;zt.set(vt,St),k(vt)?vt.forEach(function(kt){St.add(Ut(kt,Xt,Jt,kt,vt,zt))}):s(vt)&&vt.forEach(function(kt,Gt){St.set(Gt,Ut(kt,Xt,Jt,Gt,vt,zt))});var He=Ge?void 0:(an?ae?l:c:ae?Y:H)(vt);return y(He||vt,function(kt,Gt){He&&(kt=vt[Gt=kt]),m(St,Gt,Ut(kt,Xt,Jt,Gt,vt,zt))}),St}},8858:(_,E,r)=>{var o=r(5940),y=Object.create,m=function(){function v(){}return function(f){if(!o(f))return{};if(y)return y(f);v.prototype=f;var d=new v;return v.prototype=void 0,d}}();_.exports=m},3132:(_,E,r)=>{var o=r(5184),m=r(6539)(o);_.exports=m},7308:(_,E,r)=>{var o=r(4129);_.exports=function y(m,v,f){for(var d=-1,u=m.length;++d<u;){var a=m[d],h=v(a);if(null!=h&&(void 0===c?h==h&&!o(h):f(h,c)))var c=h,l=a}return l}},3609:(_,E,r)=>{var o=r(3132);_.exports=function y(m,v){var f=[];return o(m,function(d,u,a){v(d,u,a)&&f.push(d)}),f}},5317:_=>{_.exports=function E(r,o,y,m){for(var v=r.length,f=y+(m?1:-1);m?f--:++f<v;)if(o(r[f],f,r))return f;return-1}},686:(_,E,r)=>{var o=r(5059),y=r(5039);_.exports=function m(v,f,d,u,a){var h=-1,c=v.length;for(d||(d=y),a||(a=[]);++h<c;){var l=v[h];f>0&&d(l)?f>1?m(l,f-1,d,u,a):o(a,l):u||(a[a.length]=l)}return a}},755:(_,E,r)=>{var y=r(456)();_.exports=y},5184:(_,E,r)=>{var o=r(755),y=r(118);_.exports=function m(v,f){return v&&o(v,f,y)}},5456:(_,E,r)=>{var o=r(6884),y=r(8533);_.exports=function m(v,f){for(var d=0,u=(f=o(f,v)).length;null!=v&&d<u;)v=v[y(f[d++])];return d&&d==u?v:void 0}},8247:(_,E,r)=>{var o=r(5059),y=r(1503);_.exports=function m(v,f,d){var u=f(v);return y(v)?u:o(u,d(v))}},3337:(_,E,r)=>{var o=r(443),y=r(1318),m=r(2902),d=o?o.toStringTag:void 0;_.exports=function u(a){return null==a?void 0===a?"[object Undefined]":"[object Null]":d&&d in Object(a)?y(a):m(a)}},1100:_=>{_.exports=function E(r,o){return r>o}},4781:_=>{var r=Object.prototype.hasOwnProperty;_.exports=function o(y,m){return null!=y&&r.call(y,m)}},9989:_=>{_.exports=function E(r,o){return null!=r&&o in Object(r)}},4164:(_,E,r)=>{var o=r(5317),y=r(968),m=r(4977);_.exports=function v(f,d,u){return d==d?m(f,d,u):o(f,y,u)}},186:(_,E,r)=>{var o=r(3337),y=r(2671);_.exports=function v(f){return y(f)&&"[object Arguments]"==o(f)}},5740:(_,E,r)=>{var o=r(8325),y=r(2671);_.exports=function m(v,f,d,u,a){return v===f||(null==v||null==f||!y(v)&&!y(f)?v!=v&&f!=f:o(v,f,d,u,m,a))}},8325:(_,E,r)=>{var o=r(2858),y=r(3914),m=r(7058),v=r(2286),f=r(8794),d=r(1503),u=r(891),a=r(8159),c="[object Arguments]",l="[object Array]",g="[object Object]",w=Object.prototype.hasOwnProperty;_.exports=function A(S,O,s,M,k,H){var Y=d(S),z=d(O),$=Y?l:f(S),N=z?l:f(O),L=($=$==c?g:$)==g,D=(N=N==c?g:N)==g,P=$==N;if(P&&u(S)){if(!u(O))return!1;Y=!0,L=!1}if(P&&!L)return H||(H=new o),Y||a(S)?y(S,O,s,M,k,H):m(S,O,$,s,M,k,H);if(!(1&s)){var G=L&&w.call(S,"__wrapped__"),U=D&&w.call(O,"__wrapped__");if(G||U){var Q=G?S.value():S,R=U?O.value():O;return H||(H=new o),k(Q,R,s,M,H)}}return!!P&&(H||(H=new o),v(S,O,s,M,k,H))}},7021:(_,E,r)=>{var o=r(8794),y=r(2671);_.exports=function v(f){return y(f)&&"[object Map]"==o(f)}},431:(_,E,r)=>{var o=r(2858),y=r(5740);_.exports=function f(d,u,a,h){var c=a.length,l=c,g=!h;if(null==d)return!l;for(d=Object(d);c--;){var b=a[c];if(g&&b[2]?b[1]!==d[b[0]]:!(b[0]in d))return!1}for(;++c<l;){var w=(b=a[c])[0],A=d[w],S=b[1];if(g&&b[2]){if(void 0===A&&!(w in d))return!1}else{var O=new o;if(h)var s=h(A,S,w,d,u,O);if(!(void 0===s?y(S,A,3,h,O):s))return!1}}return!0}},968:_=>{_.exports=function E(r){return r!=r}},7304:(_,E,r)=>{var o=r(5946),y=r(1943),m=r(5940),v=r(2827),d=/^\[object .+?Constructor\]$/,l=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");_.exports=function g(b){return!(!m(b)||y(b))&&(o(b)?l:d).test(v(b))}},771:(_,E,r)=>{var o=r(8794),y=r(2671);_.exports=function v(f){return y(f)&&"[object Set]"==o(f)}},1083:(_,E,r)=>{var o=r(3337),y=r(6231),m=r(2671),P={};P["[object Float32Array]"]=P["[object Float64Array]"]=P["[object Int8Array]"]=P["[object Int16Array]"]=P["[object Int32Array]"]=P["[object Uint8Array]"]=P["[object Uint8ClampedArray]"]=P["[object Uint16Array]"]=P["[object Uint32Array]"]=!0,P["[object Arguments]"]=P["[object Array]"]=P["[object ArrayBuffer]"]=P["[object Boolean]"]=P["[object DataView]"]=P["[object Date]"]=P["[object Error]"]=P["[object Function]"]=P["[object Map]"]=P["[object Number]"]=P["[object Object]"]=P["[object RegExp]"]=P["[object Set]"]=P["[object String]"]=P["[object WeakMap]"]=!1,_.exports=function G(U){return m(U)&&y(U.length)&&!!P[o(U)]}},6517:(_,E,r)=>{var o=r(8133),y=r(9458),m=r(2608),v=r(1503),f=r(7495);_.exports=function d(u){return"function"==typeof u?u:null==u?m:"object"==typeof u?v(u)?y(u[0],u[1]):o(u):f(u)}},1172:(_,E,r)=>{var o=r(5488),y=r(5491),v=Object.prototype.hasOwnProperty;_.exports=function f(d){if(!o(d))return y(d);var u=[];for(var a in Object(d))v.call(d,a)&&"constructor"!=a&&u.push(a);return u}},2809:(_,E,r)=>{var o=r(5940),y=r(5488),m=r(2158),f=Object.prototype.hasOwnProperty;_.exports=function d(u){if(!o(u))return m(u);var a=y(u),h=[];for(var c in u)"constructor"==c&&(a||!f.call(u,c))||h.push(c);return h}},9069:_=>{_.exports=function E(r,o){return r<o}},2046:(_,E,r)=>{var o=r(3132),y=r(6507);_.exports=function m(v,f){var d=-1,u=y(v)?Array(v.length):[];return o(v,function(a,h,c){u[++d]=f(a,h,c)}),u}},8133:(_,E,r)=>{var o=r(431),y=r(2379),m=r(642);_.exports=function v(f){var d=y(f);return 1==d.length&&d[0][2]?m(d[0][0],d[0][1]):function(u){return u===f||o(u,f,d)}}},9458:(_,E,r)=>{var o=r(5740),y=r(8817),m=r(8492),v=r(5352),f=r(2442),d=r(642),u=r(8533);_.exports=function c(l,g){return v(l)&&f(g)?d(u(l),g):function(b){var w=y(b,l);return void 0===w&&w===g?m(b,l):o(g,w,3)}}},3842:(_,E,r)=>{var o=r(2858),y=r(9276),m=r(755),v=r(3675),f=r(5940),d=r(6555),u=r(9351);_.exports=function a(h,c,l,g,b){h!==c&&m(c,function(w,A){if(b||(b=new o),f(w))v(h,c,A,l,a,g,b);else{var S=g?g(u(h,A),w,A+"",h,c,b):void 0;void 0===S&&(S=w),y(h,A,S)}},d)}},3675:(_,E,r)=>{var o=r(9276),y=r(9292),m=r(5208),v=r(9454),f=r(4264),d=r(7151),u=r(1503),a=r(1330),h=r(891),c=r(5946),l=r(5940),g=r(7614),b=r(8159),w=r(9351),A=r(8067);_.exports=function S(O,s,M,k,H,Y,z){var $=w(O,M),N=w(s,M),L=z.get(N);if(L)o(O,M,L);else{var D=Y?Y($,N,M+"",O,s,z):void 0,P=void 0===D;if(P){var G=u(N),U=!G&&h(N),Q=!G&&!U&&b(N);D=N,G||U||Q?u($)?D=$:a($)?D=v($):U?(P=!1,D=y(N,!0)):Q?(P=!1,D=m(N,!0)):D=[]:g(N)||d(N)?(D=$,d($)?D=A($):(!l($)||c($))&&(D=f(N))):P=!1}P&&(z.set(N,D),H(D,N,k,Y,z),z.delete(N)),o(O,M,D)}}},6119:(_,E,r)=>{var o=r(4633),y=r(5456),m=r(6517),v=r(2046),f=r(8750),d=r(5647),u=r(1215),a=r(2608),h=r(1503);_.exports=function c(l,g,b){g=g.length?o(g,function(S){return h(S)?function(O){return y(O,1===S.length?S[0]:S)}:S}):[a];var w=-1;g=o(g,d(m));var A=v(l,function(S,O,s){return{criteria:o(g,function(k){return k(S)}),index:++w,value:S}});return f(A,function(S,O){return u(S,O,b)})}},3021:(_,E,r)=>{var o=r(5495),y=r(8492);_.exports=function m(v,f){return o(v,f,function(d,u){return y(v,u)})}},5495:(_,E,r)=>{var o=r(5456),y=r(6600),m=r(6884);_.exports=function v(f,d,u){for(var a=-1,h=d.length,c={};++a<h;){var l=d[a],g=o(f,l);u(g,l)&&y(c,m(l,f),g)}return c}},1847:_=>{_.exports=function E(r){return function(o){return o?.[r]}}},9222:(_,E,r)=>{var o=r(5456);_.exports=function y(m){return function(v){return o(v,m)}}},6307:_=>{var E=Math.ceil,r=Math.max;_.exports=function o(y,m,v,f){for(var d=-1,u=r(E((m-y)/(v||1)),0),a=Array(u);u--;)a[f?u:++d]=y,y+=v;return a}},3570:_=>{_.exports=function E(r,o,y,m,v){return v(r,function(f,d,u){y=m?(m=!1,f):o(y,f,d,u)}),y}},6652:(_,E,r)=>{var o=r(2608),y=r(3983),m=r(2185);_.exports=function v(f,d){return m(y(f,d,o),f+"")}},6600:(_,E,r)=>{var o=r(9719),y=r(6884),m=r(8442),v=r(5940),f=r(8533);_.exports=function d(u,a,h,c){if(!v(u))return u;for(var l=-1,g=(a=y(a,u)).length,b=g-1,w=u;null!=w&&++l<g;){var A=f(a[l]),S=h;if("__proto__"===A||"constructor"===A||"prototype"===A)return u;if(l!=b){var O=w[A];void 0===(S=c?c(O,A,w):void 0)&&(S=v(O)?O:m(a[l+1])?[]:{})}o(w,A,S),w=w[A]}return u}},9510:(_,E,r)=>{var o=r(6684),y=r(6713),m=r(2608);_.exports=y?function(f,d){return y(f,"toString",{configurable:!0,enumerable:!1,value:o(d),writable:!0})}:m},8750:_=>{_.exports=function E(r,o){var y=r.length;for(r.sort(o);y--;)r[y]=r[y].value;return r}},5334:_=>{_.exports=function E(r,o){for(var y=-1,m=Array(r);++y<r;)m[y]=o(y);return m}},3935:(_,E,r)=>{var o=r(443),y=r(4633),m=r(1503),v=r(4129),d=o?o.prototype:void 0,u=d?d.toString:void 0;_.exports=function a(h){if("string"==typeof h)return h;if(m(h))return y(h,a)+"";if(v(h))return u?u.call(h):"";var c=h+"";return"0"==c&&1/h==-1/0?"-0":c}},3348:(_,E,r)=>{var o=r(2760),y=/^\s+/;_.exports=function m(v){return v&&v.slice(0,o(v)+1).replace(y,"")}},5647:_=>{_.exports=function E(r){return function(o){return r(o)}}},707:(_,E,r)=>{var o=r(8849),y=r(1253),m=r(177),v=r(5972),f=r(4575),d=r(4174);_.exports=function a(h,c,l){var g=-1,b=y,w=h.length,A=!0,S=[],O=S;if(l)A=!1,b=m;else if(w>=200){var s=c?null:f(h);if(s)return d(s);A=!1,b=v,O=new o}else O=c?[]:S;t:for(;++g<w;){var M=h[g],k=c?c(M):M;if(M=l||0!==M?M:0,A&&k==k){for(var H=O.length;H--;)if(O[H]===k)continue t;c&&O.push(k),S.push(M)}else b(O,k,l)||(O!==S&&O.push(k),S.push(M))}return S}},9179:(_,E,r)=>{var o=r(4633);_.exports=function y(m,v){return o(v,function(f){return m[f]})}},8645:_=>{_.exports=function E(r,o,y){for(var m=-1,v=r.length,f=o.length,d={};++m<v;)y(d,r[m],m<f?o[m]:void 0);return d}},5972:_=>{_.exports=function E(r,o){return r.has(o)}},2132:(_,E,r)=>{var o=r(2608);_.exports=function y(m){return"function"==typeof m?m:o}},6884:(_,E,r)=>{var o=r(1503),y=r(5352),m=r(2855),v=r(3943);_.exports=function f(d,u){return o(d)?d:y(d,u)?[d]:m(v(d))}},3362:(_,E,r)=>{var o=r(3457);_.exports=function y(m){var v=new m.constructor(m.byteLength);return new o(v).set(new o(m)),v}},9292:(_,E,r)=>{_=r.nmd(_);var o=r(2119),y=E&&!E.nodeType&&E,m=y&&_&&!_.nodeType&&_,f=m&&m.exports===y?o.Buffer:void 0,d=f?f.allocUnsafe:void 0;_.exports=function u(a,h){if(h)return a.slice();var c=a.length,l=d?d(c):new a.constructor(c);return a.copy(l),l}},7e3:(_,E,r)=>{var o=r(3362);_.exports=function y(m,v){var f=v?o(m.buffer):m.buffer;return new m.constructor(f,m.byteOffset,m.byteLength)}},4098:_=>{var E=/\w*$/;_.exports=function r(o){var y=new o.constructor(o.source,E.exec(o));return y.lastIndex=o.lastIndex,y}},2533:(_,E,r)=>{var o=r(443),y=o?o.prototype:void 0,m=y?y.valueOf:void 0;_.exports=function v(f){return m?Object(m.call(f)):{}}},5208:(_,E,r)=>{var o=r(3362);_.exports=function y(m,v){var f=v?o(m.buffer):m.buffer;return new m.constructor(f,m.byteOffset,m.length)}},3443:(_,E,r)=>{var o=r(4129);_.exports=function y(m,v){if(m!==v){var f=void 0!==m,d=null===m,u=m==m,a=o(m),h=void 0!==v,c=null===v,l=v==v,g=o(v);if(!c&&!g&&!a&&m>v||a&&h&&l&&!c&&!g||d&&h&&l||!f&&l||!u)return 1;if(!d&&!a&&!g&&m<v||g&&f&&u&&!d&&!a||c&&f&&u||!h&&u||!l)return-1}return 0}},1215:(_,E,r)=>{var o=r(3443);_.exports=function y(m,v,f){for(var d=-1,u=m.criteria,a=v.criteria,h=u.length,c=f.length;++d<h;){var l=o(u[d],a[d]);if(l)return d>=c?l:l*("desc"==f[d]?-1:1)}return m.index-v.index}},9454:_=>{_.exports=function E(r,o){var y=-1,m=r.length;for(o||(o=Array(m));++y<m;)o[y]=r[y];return o}},1989:(_,E,r)=>{var o=r(9719),y=r(5683);_.exports=function m(v,f,d,u){var a=!d;d||(d={});for(var h=-1,c=f.length;++h<c;){var l=f[h],g=u?u(d[l],v[l],l,d,v):void 0;void 0===g&&(g=v[l]),a?y(d,l,g):o(d,l,g)}return d}},4444:(_,E,r)=>{var o=r(1989),y=r(9383);_.exports=function m(v,f){return o(v,y(v),f)}},9905:(_,E,r)=>{var o=r(1989),y=r(3051);_.exports=function m(v,f){return o(v,y(v),f)}},4610:(_,E,r)=>{var o=r(2119);_.exports=o["__core-js_shared__"]},4944:(_,E,r)=>{var o=r(6652),y=r(3342);_.exports=function m(v){return o(function(f,d){var u=-1,a=d.length,h=a>1?d[a-1]:void 0,c=a>2?d[2]:void 0;for(h=v.length>3&&"function"==typeof h?(a--,h):void 0,c&&y(d[0],d[1],c)&&(h=a<3?void 0:h,a=1),f=Object(f);++u<a;){var l=d[u];l&&v(f,l,u,h)}return f})}},6539:(_,E,r)=>{var o=r(6507);_.exports=function y(m,v){return function(f,d){if(null==f)return f;if(!o(f))return m(f,d);for(var u=f.length,a=v?u:-1,h=Object(f);(v?a--:++a<u)&&!1!==d(h[a],a,h););return f}}},456:_=>{_.exports=function E(r){return function(o,y,m){for(var v=-1,f=Object(o),d=m(o),u=d.length;u--;){var a=d[r?u:++v];if(!1===y(f[a],a,f))break}return o}}},4653:(_,E,r)=>{var o=r(6517),y=r(6507),m=r(118);_.exports=function v(f){return function(d,u,a){var h=Object(d);if(!y(d)){var c=o(u,3);d=m(d),u=function(g){return c(h[g],g,h)}}var l=f(d,u,a);return l>-1?h[c?d[l]:l]:void 0}}},7509:(_,E,r)=>{var o=r(6307),y=r(3342),m=r(2232);_.exports=function v(f){return function(d,u,a){return a&&"number"!=typeof a&&y(d,u,a)&&(u=a=void 0),d=m(d),void 0===u?(u=d,d=0):u=m(u),a=void 0===a?d<u?1:-1:m(a),o(d,u,a,f)}}},4575:(_,E,r)=>{var o=r(6323),y=r(2552),m=r(4174),f=o&&1/m(new o([,-0]))[1]==1/0?function(d){return new o(d)}:y;_.exports=f},6713:(_,E,r)=>{var o=r(3436),y=function(){try{var m=o(Object,"defineProperty");return m({},"",{}),m}catch{}}();_.exports=y},3914:(_,E,r)=>{var o=r(8849),y=r(9503),m=r(5972);_.exports=function d(u,a,h,c,l,g){var b=1&h,w=u.length,A=a.length;if(w!=A&&!(b&&A>w))return!1;var S=g.get(u),O=g.get(a);if(S&&O)return S==a&&O==u;var s=-1,M=!0,k=2&h?new o:void 0;for(g.set(u,a),g.set(a,u);++s<w;){var H=u[s],Y=a[s];if(c)var z=b?c(Y,H,s,a,u,g):c(H,Y,s,u,a,g);if(void 0!==z){if(z)continue;M=!1;break}if(k){if(!y(a,function($,N){if(!m(k,N)&&(H===$||l(H,$,h,c,g)))return k.push(N)})){M=!1;break}}else if(H!==Y&&!l(H,Y,h,c,g)){M=!1;break}}return g.delete(u),g.delete(a),M}},7058:(_,E,r)=>{var o=r(443),y=r(3457),m=r(217),v=r(3914),f=r(3205),d=r(4174),k=o?o.prototype:void 0,H=k?k.valueOf:void 0;_.exports=function Y(z,$,N,L,D,P,G){switch(N){case"[object DataView]":if(z.byteLength!=$.byteLength||z.byteOffset!=$.byteOffset)return!1;z=z.buffer,$=$.buffer;case"[object ArrayBuffer]":return!(z.byteLength!=$.byteLength||!P(new y(z),new y($)));case"[object Boolean]":case"[object Date]":case"[object Number]":return m(+z,+$);case"[object Error]":return z.name==$.name&&z.message==$.message;case"[object RegExp]":case"[object String]":return z==$+"";case"[object Map]":var U=f;case"[object Set]":if(U||(U=d),z.size!=$.size&&!(1&L))return!1;var R=G.get(z);if(R)return R==$;L|=2,G.set(z,$);var B=v(U(z),U($),L,D,P,G);return G.delete(z),B;case"[object Symbol]":if(H)return H.call(z)==H.call($)}return!1}},2286:(_,E,r)=>{var o=r(7597),v=Object.prototype.hasOwnProperty;_.exports=function f(d,u,a,h,c,l){var g=1&a,b=o(d),w=b.length;if(w!=o(u).length&&!g)return!1;for(var O=w;O--;){var s=b[O];if(!(g?s in u:v.call(u,s)))return!1}var M=l.get(d),k=l.get(u);if(M&&k)return M==u&&k==d;var H=!0;l.set(d,u),l.set(u,d);for(var Y=g;++O<w;){var z=d[s=b[O]],$=u[s];if(h)var N=g?h($,z,s,u,d,l):h(z,$,s,d,u,l);if(!(void 0===N?z===$||c(z,$,a,h,l):N)){H=!1;break}Y||(Y="constructor"==s)}if(H&&!Y){var L=d.constructor,D=u.constructor;L!=D&&"constructor"in d&&"constructor"in u&&!("function"==typeof L&&L instanceof L&&"function"==typeof D&&D instanceof D)&&(H=!1)}return l.delete(d),l.delete(u),H}},3975:(_,E,r)=>{var o=r(2274),y=r(3983),m=r(2185);_.exports=function v(f){return m(y(f,void 0,o),f+"")}},9122:_=>{var E="object"==typeof global&&global&&global.Object===Object&&global;_.exports=E},7597:(_,E,r)=>{var o=r(8247),y=r(9383),m=r(118);_.exports=function v(f){return o(f,m,y)}},6967:(_,E,r)=>{var o=r(8247),y=r(3051),m=r(6555);_.exports=function v(f){return o(f,m,y)}},4537:(_,E,r)=>{var o=r(3819);_.exports=function y(m,v){var f=m.__data__;return o(v)?f["string"==typeof v?"string":"hash"]:f.map}},2379:(_,E,r)=>{var o=r(2442),y=r(118);_.exports=function m(v){for(var f=y(v),d=f.length;d--;){var u=f[d],a=v[u];f[d]=[u,a,o(a)]}return f}},3436:(_,E,r)=>{var o=r(7304),y=r(1990);_.exports=function m(v,f){var d=y(v,f);return o(d)?d:void 0}},9519:(_,E,r)=>{var y=r(9385)(Object.getPrototypeOf,Object);_.exports=y},1318:(_,E,r)=>{var o=r(443),y=Object.prototype,m=y.hasOwnProperty,v=y.toString,f=o?o.toStringTag:void 0;_.exports=function d(u){var a=m.call(u,f),h=u[f];try{u[f]=void 0;var c=!0}catch{}var l=v.call(u);return c&&(a?u[f]=h:delete u[f]),l}},9383:(_,E,r)=>{var o=r(9779),y=r(9975),v=Object.prototype.propertyIsEnumerable,f=Object.getOwnPropertySymbols;_.exports=f?function(u){return null==u?[]:(u=Object(u),o(f(u),function(a){return v.call(u,a)}))}:y},3051:(_,E,r)=>{var o=r(5059),y=r(9519),m=r(9383),v=r(9975);_.exports=Object.getOwnPropertySymbols?function(u){for(var a=[];u;)o(a,m(u)),u=y(u);return a}:v},8794:(_,E,r)=>{var o=r(7244),y=r(1501),m=r(4267),v=r(6323),f=r(4243),d=r(3337),u=r(2827),a="[object Map]",c="[object Promise]",l="[object Set]",g="[object WeakMap]",b="[object DataView]",w=u(o),A=u(y),S=u(m),O=u(v),s=u(f),M=d;(o&&M(new o(new ArrayBuffer(1)))!=b||y&&M(new y)!=a||m&&M(m.resolve())!=c||v&&M(new v)!=l||f&&M(new f)!=g)&&(M=function(k){var H=d(k),Y="[object Object]"==H?k.constructor:void 0,z=Y?u(Y):"";if(z)switch(z){case w:return b;case A:return a;case S:return c;case O:return l;case s:return g}return H}),_.exports=M},1990:_=>{_.exports=function E(r,o){return r?.[o]}},7283:(_,E,r)=>{var o=r(6884),y=r(7151),m=r(1503),v=r(8442),f=r(6231),d=r(8533);_.exports=function u(a,h,c){for(var l=-1,g=(h=o(h,a)).length,b=!1;++l<g;){var w=d(h[l]);if(!(b=null!=a&&c(a,w)))break;a=a[w]}return b||++l!=g?b:!!(g=null==a?0:a.length)&&f(g)&&v(w,g)&&(m(a)||y(a))}},7609:_=>{var d=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");_.exports=function u(a){return d.test(a)}},4312:(_,E,r)=>{var o=r(862);_.exports=function y(){this.__data__=o?o(null):{},this.size=0}},6421:_=>{_.exports=function E(r){var o=this.has(r)&&delete this.__data__[r];return this.size-=o?1:0,o}},5764:(_,E,r)=>{var o=r(862),v=Object.prototype.hasOwnProperty;_.exports=function f(d){var u=this.__data__;if(o){var a=u[d];return"__lodash_hash_undefined__"===a?void 0:a}return v.call(u,d)?u[d]:void 0}},8685:(_,E,r)=>{var o=r(862),m=Object.prototype.hasOwnProperty;_.exports=function v(f){var d=this.__data__;return o?void 0!==d[f]:m.call(d,f)}},6676:(_,E,r)=>{var o=r(862);_.exports=function m(v,f){var d=this.__data__;return this.size+=this.has(v)?0:1,d[v]=o&&void 0===f?"__lodash_hash_undefined__":f,this}},6782:_=>{var r=Object.prototype.hasOwnProperty;_.exports=function o(y){var m=y.length,v=new y.constructor(m);return m&&"string"==typeof y[0]&&r.call(y,"index")&&(v.index=y.index,v.input=y.input),v}},7878:(_,E,r)=>{var o=r(3362),y=r(7e3),m=r(4098),v=r(2533),f=r(5208);_.exports=function N(L,D,P){var G=L.constructor;switch(D){case"[object ArrayBuffer]":return o(L);case"[object Boolean]":case"[object Date]":return new G(+L);case"[object DataView]":return y(L,P);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return f(L,P);case"[object Map]":case"[object Set]":return new G;case"[object Number]":case"[object String]":return new G(L);case"[object RegExp]":return m(L);case"[object Symbol]":return v(L)}}},4264:(_,E,r)=>{var o=r(8858),y=r(9519),m=r(5488);_.exports=function v(f){return"function"!=typeof f.constructor||m(f)?{}:o(y(f))}},5039:(_,E,r)=>{var o=r(443),y=r(7151),m=r(1503),v=o?o.isConcatSpreadable:void 0;_.exports=function f(d){return m(d)||y(d)||!!(v&&d&&d[v])}},8442:_=>{var r=/^(?:0|[1-9]\d*)$/;_.exports=function o(y,m){var v=typeof y;return!!(m=m??9007199254740991)&&("number"==v||"symbol"!=v&&r.test(y))&&y>-1&&y%1==0&&y<m}},3342:(_,E,r)=>{var o=r(217),y=r(6507),m=r(8442),v=r(5940);_.exports=function f(d,u,a){if(!v(a))return!1;var h=typeof u;return!!("number"==h?y(a)&&m(u,a.length):"string"==h&&u in a)&&o(a[u],d)}},5352:(_,E,r)=>{var o=r(1503),y=r(4129),m=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,v=/^\w*$/;_.exports=function f(d,u){if(o(d))return!1;var a=typeof d;return!("number"!=a&&"symbol"!=a&&"boolean"!=a&&null!=d&&!y(d))||v.test(d)||!m.test(d)||null!=u&&d in Object(u)}},3819:_=>{_.exports=function E(r){var o=typeof r;return"string"==o||"number"==o||"symbol"==o||"boolean"==o?"__proto__"!==r:null===r}},1943:(_,E,r)=>{var v,o=r(4610),y=(v=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||""))?"Symbol(src)_1."+v:"";_.exports=function m(v){return!!y&&y in v}},5488:_=>{var E=Object.prototype;_.exports=function r(o){var y=o&&o.constructor;return o===("function"==typeof y&&y.prototype||E)}},2442:(_,E,r)=>{var o=r(5940);_.exports=function y(m){return m==m&&!o(m)}},1840:_=>{_.exports=function E(){this.__data__=[],this.size=0}},4378:(_,E,r)=>{var o=r(3503),m=Array.prototype.splice;_.exports=function v(f){var d=this.__data__,u=o(d,f);return!(u<0||(u==d.length-1?d.pop():m.call(d,u,1),--this.size,0))}},4981:(_,E,r)=>{var o=r(3503);_.exports=function y(m){var v=this.__data__,f=o(v,m);return f<0?void 0:v[f][1]}},7343:(_,E,r)=>{var o=r(3503);_.exports=function y(m){return o(this.__data__,m)>-1}},8895:(_,E,r)=>{var o=r(3503);_.exports=function y(m,v){var f=this.__data__,d=o(f,m);return d<0?(++this.size,f.push([m,v])):f[d][1]=v,this}},638:(_,E,r)=>{var o=r(4994),y=r(9215),m=r(1501);_.exports=function v(){this.size=0,this.__data__={hash:new o,map:new(m||y),string:new o}}},1184:(_,E,r)=>{var o=r(4537);_.exports=function y(m){var v=o(this,m).delete(m);return this.size-=v?1:0,v}},866:(_,E,r)=>{var o=r(4537);_.exports=function y(m){return o(this,m).get(m)}},3771:(_,E,r)=>{var o=r(4537);_.exports=function y(m){return o(this,m).has(m)}},1772:(_,E,r)=>{var o=r(4537);_.exports=function y(m,v){var f=o(this,m),d=f.size;return f.set(m,v),this.size+=f.size==d?0:1,this}},3205:_=>{_.exports=function E(r){var o=-1,y=Array(r.size);return r.forEach(function(m,v){y[++o]=[v,m]}),y}},642:_=>{_.exports=function E(r,o){return function(y){return null!=y&&y[r]===o&&(void 0!==o||r in Object(y))}}},719:(_,E,r)=>{var o=r(535);_.exports=function m(v){var f=o(v,function(u){return 500===d.size&&d.clear(),u}),d=f.cache;return f}},862:(_,E,r)=>{var y=r(3436)(Object,"create");_.exports=y},5491:(_,E,r)=>{var y=r(9385)(Object.keys,Object);_.exports=y},2158:_=>{_.exports=function E(r){var o=[];if(null!=r)for(var y in Object(r))o.push(y);return o}},3597:(_,E,r)=>{_=r.nmd(_);var o=r(9122),y=E&&!E.nodeType&&E,m=y&&_&&!_.nodeType&&_,f=m&&m.exports===y&&o.process,d=function(){try{return m&&m.require&&m.require("util").types||f&&f.binding&&f.binding("util")}catch{}}();_.exports=d},2902:_=>{var r=Object.prototype.toString;_.exports=function o(y){return r.call(y)}},9385:_=>{_.exports=function E(r,o){return function(y){return r(o(y))}}},3983:(_,E,r)=>{var o=r(6999),y=Math.max;_.exports=function m(v,f,d){return f=y(void 0===f?v.length-1:f,0),function(){for(var u=arguments,a=-1,h=y(u.length-f,0),c=Array(h);++a<h;)c[a]=u[f+a];a=-1;for(var l=Array(f+1);++a<f;)l[a]=u[a];return l[f]=d(c),o(v,this,l)}}},2119:(_,E,r)=>{var o=r(9122),y="object"==typeof self&&self&&self.Object===Object&&self,m=o||y||Function("return this")();_.exports=m},9351:_=>{_.exports=function E(r,o){if(("constructor"!==o||"function"!=typeof r[o])&&"__proto__"!=o)return r[o]}},4600:_=>{_.exports=function r(o){return this.__data__.set(o,"__lodash_hash_undefined__"),this}},1387:_=>{_.exports=function E(r){return this.__data__.has(r)}},4174:_=>{_.exports=function E(r){var o=-1,y=Array(r.size);return r.forEach(function(m){y[++o]=m}),y}},2185:(_,E,r)=>{var o=r(9510),m=r(29)(o);_.exports=m},29:_=>{var o=Date.now;_.exports=function y(m){var v=0,f=0;return function(){var d=o(),u=16-(d-f);if(f=d,u>0){if(++v>=800)return arguments[0]}else v=0;return m.apply(void 0,arguments)}}},3720:(_,E,r)=>{var o=r(9215);_.exports=function y(){this.__data__=new o,this.size=0}},4410:_=>{_.exports=function E(r){var o=this.__data__,y=o.delete(r);return this.size=o.size,y}},5576:_=>{_.exports=function E(r){return this.__data__.get(r)}},2247:_=>{_.exports=function E(r){return this.__data__.has(r)}},1585:(_,E,r)=>{var o=r(9215),y=r(1501),m=r(9850);_.exports=function f(d,u){var a=this.__data__;if(a instanceof o){var h=a.__data__;if(!y||h.length<199)return h.push([d,u]),this.size=++a.size,this;a=this.__data__=new m(h)}return a.set(d,u),this.size=a.size,this}},4977:_=>{_.exports=function E(r,o,y){for(var m=y-1,v=r.length;++m<v;)if(r[m]===o)return m;return-1}},2315:(_,E,r)=>{var o=r(5481),y=r(7609),m=r(1149);_.exports=function v(f){return y(f)?m(f):o(f)}},2855:(_,E,r)=>{var o=r(719),y=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,m=/\\(\\)?/g,v=o(function(f){var d=[];return 46===f.charCodeAt(0)&&d.push(""),f.replace(y,function(u,a,h,c){d.push(h?c.replace(m,"$1"):a||u)}),d});_.exports=v},8533:(_,E,r)=>{var o=r(4129);_.exports=function m(v){if("string"==typeof v||o(v))return v;var f=v+"";return"0"==f&&1/v==-1/0?"-0":f}},2827:_=>{var r=Function.prototype.toString;_.exports=function o(y){if(null!=y){try{return r.call(y)}catch{}try{return y+""}catch{}}return""}},2760:_=>{var E=/\s/;_.exports=function r(o){for(var y=o.length;y--&&E.test(o.charAt(y)););return y}},1149:_=>{var E="\\ud800-\\udfff",f="["+E+"]",d="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",u="\\ud83c[\\udffb-\\udfff]",h="[^"+E+"]",c="(?:\\ud83c[\\udde6-\\uddff]){2}",l="[\\ud800-\\udbff][\\udc00-\\udfff]",b="(?:"+d+"|"+u+")?",w="[\\ufe0e\\ufe0f]?",S=w+b+"(?:\\u200d(?:"+[h,c,l].join("|")+")"+w+b+")*",O="(?:"+[h+d+"?",d,c,l,f].join("|")+")",s=RegExp(u+"(?="+u+")|"+O+S,"g");_.exports=function M(k){for(var H=s.lastIndex=0;s.test(k);)++H;return H}},1094:(_,E,r)=>{var o=r(4462);_.exports=function m(v){return o(v,4)}},733:(_,E,r)=>{var o=r(4462);_.exports=function v(f){return o(f,5)}},6684:_=>{_.exports=function E(r){return function(){return r}}},8800:(_,E,r)=>{var o=r(6652),y=r(217),m=r(3342),v=r(6555),f=Object.prototype,d=f.hasOwnProperty,u=o(function(a,h){a=Object(a);var c=-1,l=h.length,g=l>2?h[2]:void 0;for(g&&m(h[0],h[1],g)&&(l=1);++c<l;)for(var b=h[c],w=v(b),A=-1,S=w.length;++A<S;){var O=w[A],s=a[O];(void 0===s||y(s,f[O])&&!d.call(a,O))&&(a[O]=b[O])}return a});_.exports=u},5474:(_,E,r)=>{_.exports=r(9851)},217:_=>{_.exports=function E(r,o){return r===o||r!=r&&o!=o}},5281:(_,E,r)=>{var o=r(9779),y=r(3609),m=r(6517),v=r(1503);_.exports=function f(d,u){return(v(d)?o:y)(d,m(u,3))}},2516:(_,E,r)=>{var m=r(4653)(r(6397));_.exports=m},6397:(_,E,r)=>{var o=r(5317),y=r(6517),m=r(4401),v=Math.max;_.exports=function f(d,u,a){var h=null==d?0:d.length;if(!h)return-1;var c=null==a?0:m(a);return c<0&&(c=v(h+c,0)),o(d,y(u,3),c)}},2274:(_,E,r)=>{var o=r(686);_.exports=function y(m){return null!=m&&m.length?o(m,1):[]}},9851:(_,E,r)=>{var o=r(6837),y=r(3132),m=r(2132),v=r(1503);_.exports=function f(d,u){return(v(d)?o:y)(d,m(u))}},1176:(_,E,r)=>{var o=r(755),y=r(2132),m=r(6555);_.exports=function v(f,d){return null==f?f:o(f,y(d),m)}},8817:(_,E,r)=>{var o=r(5456);_.exports=function y(m,v,f){var d=null==m?void 0:o(m,v);return void 0===d?f:d}},4842:(_,E,r)=>{var o=r(4781),y=r(7283);_.exports=function m(v,f){return null!=v&&y(v,f,o)}},8492:(_,E,r)=>{var o=r(9989),y=r(7283);_.exports=function m(v,f){return null!=v&&y(v,f,o)}},2608:_=>{_.exports=function E(r){return r}},7151:(_,E,r)=>{var o=r(186),y=r(2671),m=Object.prototype,v=m.hasOwnProperty,f=m.propertyIsEnumerable,d=o(function(){return arguments}())?o:function(u){return y(u)&&v.call(u,"callee")&&!f.call(u,"callee")};_.exports=d},1503:_=>{_.exports=Array.isArray},6507:(_,E,r)=>{var o=r(5946),y=r(6231);_.exports=function m(v){return null!=v&&y(v.length)&&!o(v)}},1330:(_,E,r)=>{var o=r(6507),y=r(2671);_.exports=function m(v){return y(v)&&o(v)}},891:(_,E,r)=>{_=r.nmd(_);var o=r(2119),y=r(3580),m=E&&!E.nodeType&&E,v=m&&_&&!_.nodeType&&_,d=v&&v.exports===m?o.Buffer:void 0;_.exports=(d?d.isBuffer:void 0)||y},1973:(_,E,r)=>{var o=r(1172),y=r(8794),m=r(7151),v=r(1503),f=r(6507),d=r(891),u=r(5488),a=r(8159),g=Object.prototype.hasOwnProperty;_.exports=function b(w){if(null==w)return!0;if(f(w)&&(v(w)||"string"==typeof w||"function"==typeof w.splice||d(w)||a(w)||m(w)))return!w.length;var A=y(w);if("[object Map]"==A||"[object Set]"==A)return!w.size;if(u(w))return!o(w).length;for(var S in w)if(g.call(w,S))return!1;return!0}},5946:(_,E,r)=>{var o=r(3337),y=r(5940);_.exports=function u(a){if(!y(a))return!1;var h=o(a);return"[object Function]"==h||"[object GeneratorFunction]"==h||"[object AsyncFunction]"==h||"[object Proxy]"==h}},6231:_=>{_.exports=function r(o){return"number"==typeof o&&o>-1&&o%1==0&&o<=9007199254740991}},3222:(_,E,r)=>{var o=r(7021),y=r(5647),m=r(3597),v=m&&m.isMap,f=v?y(v):o;_.exports=f},5940:_=>{_.exports=function E(r){var o=typeof r;return null!=r&&("object"==o||"function"==o)}},2671:_=>{_.exports=function E(r){return null!=r&&"object"==typeof r}},7614:(_,E,r)=>{var o=r(3337),y=r(9519),m=r(2671),u=Function.prototype.toString,a=Object.prototype.hasOwnProperty,h=u.call(Object);_.exports=function c(l){if(!m(l)||"[object Object]"!=o(l))return!1;var g=y(l);if(null===g)return!0;var b=a.call(g,"constructor")&&g.constructor;return"function"==typeof b&&b instanceof b&&u.call(b)==h}},799:(_,E,r)=>{var o=r(771),y=r(5647),m=r(3597),v=m&&m.isSet,f=v?y(v):o;_.exports=f},248:(_,E,r)=>{var o=r(3337),y=r(1503),m=r(2671);_.exports=function f(d){return"string"==typeof d||!y(d)&&m(d)&&"[object String]"==o(d)}},4129:(_,E,r)=>{var o=r(3337),y=r(2671);_.exports=function v(f){return"symbol"==typeof f||y(f)&&"[object Symbol]"==o(f)}},8159:(_,E,r)=>{var o=r(1083),y=r(5647),m=r(3597),v=m&&m.isTypedArray,f=v?y(v):o;_.exports=f},4235:_=>{_.exports=function E(r){return void 0===r}},118:(_,E,r)=>{var o=r(2271),y=r(1172),m=r(6507);_.exports=function v(f){return m(f)?o(f):y(f)}},6555:(_,E,r)=>{var o=r(2271),y=r(2809),m=r(6507);_.exports=function v(f){return m(f)?o(f,!0):y(f)}},5809:_=>{_.exports=function E(r){var o=null==r?0:r.length;return o?r[o-1]:void 0}},9984:(_,E,r)=>{var o=r(4633),y=r(6517),m=r(2046),v=r(1503);_.exports=function f(d,u){return(v(d)?o:m)(d,y(u,3))}},203:(_,E,r)=>{var o=r(5683),y=r(5184),m=r(6517);_.exports=function v(f,d){var u={};return d=m(d,3),y(f,function(a,h,c){o(u,h,d(a,h,c))}),u}},8176:(_,E,r)=>{var o=r(7308),y=r(1100),m=r(2608);_.exports=function v(f){return f&&f.length?o(f,m,y):void 0}},535:(_,E,r)=>{var o=r(9850);function m(v,f){if("function"!=typeof v||null!=f&&"function"!=typeof f)throw new TypeError("Expected a function");var d=function(){var u=arguments,a=f?f.apply(this,u):u[0],h=d.cache;if(h.has(a))return h.get(a);var c=v.apply(this,u);return d.cache=h.set(a,c)||h,c};return d.cache=new(m.Cache||o),d}m.Cache=o,_.exports=m},567:(_,E,r)=>{var o=r(3842),m=r(4944)(function(v,f,d){o(v,f,d)});_.exports=m},9439:(_,E,r)=>{var o=r(7308),y=r(9069),m=r(2608);_.exports=function v(f){return f&&f.length?o(f,m,y):void 0}},9525:(_,E,r)=>{var o=r(7308),y=r(6517),m=r(9069);_.exports=function v(f,d){return f&&f.length?o(f,y(d,2),m):void 0}},2552:_=>{_.exports=function E(){}},1710:(_,E,r)=>{var o=r(2119);_.exports=function(){return o.Date.now()}},6372:(_,E,r)=>{var o=r(3021),m=r(3975)(function(v,f){return null==v?{}:o(v,f)});_.exports=m},7495:(_,E,r)=>{var o=r(1847),y=r(9222),m=r(5352),v=r(8533);_.exports=function f(d){return m(d)?o(v(d)):y(d)}},361:(_,E,r)=>{var y=r(7509)();_.exports=y},1337:(_,E,r)=>{var o=r(8745),y=r(3132),m=r(6517),v=r(3570),f=r(1503);_.exports=function d(u,a,h){var c=f(u)?o:v,l=arguments.length<3;return c(u,m(a,4),h,l,y)}},5637:(_,E,r)=>{var o=r(1172),y=r(8794),m=r(6507),v=r(248),f=r(2315);_.exports=function a(h){if(null==h)return 0;if(m(h))return v(h)?f(h):h.length;var c=y(h);return"[object Map]"==c||"[object Set]"==c?h.size:o(h).length}},2906:(_,E,r)=>{var o=r(686),y=r(6119),m=r(6652),v=r(3342),f=m(function(d,u){if(null==d)return[];var a=u.length;return a>1&&v(d,u[0],u[1])?u=[]:a>2&&v(u[0],u[1],u[2])&&(u=[u[0]]),y(d,o(u,1),[])});_.exports=f},9975:_=>{_.exports=function E(){return[]}},3580:_=>{_.exports=function E(){return!1}},2232:(_,E,r)=>{var o=r(1467),y=1/0;_.exports=function v(f){return f?(f=o(f))===y||f===-y?17976931348623157e292*(f<0?-1:1):f==f?f:0:0===f?f:0}},4401:(_,E,r)=>{var o=r(2232);_.exports=function y(m){var v=o(m),f=v%1;return v==v?f?v-f:v:0}},1467:(_,E,r)=>{var o=r(3348),y=r(5940),m=r(4129),f=/^[-+]0x[0-9a-f]+$/i,d=/^0b[01]+$/i,u=/^0o[0-7]+$/i,a=parseInt;_.exports=function h(c){if("number"==typeof c)return c;if(m(c))return NaN;if(y(c)){var l="function"==typeof c.valueOf?c.valueOf():c;c=y(l)?l+"":l}if("string"!=typeof c)return 0===c?c:+c;c=o(c);var g=d.test(c);return g||u.test(c)?a(c.slice(2),g?2:8):f.test(c)?NaN:+c}},8067:(_,E,r)=>{var o=r(1989),y=r(6555);_.exports=function m(v){return o(v,y(v))}},3943:(_,E,r)=>{var o=r(3935);_.exports=function y(m){return null==m?"":o(m)}},9416:(_,E,r)=>{var o=r(6837),y=r(8858),m=r(5184),v=r(6517),f=r(9519),d=r(1503),u=r(891),a=r(5946),h=r(5940),c=r(8159);_.exports=function l(g,b,w){var A=d(g),S=A||u(g)||c(g);if(b=v(b,4),null==w){var O=g&&g.constructor;w=S?A?new O:[]:h(g)&&a(O)?y(f(g)):{}}return(S?o:m)(g,function(s,M,k){return b(w,s,M,k)}),w}},8921:(_,E,r)=>{var o=r(686),y=r(6652),m=r(707),v=r(1330),f=y(function(d){return m(o(d,1,v,!0))});_.exports=f},1541:(_,E,r)=>{var o=r(3943),y=0;_.exports=function m(v){var f=++y;return o(v)+f}},377:(_,E,r)=>{var o=r(9179),y=r(118);_.exports=function m(v){return null==v?[]:o(v,y(v))}},1617:(_,E,r)=>{var o=r(9719),y=r(8645);_.exports=function m(v,f){return y(v||[],f||[],o)}},7824:(_,E,r)=>{"use strict";function o(y){for(var m in y)E.hasOwnProperty(m)||(E[m]=y[m])}Object.defineProperty(E,"__esModule",{value:!0}),o(r(5085)),o(r(6243)),o(r(1786)),o(r(225)),o(r(6767)),o(r(345)),o(r(5675)),o(r(6461)),o(r(8802)),o(r(2575)),o(r(8866)),o(r(4655)),o(r(4068)),o(r(3858)),o(r(8237)),o(r(3292))},5085:function(_,E,r){"use strict";var f,o=this&&this.__extends||(f=function(d,u){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,h){a.__proto__=h}||function(a,h){for(var c in h)h.hasOwnProperty(c)&&(a[c]=h[c])})(d,u)},function(d,u){function a(){this.constructor=d}f(d,u),d.prototype=null===u?Object.create(u):(a.prototype=u.prototype,new a)});Object.defineProperty(E,"__esModule",{value:!0});var y=r(5675),m=function(f){function d(u){var a=f.call(this)||this,c=u;return c.trigger&&(a.trigger=c.trigger),c.kick&&(a.kick=c.kick),c.drag&&(a.drag=c.drag),c.on&&(a.on=c.on),a.dragstart=a.dragStart=y.Layout.dragStart,a.dragend=a.dragEnd=y.Layout.dragEnd,a}return o(d,f),d.prototype.trigger=function(u){},d.prototype.kick=function(){},d.prototype.drag=function(){},d.prototype.on=function(u,a){return this},d}(y.Layout);E.LayoutAdaptor=m,E.adaptor=function v(f){return new m(f)}},3292:(_,E,r)=>{"use strict";Object.defineProperty(E,"__esModule",{value:!0});var o=r(5675),y=r(6767);E.gridify=function m(d,u,a,h){d.cola.start(0,0,0,10,!1);var c=function v(d,u,a,h){d.forEach(function(l){l.routerNode={name:l.name,bounds:l.bounds.inflate(-a)}}),u.forEach(function(l){l.routerNode={bounds:l.bounds.inflate(-h),children:(typeof l.groups<"u"?l.groups.map(function(g){return d.length+g.id}):[]).concat(typeof l.leaves<"u"?l.leaves.map(function(g){return g.index}):[])}});var c=d.concat(u).map(function(l,g){return l.routerNode.id=g,l.routerNode});return new y.GridRouter(c,{getChildren:function(l){return l.children},getBounds:function(l){return l.bounds}},a-h)}(d.cola.nodes(),d.cola.groups(),a,h);return c.routeEdges(d.powerGraph.powerEdges,u,function(l){return l.source.routerNode.id},function(l){return l.target.routerNode.id})},E.powerGraphGridLayout=function f(d,u,a){var h;d.nodes.forEach(function(b,w){return b.index=w}),(new o.Layout).avoidOverlaps(!1).nodes(d.nodes).links(d.links).powerGraphGroups(function(b){(h=b).groups.forEach(function(w){return w.padding=a})});var c=d.nodes.length,l=[],g=d.nodes.slice(0);return g.forEach(function(b,w){return b.index=w}),h.groups.forEach(function(b){var w=b.index=b.id+c;g.push(b),typeof b.leaves<"u"&&b.leaves.forEach(function(A){return l.push({source:w,target:A.index})}),typeof b.groups<"u"&&b.groups.forEach(function(A){return l.push({source:w,target:A.id+c})})}),h.powerEdges.forEach(function(b){l.push({source:b.source.index,target:b.target.index})}),(new o.Layout).size(u).nodes(g).links(l).avoidOverlaps(!1).linkDistance(30).symmetricDiffLinkLengths(5).convergenceThreshold(1e-4).start(100,0,0,0,!1),{cola:(new o.Layout).convergenceThreshold(.001).size(u).avoidOverlaps(!0).nodes(d.nodes).links(d.links).groupCompactness(1e-4).linkDistance(30).symmetricDiffLinkLengths(5).powerGraphGroups(function(b){(h=b).groups.forEach(function(w){w.padding=a})}).start(50,0,100,0,!1),powerGraph:h}}},6243:(_,E,r)=>{"use strict";Object.defineProperty(E,"__esModule",{value:!0});var o=r(9346),y=r(2487);E.d3adaptor=function m(f){return!f||function v(f){return f.version&&null!==f.version.match(/^3\./)}(f)?new o.D3StyleLayoutAdaptor:new y.D3StyleLayoutAdaptor(f)}},9346:function(_,E,r){"use strict";var f,o=this&&this.__extends||(f=function(d,u){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,h){a.__proto__=h}||function(a,h){for(var c in h)h.hasOwnProperty(c)&&(a[c]=h[c])})(d,u)},function(d,u){function a(){this.constructor=d}f(d,u),d.prototype=null===u?Object.create(u):(a.prototype=u.prototype,new a)});Object.defineProperty(E,"__esModule",{value:!0});var y=r(5675),m=function(f){function d(){var u=f.call(this)||this;u.event=d3.dispatch(y.EventType[y.EventType.start],y.EventType[y.EventType.tick],y.EventType[y.EventType.end]);var a=u;return u.drag=function(){if(!c)var c=d3.behavior.drag().origin(y.Layout.dragOrigin).on("dragstart.d3adaptor",y.Layout.dragStart).on("drag.d3adaptor",function(l){y.Layout.drag(l,d3.event),a.resume()}).on("dragend.d3adaptor",y.Layout.dragEnd);if(!arguments.length)return c;this.call(c)},u}return o(d,f),d.prototype.trigger=function(u){var a={type:y.EventType[u.type],alpha:u.alpha,stress:u.stress};this.event[a.type](a)},d.prototype.kick=function(){var u=this;d3.timer(function(){return f.prototype.tick.call(u)})},d.prototype.on=function(u,a){return this.event.on("string"==typeof u?u:y.EventType[u],a),this},d}(y.Layout);E.D3StyleLayoutAdaptor=m,E.d3adaptor=function v(){return new m}},2487:function(_,E,r){"use strict";var v,o=this&&this.__extends||(v=function(f,d){return(v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,a){u.__proto__=a}||function(u,a){for(var h in a)a.hasOwnProperty(h)&&(u[h]=a[h])})(f,d)},function(f,d){function u(){this.constructor=f}v(f,d),f.prototype=null===d?Object.create(d):(u.prototype=d.prototype,new u)});Object.defineProperty(E,"__esModule",{value:!0});var y=r(5675),m=function(v){function f(d){var u=v.call(this)||this;u.d3Context=d,u.event=d.dispatch(y.EventType[y.EventType.start],y.EventType[y.EventType.tick],y.EventType[y.EventType.end]);var a=u;return u.drag=function(){if(!c)var c=d.drag().subject(y.Layout.dragOrigin).on("start.d3adaptor",y.Layout.dragStart).on("drag.d3adaptor",function(l){y.Layout.drag(l,d.event),a.resume()}).on("end.d3adaptor",y.Layout.dragEnd);if(!arguments.length)return c;arguments[0].call(c)},u}return o(f,v),f.prototype.trigger=function(d){var u={type:y.EventType[d.type],alpha:d.alpha,stress:d.stress};this.event.call(u.type,u)},f.prototype.kick=function(){var d=this,u=this.d3Context.timer(function(){return v.prototype.tick.call(d)&&u.stop()})},f.prototype.on=function(d,u){return this.event.on("string"==typeof d?d:y.EventType[d],u),this},f}(y.Layout);E.D3StyleLayoutAdaptor=m},1786:(_,E)=>{"use strict";Object.defineProperty(E,"__esModule",{value:!0});var r=function(){function m(){this.locks={}}return m.prototype.add=function(v,f){this.locks[v]=f},m.prototype.clear=function(){this.locks={}},m.prototype.isEmpty=function(){for(var v in this.locks)return!1;return!0},m.prototype.apply=function(v){for(var f in this.locks)v(Number(f),this.locks[f])},m}();E.Locks=r;var o=function(){function m(v,f,d){void 0===d&&(d=null),this.D=f,this.G=d,this.threshold=1e-4,this.numGridSnapNodes=0,this.snapGridSize=100,this.snapStrength=1e3,this.scaleSnapByMaxH=!1,this.random=new y,this.project=null,this.x=v,this.k=v.length;var u=this.n=v[0].length;this.H=new Array(this.k),this.g=new Array(this.k),this.Hd=new Array(this.k),this.a=new Array(this.k),this.b=new Array(this.k),this.c=new Array(this.k),this.d=new Array(this.k),this.e=new Array(this.k),this.ia=new Array(this.k),this.ib=new Array(this.k),this.xtmp=new Array(this.k),this.locks=new r,this.minD=Number.MAX_VALUE;for(var h,a=u;a--;)for(h=u;--h>a;){var c=f[a][h];c>0&&c<this.minD&&(this.minD=c)}for(this.minD===Number.MAX_VALUE&&(this.minD=1),a=this.k;a--;){for(this.g[a]=new Array(u),this.H[a]=new Array(u),h=u;h--;)this.H[a][h]=new Array(u);this.Hd[a]=new Array(u),this.a[a]=new Array(u),this.b[a]=new Array(u),this.c[a]=new Array(u),this.d[a]=new Array(u),this.e[a]=new Array(u),this.ia[a]=new Array(u),this.ib[a]=new Array(u),this.xtmp[a]=new Array(u)}}return m.createSquareMatrix=function(v,f){for(var d=new Array(v),u=0;u<v;++u){d[u]=new Array(v);for(var a=0;a<v;++a)d[u][a]=f(u,a)}return d},m.prototype.offsetDir=function(){for(var v=this,f=new Array(this.k),d=0,u=0;u<this.k;++u){var a=f[u]=this.random.getNextBetween(.01,1)-.5;d+=a*a}return d=Math.sqrt(d),f.map(function(h){return h*(v.minD/d)})},m.prototype.computeDerivatives=function(v){var f=this,d=this.n;if(!(d<1)){for(var u,a=new Array(this.k),h=new Array(this.k),c=new Array(this.k),l=0,g=0;g<d;++g){for(u=0;u<this.k;++u)c[u]=this.g[u][g]=0;for(var b=0;b<d;++b)if(g!==b){for(var w=d;w--;){var A=0;for(u=0;u<this.k;++u){var S=a[u]=v[u][g]-v[u][b];A+=h[u]=S*S}if(A>1e-9)break;var O=this.offsetDir();for(u=0;u<this.k;++u)v[u][b]+=O[u]}var s=Math.sqrt(A),M=this.D[g][b],k=null!=this.G?this.G[g][b]:1;if(k>1&&s>M||!isFinite(M)){for(u=0;u<this.k;++u)this.H[u][g][b]=0;continue}k>1&&(k=1);var H=M*M,Y=2*k*(s-M)/(H*s),z=s*s*s,$=2*-k/(H*z);for(isFinite(Y)||console.log(Y),u=0;u<this.k;++u)this.g[u][g]+=a[u]*Y,c[u]-=this.H[u][g][b]=$*(z+M*(h[u]-A)+s*A)}for(u=0;u<this.k;++u)l=Math.max(l,this.H[u][g][g]=c[u])}var N=this.snapGridSize/2,L=this.snapGridSize,P=this.snapStrength/(N*N),G=this.numGridSnapNodes;for(g=0;g<G;++g)for(u=0;u<this.k;++u){var U=this.x[u][g],Q=U/L,R=Q%1,B=Q-R;-N<(S=Math.abs(R)<=.5?U-B*L:U>0?U-(B+1)*L:U-(B-1)*L)&&S<=N&&(this.scaleSnapByMaxH?(this.g[u][g]+=l*P*S,this.H[u][g][g]+=l*P):(this.g[u][g]+=P*S,this.H[u][g][g]+=P))}this.locks.isEmpty()||this.locks.apply(function(J,rt){for(u=0;u<f.k;++u)f.H[u][J][J]+=l,f.g[u][J]-=l*(rt[u]-v[u][J])})}},m.dotProd=function(v,f){for(var d=0,u=v.length;u--;)d+=v[u]*f[u];return d},m.rightMultiply=function(v,f,d){for(var u=v.length;u--;)d[u]=m.dotProd(v[u],f)},m.prototype.computeStepSize=function(v){for(var f=0,d=0,u=0;u<this.k;++u)f+=m.dotProd(this.g[u],v[u]),m.rightMultiply(this.H[u],v[u],this.Hd[u]),d+=m.dotProd(v[u],this.Hd[u]);return 0!==d&&isFinite(d)?1*f/d:0},m.prototype.reduceStress=function(){this.computeDerivatives(this.x);for(var v=this.computeStepSize(this.g),f=0;f<this.k;++f)this.takeDescentStep(this.x[f],this.g[f],v);return this.computeStress()},m.copy=function(v,f){for(var d=v.length,u=f[0].length,a=0;a<d;++a)for(var h=0;h<u;++h)f[a][h]=v[a][h]},m.prototype.stepAndProject=function(v,f,d,u){m.copy(v,f),this.takeDescentStep(f[0],d[0],u),this.project&&this.project[0](v[0],v[1],f[0]),this.takeDescentStep(f[1],d[1],u),this.project&&this.project[1](f[0],v[1],f[1]);for(var a=2;a<this.k;a++)this.takeDescentStep(f[a],d[a],u)},m.mApply=function(v,f,d){for(var u=v;u-- >0;)for(var a=f;a-- >0;)d(u,a)},m.prototype.matrixApply=function(v){m.mApply(this.k,this.n,v)},m.prototype.computeNextPosition=function(v,f){var d=this;this.computeDerivatives(v);var u=this.computeStepSize(this.g);if(this.stepAndProject(v,f,this.g,u),this.project){this.matrixApply(function(h,c){return d.e[h][c]=v[h][c]-f[h][c]});var a=this.computeStepSize(this.e);a=Math.max(.2,Math.min(a,1)),this.stepAndProject(v,f,this.e,a)}},m.prototype.run=function(v){for(var f=Number.MAX_VALUE,d=!1;!d&&v-- >0;){var u=this.rungeKutta();d=Math.abs(f/u-1)<this.threshold,f=u}return f},m.prototype.rungeKutta=function(){var v=this;this.computeNextPosition(this.x,this.a),m.mid(this.x,this.a,this.ia),this.computeNextPosition(this.ia,this.b),m.mid(this.x,this.b,this.ib),this.computeNextPosition(this.ib,this.c),this.computeNextPosition(this.c,this.d);var f=0;return this.matrixApply(function(d,u){var a=(v.a[d][u]+2*v.b[d][u]+2*v.c[d][u]+v.d[d][u])/6,h=v.x[d][u]-a;f+=h*h,v.x[d][u]=a}),f},m.mid=function(v,f,d){m.mApply(v.length,v[0].length,function(u,a){return d[u][a]=v[u][a]+(f[u][a]-v[u][a])/2})},m.prototype.takeDescentStep=function(v,f,d){for(var u=0;u<this.n;++u)v[u]=v[u]-d*f[u]},m.prototype.computeStress=function(){for(var v=0,f=0,d=this.n-1;f<d;++f)for(var u=f+1,a=this.n;u<a;++u){for(var h=0,c=0;c<this.k;++c){var l=this.x[c][f]-this.x[c][u];h+=l*l}h=Math.sqrt(h);var g=this.D[f][u];if(isFinite(g)){var b=g-h;v+=b*b/(g*g)}}return v},m.zeroDistance=1e-10,m}();E.Descent=o;var y=function(){function m(v){void 0===v&&(v=1),this.seed=v,this.a=214013,this.c=2531011,this.m=2147483648,this.range=32767}return m.prototype.getNext=function(){return this.seed=(this.seed*this.a+this.c)%this.m,(this.seed>>16)/this.range},m.prototype.getNextBetween=function(v,f){return v+this.getNext()*(f-v)},m}();E.PseudoRandom=y},225:function(_,E,r){"use strict";var R,o=this&&this.__extends||(R=function(B,X){return(R=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(J,rt){J.__proto__=rt}||function(J,rt){for(var et in rt)rt.hasOwnProperty(et)&&(J[et]=rt[et])})(B,X)},function(B,X){function J(){this.constructor=B}R(B,X),B.prototype=null===X?Object.create(X):(J.prototype=X.prototype,new J)});Object.defineProperty(E,"__esModule",{value:!0});var y=r(4068),m=function R(){};E.Point=m;var v=function R(B,X,J,rt){this.x1=B,this.y1=X,this.x2=J,this.y2=rt};E.LineSegment=v;var f=function(R){function B(){return null!==R&&R.apply(this,arguments)||this}return o(B,R),B}(m);function d(R,B,X){return(B.x-R.x)*(X.y-R.y)-(X.x-R.x)*(B.y-R.y)}function u(R,B,X){return d(R,B,X)>0}function a(R,B,X){return d(R,B,X)<0}function b(R,B){var X=B.slice(0);return X.push(B[0]),{rtan:w(R,X),ltan:A(R,X)}}function w(R,B){var J,rt,et,ut,X=B.length-1;if(a(R,B[1],B[0])&&!u(R,B[X-1],B[0]))return 0;for(J=0,rt=X;;){if(rt-J==1)return u(R,B[J],B[rt])?J:rt;if((ut=a(R,B[(et=Math.floor((J+rt)/2))+1],B[et]))&&!u(R,B[et-1],B[et]))return et;u(R,B[J+1],B[J])?ut||u(R,B[J],B[et])?rt=et:J=et:ut&&a(R,B[J],B[et])?rt=et:J=et}}function A(R,B){var J,rt,et,ut,X=B.length-1;if(u(R,B[X-1],B[0])&&!a(R,B[1],B[0]))return 0;for(J=0,rt=X;;){if(rt-J==1)return a(R,B[J],B[rt])?J:rt;if(ut=a(R,B[(et=Math.floor((J+rt)/2))+1],B[et]),u(R,B[et-1],B[et])&&!ut)return et;a(R,B[J+1],B[J])?ut?a(R,B[J],B[et])?rt=et:J=et:rt=et:ut?J=et:u(R,B[J],B[et])?rt=et:J=et}}function S(R,B,X,J,rt,et){var st,ut;ut=J(R[st=X(B[0],R)],B);for(var pt=!1;!pt;){for(pt=!0;st===R.length-1&&(st=0),!rt(B[ut],R[st],R[st+1]);)++st;for(;0===ut&&(ut=B.length-1),!et(R[st],B[ut],B[ut-1]);)--ut,pt=!1}return{t1:st,t2:ut}}function s(R,B){return S(R,B,w,A,u,a)}E.PolyPoint=f,E.isLeft=d,E.ConvexHull=function h(R){var J,B=R.slice(0).sort(function(at,ft){return at.x!==ft.x?ft.x-at.x:ft.y-at.y}),X=R.length,et=B[0].x;for(J=1;J<X&&B[J].x===et;++J);var st=J-1,ut=[];if(ut.push(B[0]),st===X-1)B[st].y!==B[0].y&&ut.push(B[st]);else{var pt,W=X-1,K=B[X-1].x;for(J=X-2;J>=0&&B[J].x===K;J--);for(pt=J+1,J=st;++J<=pt;)if(!(d(B[0],B[pt],B[J])>=0&&J<pt)){for(;ut.length>1&&!(d(ut[ut.length-2],ut[ut.length-1],B[J])>0);)ut.length-=1;0!=J&&ut.push(B[J])}W!=pt&&ut.push(B[W]);var it=ut.length;for(J=pt;--J>=st;)if(!(d(B[W],B[st],B[J])>=0&&J>st)){for(;ut.length>it&&!(d(ut[ut.length-2],ut[ut.length-1],B[J])>0);)ut.length-=1;0!=J&&ut.push(B[J])}}return ut},E.clockwiseRadialSweep=function c(R,B,X){B.slice(0).sort(function(J,rt){return Math.atan2(J.y-R.y,J.x-R.x)-Math.atan2(rt.y-R.y,rt.x-R.x)}).forEach(X)},E.tangent_PolyPolyC=S,E.LRtangent_PolyPolyC=function O(R,B){var X=s(B,R);return{t1:X.t2,t2:X.t1}},E.RLtangent_PolyPolyC=s,E.LLtangent_PolyPolyC=function M(R,B){return S(R,B,A,A,a,a)},E.RRtangent_PolyPolyC=function k(R,B){return S(R,B,w,w,u,u)};var H=function R(B,X){this.t1=B,this.t2=X};E.BiTangent=H;var Y=function R(){};E.BiTangents=Y;var z=function(R){function B(){return null!==R&&R.apply(this,arguments)||this}return o(B,R),B}(m);E.TVGPoint=z;var $=function R(B,X,J,rt){this.id=B,this.polyid=X,this.polyvertid=J,this.p=rt,rt.vv=this};E.VisibilityVertex=$;var N=function(){function R(B,X){this.source=B,this.target=X}return R.prototype.length=function(){var B=this.source.p.x-this.target.p.x,X=this.source.p.y-this.target.p.y;return Math.sqrt(B*B+X*X)},R}();E.VisibilityEdge=N;var L=function(){function R(B,X){if(this.P=B,this.V=[],this.E=[],X)this.V=X.V.slice(0),this.E=X.E.slice(0);else{for(var J=B.length,rt=0;rt<J;rt++){for(var et=B[rt],st=0;st<et.length;++st){var pt=new $(this.V.length,rt,st,et[st]);this.V.push(pt),st>0&&this.E.push(new N(et[st-1].vv,pt))}et.length>1&&this.E.push(new N(et[0].vv,et[et.length-1].vv))}for(rt=0;rt<J-1;rt++){var W=B[rt];for(st=rt+1;st<J;st++){var K=B[st],it=P(W,K);for(var at in it){var ft=it[at];this.addEdgeIfVisible(W[ft.t1],K[ft.t2],rt,st)}}}}}return R.prototype.addEdgeIfVisible=function(B,X,J,rt){this.intersectsPolys(new v(B.x,B.y,X.x,X.y),J,rt)||this.E.push(new N(B.vv,X.vv))},R.prototype.addPoint=function(B,X){var J=this.P.length;this.V.push(new $(this.V.length,J,0,B));for(var rt=0;rt<J;++rt)if(rt!==X){var et=this.P[rt],st=b(B,et);this.addEdgeIfVisible(B,et[st.ltan],X,rt),this.addEdgeIfVisible(B,et[st.rtan],X,rt)}return B.vv},R.prototype.intersectsPolys=function(B,X,J){for(var rt=0,et=this.P.length;rt<et;++rt)if(rt!=X&&rt!=J&&D(B,this.P[rt]).length>0)return!0;return!1},R}();function D(R,B){for(var X=[],J=1,rt=B.length;J<rt;++J){var et=y.Rectangle.lineIntersection(R.x1,R.y1,R.x2,R.y2,B[J-1].x,B[J-1].y,B[J].x,B[J].y);et&&X.push(et)}return X}function P(R,B){for(var X=R.length-1,J=B.length-1,rt=new Y,et=0;et<X;++et)for(var st=0;st<J;++st){var ut=R[0==et?X-1:et-1],pt=R[et],W=R[et+1],K=B[0==st?J-1:st-1],it=B[st],at=B[st+1],ft=d(ut,pt,it),ct=d(pt,K,it),gt=d(pt,it,at),yt=d(K,it,pt),Pt=d(it,ut,pt),_t=d(it,pt,W);ft>=0&&ct>=0&&gt<0&&yt>=0&&Pt>=0&&_t<0?rt.ll=new H(et,st):ft<=0&&ct<=0&&gt>0&&yt<=0&&Pt<=0&&_t>0?rt.rr=new H(et,st):ft<=0&&ct>0&&gt<=0&&yt>=0&&Pt<0&&_t>=0?rt.rl=new H(et,st):ft>=0&&ct<0&&gt>=0&&yt<=0&&Pt>0&&_t<=0&&(rt.lr=new H(et,st))}return rt}function U(R,B){return!R.every(function(X){return!function G(R,B){for(var X=1,J=B.length;X<J;++X)if(a(B[X-1],B[X],R))return!1;return!0}(X,B)})}E.TangentVisibilityGraph=L,E.tangents=P,E.polysOverlap=function Q(R,B){if(U(R,B)||U(B,R))return!0;for(var X=1,J=R.length;X<J;++X){var rt=R[X],et=R[X-1];if(D(new v(et.x,et.y,rt.x,rt.y),B).length>0)return!0}return!1}},6767:(_,E,r)=>{"use strict";Object.defineProperty(E,"__esModule",{value:!0});var o=r(4068),y=r(8237),m=r(3858),v=function a(h,c,l){this.id=h,this.rect=c,this.children=l,this.leaf=typeof l>"u"||0===l.length};E.NodeWrapper=v;var f=function a(h,c,l,g,b){void 0===g&&(g=null),void 0===b&&(b=null),this.id=h,this.x=c,this.y=l,this.node=g,this.line=b};E.Vert=f;var d=function(){function a(h,c){this.s=h,this.t=c;var l=a.findMatch(h,c),g=c.slice(0).reverse(),b=a.findMatch(h,g);l.length>=b.length?(this.length=l.length,this.si=l.si,this.ti=l.ti,this.reversed=!1):(this.length=b.length,this.si=b.si,this.ti=c.length-b.ti-b.length,this.reversed=!0)}return a.findMatch=function(h,c){for(var l=h.length,g=c.length,b={length:0,si:-1,ti:-1},w=new Array(l),A=0;A<l;A++){w[A]=new Array(g);for(var S=0;S<g;S++)if(h[A]===c[S]){var O=w[A][S]=0===A||0===S?1:w[A-1][S-1]+1;O>b.length&&(b.length=O,b.si=A-O+1,b.ti=S-O+1)}else w[A][S]=0}return b},a.prototype.getSequence=function(){return this.length>=0?this.s.slice(this.si,this.si+this.length):[]},a}();E.LongestCommonSubsequence=d;var u=function(){function a(h,c,l){var g=this;void 0===l&&(l=12),this.originalnodes=h,this.groupPadding=l,this.leaves=null,this.nodes=h.map(function(z,$){return new v($,c.getBounds(z),c.getChildren(z))}),this.leaves=this.nodes.filter(function(z){return z.leaf}),this.groups=this.nodes.filter(function(z){return!z.leaf}),this.cols=this.getGridLines("x"),this.rows=this.getGridLines("y"),this.groups.forEach(function(z){return z.children.forEach(function($){return g.nodes[$].parent=z})}),this.root={children:[]},this.nodes.forEach(function(z){typeof z.parent>"u"&&(z.parent=g.root,g.root.children.push(z.id)),z.ports=[]}),this.backToFront=this.nodes.slice(0),this.backToFront.sort(function(z,$){return g.getDepth(z)-g.getDepth($)}),this.backToFront.slice(0).reverse().filter(function(z){return!z.leaf}).forEach(function(z){var $=o.Rectangle.empty();z.children.forEach(function(N){return $=$.union(g.nodes[N].rect)}),z.rect=$.inflate(g.groupPadding)});var w=this.midPoints(this.cols.map(function(z){return z.pos})),A=this.midPoints(this.rows.map(function(z){return z.pos})),S=w[0],O=w[w.length-1],s=A[0],M=A[A.length-1],k=this.rows.map(function(z){return{x1:S,x2:O,y1:z.pos,y2:z.pos}}).concat(A.map(function(z){return{x1:S,x2:O,y1:z,y2:z}})),H=this.cols.map(function(z){return{x1:z.pos,x2:z.pos,y1:s,y2:M}}).concat(w.map(function(z){return{x1:z,x2:z,y1:s,y2:M}})),Y=k.concat(H);Y.forEach(function(z){return z.verts=[]}),this.verts=[],this.edges=[],k.forEach(function(z){return H.forEach(function($){var N=new f(g.verts.length,$.x1,z.y1);z.verts.push(N),$.verts.push(N),g.verts.push(N);for(var L=g.backToFront.length;L-- >0;){var D=g.backToFront[L],P=D.rect,G=Math.abs(N.x-P.cx()),U=Math.abs(N.y-P.cy());if(G<P.width()/2&&U<P.height()/2){N.node=D;break}}})}),Y.forEach(function(z,$){g.nodes.forEach(function(U,Q){U.rect.lineIntersections(z.x1,z.y1,z.x2,z.y2).forEach(function(R,B){var X=new f(g.verts.length,R.x,R.y,U,z);g.verts.push(X),z.verts.push(X),U.ports.push(X)})});var N=Math.abs(z.y1-z.y2)<.1,L=function(U,Q){return N?Q.x-U.x:Q.y-U.y};z.verts.sort(L);for(var D=1;D<z.verts.length;D++){var P=z.verts[D-1],G=z.verts[D];P.node&&P.node===G.node&&P.node.leaf||g.edges.push({source:P.id,target:G.id,length:Math.abs(L(P,G))})}})}return a.prototype.avg=function(h){return h.reduce(function(c,l){return c+l})/h.length},a.prototype.getGridLines=function(h){for(var c=[],l=this.leaves.slice(0,this.leaves.length);l.length>0;){var g=l.filter(function(w){return w.rect["overlap"+h.toUpperCase()](l[0].rect)}),b={nodes:g,pos:this.avg(g.map(function(w){return w.rect["c"+h]()}))};c.push(b),b.nodes.forEach(function(w){return l.splice(l.indexOf(w),1)})}return c.sort(function(w,A){return w.pos-A.pos}),c},a.prototype.getDepth=function(h){for(var c=0;h.parent!==this.root;)c++,h=h.parent;return c},a.prototype.midPoints=function(h){for(var c=h[1]-h[0],l=[h[0]-c/2],g=1;g<h.length;g++)l.push((h[g]+h[g-1])/2);return l.push(h[h.length-1]+c/2),l},a.prototype.findLineage=function(h){var c=[h];do{c.push(h=h.parent)}while(h!==this.root);return c.reverse()},a.prototype.findAncestorPathBetween=function(h,c){for(var l=this.findLineage(h),g=this.findLineage(c),b=0;l[b]===g[b];)b++;return{commonAncestor:l[b-1],lineages:l.slice(b).concat(g.slice(b))}},a.prototype.siblingObstacles=function(h,c){var l=this,g=this.findAncestorPathBetween(h,c),b={};g.lineages.forEach(function(A){return b[A.id]={}});var w=g.commonAncestor.children.filter(function(A){return!(A in b)});return g.lineages.filter(function(A){return A.parent!==g.commonAncestor}).forEach(function(A){return w=w.concat(A.parent.children.filter(function(S){return S!==A.id}))}),w.map(function(A){return l.nodes[A]})},a.getSegmentSets=function(h,c,l){for(var g=[],b=0;b<h.length;b++)for(var w=h[b],A=0;A<w.length;A++)(S=w[A]).edgeid=b,S.i=A,Math.abs(S[1][c]-S[0][c])<.1&&g.push(S);g.sort(function(H,Y){return H[0][c]-Y[0][c]});for(var s=[],M=null,k=0;k<g.length;k++){var S=g[k];(!M||Math.abs(S[0][c]-M.pos)>.1)&&s.push(M={pos:S[0][c],segments:[]}),M.segments.push(S)}return s},a.nudgeSegs=function(h,c,l,g,b,w){var A=g.length;if(!(A<=1)){for(var S=g.map(function(D){return new y.Variable(D[0][h])}),O=[],s=0;s<A;s++)for(var M=0;M<A;M++)if(s!==M){var k=g[s],Y=k.edgeid,z=g[M].edgeid,$=-1,N=-1;"x"==h?b(Y,z)&&(k[0][c]<k[1][c]?($=M,N=s):($=s,N=M)):b(Y,z)&&(k[0][c]<k[1][c]?($=s,N=M):($=M,N=s)),$>=0&&O.push(new y.Constraint(S[$],S[N],w))}new y.Solver(S,O).solve(),S.forEach(function(D,P){var G=g[P],U=D.position();G[0][h]=G[1][h]=U;var Q=l[G.edgeid];G.i>0&&(Q[G.i-1][1][h]=U),G.i<Q.length-1&&(Q[G.i+1][0][h]=U)})}},a.nudgeSegments=function(h,c,l,g,b){for(var w=a.getSegmentSets(h,c,l),A=0;A<w.length;A++){for(var S=w[A],O=[],s=0;s<S.segments.length;s++){var M=S.segments[s];O.push({type:0,s:M,pos:Math.min(M[0][l],M[1][l])}),O.push({type:1,s:M,pos:Math.max(M[0][l],M[1][l])})}O.sort(function(Y,z){return Y.pos-z.pos+Y.type-z.type});var k=[],H=0;O.forEach(function(Y){0===Y.type?(k.push(Y.s),H++):H--,0==H&&(a.nudgeSegs(c,l,h,k,g,b),k=[])})}},a.prototype.routeEdges=function(h,c,l,g){var b=this,w=h.map(function(O){return b.route(l(O),g(O))}),A=a.orderEdges(w),S=w.map(function(O){return a.makeSegments(O)});return a.nudgeSegments(S,"x","y",A,c),a.nudgeSegments(S,"y","x",A,c),a.unreverseEdges(S,w),S},a.unreverseEdges=function(h,c){h.forEach(function(l,g){c[g].reversed&&(l.reverse(),l.forEach(function(w){w.reverse()}))})},a.angleBetween2Lines=function(h,c){var l=Math.atan2(h[0].y-h[1].y,h[0].x-h[1].x),g=Math.atan2(c[0].y-c[1].y,c[0].x-c[1].x),b=l-g;return(b>Math.PI||b<-Math.PI)&&(b=g-l),b},a.isLeft=function(h,c,l){return(c.x-h.x)*(l.y-h.y)-(c.y-h.y)*(l.x-h.x)<=0},a.getOrder=function(h){for(var c={},l=0;l<h.length;l++){var g=h[l];typeof c[g.l]>"u"&&(c[g.l]={}),c[g.l][g.r]=!0}return function(b,w){return typeof c[b]<"u"&&c[b][w]}},a.orderEdges=function(h){for(var c=[],l=0;l<h.length-1;l++)for(var g=l+1;g<h.length;g++){var S,O,s,b=h[l],w=h[g],A=new d(b,w);if(0!==A.length){if(A.reversed&&(w.reverse(),w.reversed=!0,A=new d(b,w)),(A.si<=0||A.ti<=0)&&(A.si+A.length>=b.length||A.ti+A.length>=w.length)){c.push({l,r:g});continue}A.si+A.length>=b.length||A.ti+A.length>=w.length?(S=b[A.si+1],s=b[A.si-1],O=w[A.ti-1]):(S=b[A.si+A.length-2],O=b[A.si+A.length],s=w[A.ti+A.length]),a.isLeft(S,O,s)?c.push({l:g,r:l}):c.push({l,r:g})}}return a.getOrder(c)},a.makeSegments=function(h){function c(O){return{x:O.x,y:O.y}}for(var g=[],b=c(h[0]),w=1;w<h.length;w++){var A=c(h[w]),S=w<h.length-1?h[w+1]:null;(!S||(O=b,s=A,M=S,!(Math.abs((s.x-O.x)*(M.y-O.y)-(s.y-O.y)*(M.x-O.x))<.001)))&&(g.push([b,A]),b=A)}var O,s,M;return g},a.prototype.route=function(h,c){var l=this,g=this.nodes[h],b=this.nodes[c];this.obstacles=this.siblingObstacles(g,b);var w={};this.obstacles.forEach(function(N){return w[N.id]=N}),this.passableEdges=this.edges.filter(function(N){var L=l.verts[N.source],D=l.verts[N.target];return!(L.node&&L.node.id in w||D.node&&D.node.id in w)});for(var A=1;A<g.ports.length;A++)this.passableEdges.push({source:g.ports[0].id,target:g.ports[A].id,length:0});for(A=1;A<b.ports.length;A++)this.passableEdges.push({source:b.ports[0].id,target:b.ports[A].id,length:0});var $=new m.Calculator(this.verts.length,this.passableEdges,function(N){return N.source},function(N){return N.target},function(N){return N.length}).PathFromNodeToNodeWithPrevCost(g.ports[0].id,b.ports[0].id,function(N,L,D){var P=l.verts[N],G=l.verts[L],U=l.verts[D],Q=Math.abs(U.x-P.x),R=Math.abs(U.y-P.y);return P.node===g&&P.node===G.node||G.node===b&&G.node===U.node?0:Q>1&&R>1?1e3:0}).reverse().map(function(N){return l.verts[N]});return $.push(this.nodes[b.id].ports[0]),$.filter(function(N,L){return!(L<$.length-1&&$[L+1].node===g&&N.node===g||L>0&&N.node===b&&$[L-1].node===b)})},a.getRoutePath=function(h,c,l,g){var A,S,O,Q,R,b={routepath:"M "+h[0][0].x+" "+h[0][0].y+" ",arrowpath:""};if(h.length>1)for(var w=0;w<h.length;w++){var s=(S=(A=h[w])[1].x)-A[0].x,M=(O=A[1].y)-A[0].y;if(w<h.length-1){Math.abs(s)>0?S-=s/Math.abs(s)*c:O-=M/Math.abs(M)*c,b.routepath+="L "+S+" "+O+" ";var k=h[w+1],H=k[0].x,Y=k[0].y;s=k[1].x-H,M=k[1].y-Y;var L,D,N=a.angleBetween2Lines(A,k)<0?1:0;Math.abs(s)>0?(L=H+s/Math.abs(s)*c,D=Y):(L=H,D=Y+M/Math.abs(M)*c);var P=Math.abs(L-S),G=Math.abs(D-O);b.routepath+="A "+P+" "+G+" 0 0 "+N+" "+L+" "+D+" "}else{var U=[S,O];Math.abs(s)>0?(Q=[S-=s/Math.abs(s)*g,O+l],R=[S,O-l]):(Q=[S+l,O-=M/Math.abs(M)*g],R=[S-l,O]),b.routepath+="L "+S+" "+O+" ",g>0&&(b.arrowpath="M "+U[0]+" "+U[1]+" L "+Q[0]+" "+Q[1]+" L "+R[0]+" "+R[1])}}else s=(S=(A=h[0])[1].x)-A[0].x,M=(O=A[1].y)-A[0].y,U=[S,O],Math.abs(s)>0?(Q=[S-=s/Math.abs(s)*g,O+l],R=[S,O-l]):(Q=[S+l,O-=M/Math.abs(M)*g],R=[S-l,O]),b.routepath+="L "+S+" "+O+" ",g>0&&(b.arrowpath="M "+U[0]+" "+U[1]+" L "+Q[0]+" "+Q[1]+" L "+R[0]+" "+R[1]);return b},a}();E.GridRouter=u},345:(_,E)=>{"use strict";Object.defineProperty(E,"__esModule",{value:!0});var r_GOLDEN_SECTION=(1+Math.sqrt(5))/2;E.applyPacking=function o(m,v,f,w,b,a){void 0===b&&(b=1),void 0===a&&(a=!0);var l=v,g=f,A=(b=typeof b<"u"?b:1,w=typeof w<"u"?w:0,0),S=0,O=0,s=0,M=[];function z(D,P){M=[],A=0,S=0,s=0;for(var G=0;G<D.length;G++)$(D[G],P);return Math.abs(function L(){return A/S}()-b)}function $(D,P){for(var G=void 0,U=0;U<M.length;U++)if(M[U].space_left>=D.height&&M[U].x+M[U].width+D.width+10-P<=1e-4){G=M[U];break}M.push(D),void 0!==G?(D.x=G.x+G.width+10,D.y=G.bottom,D.space_left=D.height,D.bottom=D.y,G.space_left-=D.height+10,G.bottom+=D.height+10):(D.y=s,s+=D.height+10,D.x=0,D.bottom=D.y,D.space_left=D.height),D.y+D.height-S>-1e-4&&(S=D.y+D.height-0),D.x+D.width-A>-1e-4&&(A=D.x+D.width-0)}0!=m.length&&(function k(D){D.forEach(function(G){!function P(G){var U=Number.MAX_VALUE,Q=Number.MAX_VALUE,R=0,B=0;G.array.forEach(function(X){var J=typeof X.width<"u"?X.width:w,rt=typeof X.height<"u"?X.height:w;J/=2,rt/=2,R=Math.max(X.x+J,R),U=Math.min(X.x-J,U),B=Math.max(X.y+rt,B),Q=Math.min(X.y-rt,Q)}),G.width=R-U,G.height=B-Q}(G)})}(m),function Y(D,P){var G=Number.POSITIVE_INFINITY,U=0;D.sort(function(W,K){return K.height-W.height});for(var Q=ut=O=D.reduce(function(W,K){return W.width<K.width?W.width:K.width}),R=pt=function N(D){var P=0;return D.forEach(function(G){return P+=G.width+10}),P}(D),B=0,X=Number.MAX_VALUE,J=Number.MAX_VALUE,rt=-1,et=Number.MAX_VALUE,st=Number.MAX_VALUE;et>O||st>1e-4;){if(1!=rt){var ut=R-(R-Q)/r_GOLDEN_SECTION;X=z(D,ut)}if(0!=rt){var pt=Q+(R-Q)/r_GOLDEN_SECTION;J=z(D,pt)}if(et=Math.abs(ut-pt),st=Math.abs(X-J),X<G&&(G=X,U=ut),J<G&&(G=J,U=pt),X>J?(Q=ut,ut=pt,X=J,rt=1):(R=pt,pt=ut,J=X,rt=0),B++>100)break}z(D,U)}(m),a&&function H(D){D.forEach(function(P){var G={x:0,y:0};P.array.forEach(function(R){G.x+=R.x,G.y+=R.y}),G.x/=P.array.length,G.y/=P.array.length;var Q_x=P.x-(G.x-P.width/2)+l/2-A/2,Q_y=P.y-(G.y-P.height/2)+g/2-S/2;P.array.forEach(function(R){R.x+=Q_x,R.y+=Q_y})})}(m))},E.separateGraphs=function y(m,v){for(var f={},d={},u=[],a=0,h=0;h<v.length;h++){var c=v[h],l=c.source,g=c.target;d[l.index]?d[l.index].push(g):d[l.index]=[g],d[g.index]?d[g.index].push(l):d[g.index]=[l]}for(h=0;h<m.length;h++){var b=m[h];f[b.index]||w(b,!0)}function w(A,S){if(void 0===f[A.index]){S&&(a++,u.push({array:[]})),f[A.index]=a,u[a-1].array.push(A);var O=d[A.index];if(O)for(var s=0;s<O.length;s++)w(O[s],!1)}}return u}},5675:(_,E,r)=>{"use strict";Object.defineProperty(E,"__esModule",{value:!0});var a,l,o=r(2575),y=r(8802),m=r(1786),v=r(4068),f=r(3858),d=r(225),u=r(345);function h(l){return typeof l.leaves<"u"||typeof l.groups<"u"}(l=a=E.EventType||(E.EventType={}))[l.start=0]="start",l[l.tick=1]="tick",l[l.end=2]="end";var c=function(){function l(){var g=this;this._canvasSize=[1,1],this._linkDistance=20,this._defaultNodeSize=10,this._linkLengthCalculator=null,this._linkType=null,this._avoidOverlaps=!1,this._handleDisconnected=!0,this._running=!1,this._nodes=[],this._groups=[],this._rootGroup=null,this._links=[],this._constraints=[],this._distanceMatrix=null,this._descent=null,this._directedLinkConstraints=null,this._threshold=.01,this._visibilityGraph=null,this._groupCompactness=1e-6,this.event=null,this.linkAccessor={getSourceIndex:l.getSourceIndex,getTargetIndex:l.getTargetIndex,setLength:l.setLinkLength,getType:function(b){return"function"==typeof g._linkType?g._linkType(b):0}}}return l.prototype.on=function(g,b){return this.event||(this.event={}),"string"==typeof g?this.event[a[g]]=b:this.event[g]=b,this},l.prototype.trigger=function(g){this.event&&typeof this.event[g.type]<"u"&&this.event[g.type](g)},l.prototype.kick=function(){for(;!this.tick(););},l.prototype.tick=function(){if(this._alpha<this._threshold)return this._running=!1,this.trigger({type:a.end,alpha:this._alpha=0,stress:this._lastStress}),!0;var w,A,g=this._nodes.length;for(this._descent.locks.clear(),A=0;A<g;++A)(w=this._nodes[A]).fixed&&((typeof w.px>"u"||typeof w.py>"u")&&(w.px=w.x,w.py=w.y),this._descent.locks.add(A,[w.px,w.py]));var O=this._descent.rungeKutta();return 0===O?this._alpha=0:typeof this._lastStress<"u"&&(this._alpha=O),this._lastStress=O,this.updateNodePositions(),this.trigger({type:a.tick,alpha:this._alpha,stress:this._lastStress}),!1},l.prototype.updateNodePositions=function(){for(var w,g=this._descent.x[0],b=this._descent.x[1],A=this._nodes.length;A--;)(w=this._nodes[A]).x=g[A],w.y=b[A]},l.prototype.nodes=function(g){if(!g){if(0===this._nodes.length&&this._links.length>0){var b=0;this._links.forEach(function(A){b=Math.max(b,A.source,A.target)}),this._nodes=new Array(++b);for(var w=0;w<b;++w)this._nodes[w]={}}return this._nodes}return this._nodes=g,this},l.prototype.groups=function(g){var b=this;return g?(this._groups=g,this._rootGroup={},this._groups.forEach(function(w){typeof w.padding>"u"&&(w.padding=1),typeof w.leaves<"u"&&w.leaves.forEach(function(A,S){"number"==typeof A&&((w.leaves[S]=b._nodes[A]).parent=w)}),typeof w.groups<"u"&&w.groups.forEach(function(A,S){"number"==typeof A&&((w.groups[S]=b._groups[A]).parent=w)})}),this._rootGroup.leaves=this._nodes.filter(function(w){return typeof w.parent>"u"}),this._rootGroup.groups=this._groups.filter(function(w){return typeof w.parent>"u"}),this):this._groups},l.prototype.powerGraphGroups=function(g){var b=o.getGroups(this._nodes,this._links,this.linkAccessor,this._rootGroup);return this.groups(b.groups),g(b),this},l.prototype.avoidOverlaps=function(g){return arguments.length?(this._avoidOverlaps=g,this):this._avoidOverlaps},l.prototype.handleDisconnected=function(g){return arguments.length?(this._handleDisconnected=g,this):this._handleDisconnected},l.prototype.flowLayout=function(g,b){return arguments.length||(g="y"),this._directedLinkConstraints={axis:g,getMinSeparation:"number"==typeof b?function(){return b}:b},this},l.prototype.links=function(g){return arguments.length?(this._links=g,this):this._links},l.prototype.constraints=function(g){return arguments.length?(this._constraints=g,this):this._constraints},l.prototype.distanceMatrix=function(g){return arguments.length?(this._distanceMatrix=g,this):this._distanceMatrix},l.prototype.size=function(g){return g?(this._canvasSize=g,this):this._canvasSize},l.prototype.defaultNodeSize=function(g){return g?(this._defaultNodeSize=g,this):this._defaultNodeSize},l.prototype.groupCompactness=function(g){return g?(this._groupCompactness=g,this):this._groupCompactness},l.prototype.linkDistance=function(g){return g?(this._linkDistance="function"==typeof g?g:+g,this._linkLengthCalculator=null,this):this._linkDistance},l.prototype.linkType=function(g){return this._linkType=g,this},l.prototype.convergenceThreshold=function(g){return g?(this._threshold="function"==typeof g?g:+g,this):this._threshold},l.prototype.alpha=function(g){return arguments.length?(g=+g,this._alpha?this._alpha=g>0?g:0:g>0&&(this._running||(this._running=!0,this.trigger({type:a.start,alpha:this._alpha=g}),this.kick())),this):this._alpha},l.prototype.getLinkLength=function(g){return"function"==typeof this._linkDistance?+this._linkDistance(g):this._linkDistance},l.setLinkLength=function(g,b){g.length=b},l.prototype.getLinkType=function(g){return"function"==typeof this._linkType?this._linkType(g):0},l.prototype.symmetricDiffLinkLengths=function(g,b){var w=this;return void 0===b&&(b=1),this.linkDistance(function(A){return g*A.length}),this._linkLengthCalculator=function(){return y.symmetricDiffLinkLengths(w._links,w.linkAccessor,b)},this},l.prototype.jaccardLinkLengths=function(g,b){var w=this;return void 0===b&&(b=1),this.linkDistance(function(A){return g*A.length}),this._linkLengthCalculator=function(){return y.jaccardLinkLengths(w._links,w.linkAccessor,b)},this},l.prototype.start=function(g,b,w,A,S,O){var s=this;void 0===g&&(g=0),void 0===b&&(b=0),void 0===w&&(w=0),void 0===A&&(A=0),void 0===S&&(S=!0),void 0===O&&(O=!0);var U,H=this.nodes().length,Y=H+2*this._groups.length,$=this._canvasSize[0],N=this._canvasSize[1],L=new Array(Y),D=new Array(Y),P=null,G=this._avoidOverlaps;this._nodes.forEach(function(et,st){et.index=st,typeof et.x>"u"&&(et.x=$/2,et.y=N/2),L[st]=et.x,D[st]=et.y}),this._linkLengthCalculator&&this._linkLengthCalculator(),this._distanceMatrix?U=this._distanceMatrix:(U=new f.Calculator(Y,this._links,l.getSourceIndex,l.getTargetIndex,function(et){return s.getLinkLength(et)}).DistanceMatrix(),P=m.Descent.createSquareMatrix(Y,function(){return 2}),this._links.forEach(function(et){"number"==typeof et.source&&(et.source=s._nodes[et.source]),"number"==typeof et.target&&(et.target=s._nodes[et.target])}),this._links.forEach(function(et){var st=l.getSourceIndex(et),ut=l.getTargetIndex(et);P[st][ut]=P[ut][st]=et.weight||1}));var Q=m.Descent.createSquareMatrix(Y,function(et,st){return U[et][st]});if(this._rootGroup&&typeof this._rootGroup.groups<"u"){var M=H;this._groups.forEach(function(st){(function(st,ut,pt,W){P[st][ut]=P[ut][st]=pt,Q[st][ut]=Q[ut][st]=.1})(M,M+1,s._groupCompactness),L[M]=0,D[M++]=0,L[M]=0,D[M++]=0})}else this._rootGroup={leaves:this._nodes,groups:[]};var B=this._constraints||[];for(this._directedLinkConstraints&&(this.linkAccessor.getMinSeparation=this._directedLinkConstraints.getMinSeparation,B=B.concat(y.generateDirectedEdgeConstraints(H,this._links,this._directedLinkConstraints.axis,this.linkAccessor))),this.avoidOverlaps(!1),this._descent=new m.Descent([L,D],Q),this._descent.locks.clear(),M=0;M<H;++M){var X=this._nodes[M];X.fixed&&(X.px=X.x,X.py=X.y,this._descent.locks.add(M,[X.x,X.y]))}if(this._descent.threshold=this._threshold,this.initialLayout(g,L,D),B.length>0&&(this._descent.project=new v.Projection(this._nodes,this._groups,this._rootGroup,B).projectFunctions()),this._descent.run(b),this.separateOverlappingComponents($,N,O),this.avoidOverlaps(G),G&&(this._nodes.forEach(function(et,st){et.x=L[st],et.y=D[st]}),this._descent.project=new v.Projection(this._nodes,this._groups,this._rootGroup,B,!0).projectFunctions(),this._nodes.forEach(function(et,st){L[st]=et.x,D[st]=et.y})),this._descent.G=P,this._descent.run(w),A){this._descent.snapStrength=1e3,this._descent.snapGridSize=this._nodes[0].width,this._descent.numGridSnapNodes=H,this._descent.scaleSnapByMaxH=H!=Y;var rt=m.Descent.createSquareMatrix(Y,function(et,st){return et>=H||st>=H?P[et][st]:0});this._descent.G=rt,this._descent.run(A)}return this.updateNodePositions(),this.separateOverlappingComponents($,N,O),S?this.resume():this},l.prototype.initialLayout=function(g,b,w){if(this._groups.length>0&&g>0){var A=this._nodes.length,S=this._links.map(function(s){return{source:s.source.index,target:s.target.index}}),O=this._nodes.map(function(s){return{index:s.index}});this._groups.forEach(function(s,M){O.push({index:s.index=A+M})}),this._groups.forEach(function(s,M){typeof s.leaves<"u"&&s.leaves.forEach(function(k){return S.push({source:s.index,target:k.index})}),typeof s.groups<"u"&&s.groups.forEach(function(k){return S.push({source:s.index,target:k.index})})}),(new l).size(this.size()).nodes(O).links(S).avoidOverlaps(!1).linkDistance(this.linkDistance()).symmetricDiffLinkLengths(5).convergenceThreshold(1e-4).start(g,0,0,0,!1),this._nodes.forEach(function(s){b[s.index]=O[s.index].x,w[s.index]=O[s.index].y})}else this._descent.run(g)},l.prototype.separateOverlappingComponents=function(g,b,w){var A=this;if(void 0===w&&(w=!0),!this._distanceMatrix&&this._handleDisconnected){var S=this._descent.x[0],O=this._descent.x[1];this._nodes.forEach(function(M,k){M.x=S[k],M.y=O[k]});var s=u.separateGraphs(this._nodes,this._links);u.applyPacking(s,g,b,this._defaultNodeSize,1,w),this._nodes.forEach(function(M,k){A._descent.x[0][k]=M.x,A._descent.x[1][k]=M.y,M.bounds&&(M.bounds.setXCentre(M.x),M.bounds.setYCentre(M.y))})}},l.prototype.resume=function(){return this.alpha(.1)},l.prototype.stop=function(){return this.alpha(0)},l.prototype.prepareEdgeRouting=function(g){void 0===g&&(g=0),this._visibilityGraph=new d.TangentVisibilityGraph(this._nodes.map(function(b){return b.bounds.inflate(-g).vertices()}))},l.prototype.routeEdge=function(g,b,w){void 0===b&&(b=5);var A=[],S=new d.TangentVisibilityGraph(this._visibilityGraph.P,{V:this._visibilityGraph.V,E:this._visibilityGraph.E}),O={x:g.source.x,y:g.source.y},s={x:g.target.x,y:g.target.y},M=S.addPoint(O,g.source.index),k=S.addPoint(s,g.target.index);S.addEdgeIfVisible(O,s,g.source.index,g.target.index),typeof w<"u"&&w(S);var N=new f.Calculator(S.V.length,S.E,function(Q){return Q.source.id},function(Q){return Q.target.id},function(Q){return Q.length()}).PathFromNodeToNode(M.id,k.id);if(1===N.length||N.length===S.V.length){var L=v.makeEdgeBetween(g.source.innerBounds,g.target.innerBounds,b);A=[L.sourceIntersection,L.arrowStart]}else{for(var D=N.length-2,P=S.V[N[D]].p,G=S.V[N[0]].p,U=(A=[g.source.innerBounds.rayIntersection(P.x,P.y)],D);U>=0;--U)A.push(S.V[N[U]].p);A.push(v.makeEdgeTo(G,g.target.innerBounds,b))}return A},l.getSourceIndex=function(g){return"number"==typeof g.source?g.source:g.source.index},l.getTargetIndex=function(g){return"number"==typeof g.target?g.target:g.target.index},l.linkId=function(g){return l.getSourceIndex(g)+"-"+l.getTargetIndex(g)},l.dragStart=function(g){h(g)?l.storeOffset(g,l.dragOrigin(g)):(l.stopNode(g),g.fixed|=2)},l.stopNode=function(g){g.px=g.x,g.py=g.y},l.storeOffset=function(g,b){typeof g.leaves<"u"&&g.leaves.forEach(function(w){w.fixed|=2,l.stopNode(w),w._dragGroupOffsetX=w.x-b.x,w._dragGroupOffsetY=w.y-b.y}),typeof g.groups<"u"&&g.groups.forEach(function(w){return l.storeOffset(w,b)})},l.dragOrigin=function(g){return h(g)?{x:g.bounds.cx(),y:g.bounds.cy()}:g},l.drag=function(g,b){h(g)?(typeof g.leaves<"u"&&g.leaves.forEach(function(w){g.bounds.setXCentre(b.x),g.bounds.setYCentre(b.y),w.px=w._dragGroupOffsetX+b.x,w.py=w._dragGroupOffsetY+b.y}),typeof g.groups<"u"&&g.groups.forEach(function(w){return l.drag(w,b)})):(g.px=b.x,g.py=b.y)},l.dragEnd=function(g){h(g)?(typeof g.leaves<"u"&&g.leaves.forEach(function(b){l.dragEnd(b),delete b._dragGroupOffsetX,delete b._dragGroupOffsetY}),typeof g.groups<"u"&&g.groups.forEach(l.dragEnd)):g.fixed&=-7},l.mouseOver=function(g){g.fixed|=4,g.px=g.x,g.py=g.y},l.mouseOut=function(g){g.fixed&=-5},l}();E.Layout=c},6461:(_,E,r)=>{"use strict";Object.defineProperty(E,"__esModule",{value:!0});var o=r(3858),y=r(1786),m=r(4068),v=r(8802),f=function(){function h(c,l){this.source=c,this.target=l}return h.prototype.actualLength=function(c){var l=this;return Math.sqrt(c.reduce(function(g,b){var w=b[l.target]-b[l.source];return g+w*w},0))},h}();E.Link3D=f,E.Node3D=function h(c,l,g){void 0===c&&(c=0),void 0===l&&(l=0),void 0===g&&(g=0),this.x=c,this.y=l,this.z=g};var u=function(){function h(c,l,g){var b=this;void 0===g&&(g=1),this.nodes=c,this.links=l,this.idealLinkLength=g,this.constraints=null,this.useJaccardLinkLengths=!0,this.result=new Array(h.k);for(var w=0;w<h.k;++w)this.result[w]=new Array(c.length);c.forEach(function(A,S){for(var O=0,s=h.dims;O<s.length;O++){var M=s[O];typeof A[M]>"u"&&(A[M]=Math.random())}b.result[0][S]=A.x,b.result[1][S]=A.y,b.result[2][S]=A.z})}return h.prototype.linkLength=function(c){return c.actualLength(this.result)},h.prototype.start=function(c){var l=this;void 0===c&&(c=100);var g=this.nodes.length,b=new a;this.useJaccardLinkLengths&&v.jaccardLinkLengths(this.links,b,1.5),this.links.forEach(function(M){return M.length*=l.idealLinkLength});var w=new o.Calculator(g,this.links,function(M){return M.source},function(M){return M.target},function(M){return M.length}).DistanceMatrix(),A=y.Descent.createSquareMatrix(g,function(M,k){return w[M][k]}),S=y.Descent.createSquareMatrix(g,function(){return 2});this.links.forEach(function(M){var k=M.source,H=M.target;return S[k][H]=S[H][k]=1}),this.descent=new y.Descent(this.result,A),this.descent.threshold=.001,this.descent.G=S,this.constraints&&(this.descent.project=new m.Projection(this.nodes,null,null,this.constraints).projectFunctions());for(var O=0;O<this.nodes.length;O++){var s=this.nodes[O];s.fixed&&this.descent.locks.add(O,[s.x,s.y,s.z])}return this.descent.run(c),this},h.prototype.tick=function(){this.descent.locks.clear();for(var c=0;c<this.nodes.length;c++){var l=this.nodes[c];l.fixed&&this.descent.locks.add(c,[l.x,l.y,l.z])}return this.descent.rungeKutta()},h.k=(h.dims=["x","y","z"]).length,h}();E.Layout3D=u;var a=function(){function h(){}return h.prototype.getSourceIndex=function(c){return c.source},h.prototype.getTargetIndex=function(c){return c.target},h.prototype.getLength=function(c){return c.length},h.prototype.setLength=function(c,l){c.length=l},h}()},8802:(_,E)=>{"use strict";function r(a,h){var c={};for(var l in a)c[l]={};for(var l in h)c[l]={};return Object.keys(c).length}function o(a,h){var c=0;for(var l in a)typeof h[l]<"u"&&++c;return c}function m(a,h,c,l){var g=function y(a,h){var c={},l=function(g,b){typeof c[g]>"u"&&(c[g]={}),c[g][b]={}};return a.forEach(function(g){var b=h.getSourceIndex(g),w=h.getTargetIndex(g);l(b,w),l(w,b)}),c}(a,l);a.forEach(function(b){var w=g[l.getSourceIndex(b)],A=g[l.getTargetIndex(b)];l.setLength(b,1+h*c(w,A))})}function u(a,h,c){var l=[],g=0,b=[],w=[];function A(N){N.index=N.lowlink=g++,b.push(N),N.onStack=!0;for(var L=0,D=N.out;L<D.length;L++){var P=D[L];typeof P.index>"u"?(A(P),N.lowlink=Math.min(N.lowlink,P.lowlink)):P.onStack&&(N.lowlink=Math.min(N.lowlink,P.index))}if(N.lowlink===N.index){for(var G=[];b.length&&((P=b.pop()).onStack=!1,G.push(P),P!==N););w.push(G.map(function(U){return U.id}))}}for(var S=0;S<a;S++)l.push({id:S,out:[]});for(var O=0,s=h;O<s.length;O++){var M=s[O],k=l[c.getSourceIndex(M)],H=l[c.getTargetIndex(M)];k.out.push(H)}for(var Y=0,z=l;Y<z.length;Y++){var $=z[Y];typeof $.index>"u"&&A($)}return w}Object.defineProperty(E,"__esModule",{value:!0}),E.symmetricDiffLinkLengths=function v(a,h,c){void 0===c&&(c=1),m(a,c,function(l,g){return Math.sqrt(r(l,g)-o(l,g))},h)},E.jaccardLinkLengths=function f(a,h,c){void 0===c&&(c=1),m(a,c,function(l,g){return Math.min(Object.keys(l).length,Object.keys(g).length)<1.1?0:o(l,g)/r(l,g)},h)},E.generateDirectedEdgeConstraints=function d(a,h,c,l){var g=u(a,h,l),b={};g.forEach(function(A,S){return A.forEach(function(O){return b[O]=S})});var w=[];return h.forEach(function(A){var S=l.getSourceIndex(A),O=l.getTargetIndex(A);b[S]!==b[O]&&w.push({axis:c,left:S,right:O,gap:l.getMinSeparation(A)})}),w},E.stronglyConnectedComponents=u},2575:(_,E)=>{"use strict";Object.defineProperty(E,"__esModule",{value:!0});var r=function h(c,l,g){this.source=c,this.target=l,this.type=g};E.PowerEdge=r;var o=function(){function h(c,l,g,b){var w=this;if(this.linkAccessor=g,this.modules=new Array(c),this.roots=[],b)this.initModulesFromGroup(b);else{this.roots.push(new f);for(var A=0;A<c;++A)this.roots[0].add(this.modules[A]=new m(A))}this.R=l.length,l.forEach(function(S){var O=w.modules[g.getSourceIndex(S)],s=w.modules[g.getTargetIndex(S)],M=g.getType(S);O.outgoing.add(M,s),s.incoming.add(M,O)})}return h.prototype.initModulesFromGroup=function(c){var l=new f;this.roots.push(l);for(var g=0;g<c.leaves.length;++g){var b=c.leaves[g],w=new m(b.id);this.modules[b.id]=w,l.add(w)}if(c.groups)for(var A=0;A<c.groups.length;++A){var S=c.groups[A],O={};for(var s in S)"leaves"!==s&&"groups"!==s&&S.hasOwnProperty(s)&&(O[s]=S[s]);l.add(new m(-1-A,new d,new d,this.initModulesFromGroup(S),O))}return l},h.prototype.merge=function(c,l,g){void 0===g&&(g=0);var b=c.incoming.intersection(l.incoming),w=c.outgoing.intersection(l.outgoing),A=new f;A.add(c),A.add(l);var S=new m(this.modules.length,w,b,A);this.modules.push(S);var O=function(s,M,k){s.forAll(function(H,Y){H.forAll(function(z){var $=z[M];$.add(Y,S),$.remove(Y,c),$.remove(Y,l),c[k].remove(Y,z),l[k].remove(Y,z)})})};return O(w,"incoming","outgoing"),O(b,"outgoing","incoming"),this.R-=b.count()+w.count(),this.roots[g].remove(c),this.roots[g].remove(l),this.roots[g].add(S),S},h.prototype.rootMerges=function(c){void 0===c&&(c=0);for(var l=this.roots[c].modules(),g=l.length,b=new Array(g*(g-1)),w=0,A=0,S=g-1;A<S;++A)for(var O=A+1;O<g;++O){var s=l[A],M=l[O];b[w]={id:w,nEdges:this.nEdges(s,M),a:s,b:M},w++}return b},h.prototype.greedyMerge=function(){for(var c=0;c<this.roots.length;++c)if(!(this.roots[c].modules().length<2)){var g=this.rootMerges(c).sort(function(b,w){return b.nEdges==w.nEdges?b.id-w.id:b.nEdges-w.nEdges})[0];if(!(g.nEdges>=this.R))return this.merge(g.a,g.b,c),!0}},h.prototype.nEdges=function(c,l){var g=c.incoming.intersection(l.incoming),b=c.outgoing.intersection(l.outgoing);return this.R-g.count()-b.count()},h.prototype.getGroupHierarchy=function(c){var l=this,g=[];return y(this.roots[0],{},g),this.allEdges().forEach(function(A){var S=l.modules[A.source],O=l.modules[A.target];c.push(new r(typeof S.gid>"u"?A.source:g[S.gid],typeof O.gid>"u"?A.target:g[O.gid],A.type))}),g},h.prototype.allEdges=function(){var c=[];return h.getEdges(this.roots[0],c),c},h.getEdges=function(c,l){c.forAll(function(g){g.getEdges(l),h.getEdges(g.children,l)})},h}();function y(h,c,l){h.forAll(function(g){if(g.isLeaf())c.leaves||(c.leaves=[]),c.leaves.push(g.id);else{var b=c;if(g.gid=l.length,!g.isIsland()||g.isPredefined()){if(b={id:g.gid},g.isPredefined())for(var w in g.definition)b[w]=g.definition[w];c.groups||(c.groups=[]),c.groups.push(g.gid),l.push(b)}y(g.children,b,l)}})}E.Configuration=o;var m=function(){function h(c,l,g,b,w){void 0===l&&(l=new d),void 0===g&&(g=new d),void 0===b&&(b=new f),this.id=c,this.outgoing=l,this.incoming=g,this.children=b,this.definition=w}return h.prototype.getEdges=function(c){var l=this;this.outgoing.forAll(function(g,b){g.forAll(function(w){c.push(new r(l.id,w.id,b))})})},h.prototype.isLeaf=function(){return 0===this.children.count()},h.prototype.isIsland=function(){return 0===this.outgoing.count()&&0===this.incoming.count()},h.prototype.isPredefined=function(){return typeof this.definition<"u"},h}();E.Module=m;var f=function(){function h(){this.table={}}return h.prototype.count=function(){return Object.keys(this.table).length},h.prototype.intersection=function(c){var l=new h;return l.table=function v(h,c){var l={};for(var g in h)g in c&&(l[g]=h[g]);return l}(this.table,c.table),l},h.prototype.intersectionCount=function(c){return this.intersection(c).count()},h.prototype.contains=function(c){return c in this.table},h.prototype.add=function(c){this.table[c.id]=c},h.prototype.remove=function(c){delete this.table[c.id]},h.prototype.forAll=function(c){for(var l in this.table)c(this.table[l])},h.prototype.modules=function(){var c=[];return this.forAll(function(l){l.isPredefined()||c.push(l)}),c},h}();E.ModuleSet=f;var d=function(){function h(){this.sets={},this.n=0}return h.prototype.count=function(){return this.n},h.prototype.contains=function(c){var l=!1;return this.forAllModules(function(g){!l&&g.id==c&&(l=!0)}),l},h.prototype.add=function(c,l){(c in this.sets?this.sets[c]:this.sets[c]=new f).add(l),++this.n},h.prototype.remove=function(c,l){var g=this.sets[c];g.remove(l),0===g.count()&&delete this.sets[c],--this.n},h.prototype.forAll=function(c){for(var l in this.sets)c(this.sets[l],Number(l))},h.prototype.forAllModules=function(c){this.forAll(function(l,g){return l.forAll(c)})},h.prototype.intersection=function(c){var l=new h;return this.forAll(function(g,b){if(b in c.sets){var w=g.intersection(c.sets[b]),A=w.count();A>0&&(l.sets[b]=w,l.n+=A)}}),l},h}();E.LinkSets=d,E.getGroups=function a(h,c,l,g){for(var w=new o(h.length,c,l,g);w.greedyMerge(););var A=[],S=w.getGroupHierarchy(A);return A.forEach(function(O){var s=function(M){var k=O[M];"number"==typeof k&&(O[M]=h[k])};s("source"),s("target")}),{groups:S,powerEdges:A}}},8866:(_,E)=>{"use strict";Object.defineProperty(E,"__esModule",{value:!0});var r=function(){function y(m){this.elem=m,this.subheaps=[]}return y.prototype.toString=function(m){for(var v="",f=!1,d=0;d<this.subheaps.length;++d){var u=this.subheaps[d];u.elem?(f&&(v+=","),v+=u.toString(m),f=!0):f=!1}return""!==v&&(v="("+v+")"),(this.elem?m(this.elem):"")+v},y.prototype.forEach=function(m){this.empty()||(m(this.elem,this),this.subheaps.forEach(function(v){return v.forEach(m)}))},y.prototype.count=function(){return this.empty()?0:1+this.subheaps.reduce(function(m,v){return m+v.count()},0)},y.prototype.min=function(){return this.elem},y.prototype.empty=function(){return null==this.elem},y.prototype.contains=function(m){if(this===m)return!0;for(var v=0;v<this.subheaps.length;v++)if(this.subheaps[v].contains(m))return!0;return!1},y.prototype.isHeap=function(m){var v=this;return this.subheaps.every(function(f){return m(v.elem,f.elem)&&f.isHeap(m)})},y.prototype.insert=function(m,v){return this.merge(new y(m),v)},y.prototype.merge=function(m,v){return this.empty()?m:m.empty()?this:v(this.elem,m.elem)?(this.subheaps.push(m),this):(m.subheaps.push(this),m)},y.prototype.removeMin=function(m){return this.empty()?null:this.mergePairs(m)},y.prototype.mergePairs=function(m){if(0==this.subheaps.length)return new y(null);if(1==this.subheaps.length)return this.subheaps[0];var v=this.subheaps.pop().merge(this.subheaps.pop(),m),f=this.mergePairs(m);return v.merge(f,m)},y.prototype.decreaseKey=function(m,v,f,d){var u=m.removeMin(d);m.elem=u.elem,m.subheaps=u.subheaps,null!==f&&null!==u.elem&&f(m.elem,m);var a=new y(v);return null!==f&&f(v,a),this.merge(a,d)},y}();E.PairingHeap=r;var o=function(){function y(m){this.lessThan=m}return y.prototype.top=function(){return this.empty()?null:this.root.elem},y.prototype.push=function(){for(var m=[],v=0;v<arguments.length;v++)m[v]=arguments[v];for(var f,u,d=0;u=m[d];++d)f=new r(u),this.root=this.empty()?f:this.root.merge(f,this.lessThan);return f},y.prototype.empty=function(){return!this.root||!this.root.elem},y.prototype.isHeap=function(){return this.root.isHeap(this.lessThan)},y.prototype.forEach=function(m){this.root.forEach(m)},y.prototype.pop=function(){if(this.empty())return null;var m=this.root.min();return this.root=this.root.removeMin(this.lessThan),m},y.prototype.reduceKey=function(m,v,f){void 0===f&&(f=null),this.root=this.root.decreaseKey(m,v,f,this.lessThan)},y.prototype.toString=function(m){return this.root.toString(m)},y.prototype.count=function(){return this.root.count()},y}();E.PriorityQueue=o},4655:function(_,E){"use strict";var f,r=this&&this.__extends||(f=function(d,u){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,h){a.__proto__=h}||function(a,h){for(var c in h)h.hasOwnProperty(c)&&(a[c]=h[c])})(d,u)},function(d,u){function a(){this.constructor=d}f(d,u),d.prototype=null===u?Object.create(u):(a.prototype=u.prototype,new a)});Object.defineProperty(E,"__esModule",{value:!0});var o=function(){function f(){this.findIter=function(d){for(var u=this._root,a=this.iterator();null!==u;){var h=this._comparator(d,u.data);if(0===h)return a._cursor=u,a;a._ancestors.push(u),u=u.get_child(h>0)}return null}}return f.prototype.clear=function(){this._root=null,this.size=0},f.prototype.find=function(d){for(var u=this._root;null!==u;){var a=this._comparator(d,u.data);if(0===a)return u.data;u=u.get_child(a>0)}return null},f.prototype.lowerBound=function(d){return this._bound(d,this._comparator)},f.prototype.upperBound=function(d){var u=this._comparator;return this._bound(d,function a(h,c){return u(c,h)})},f.prototype.min=function(){var d=this._root;if(null===d)return null;for(;null!==d.left;)d=d.left;return d.data},f.prototype.max=function(){var d=this._root;if(null===d)return null;for(;null!==d.right;)d=d.right;return d.data},f.prototype.iterator=function(){return new y(this)},f.prototype.each=function(d){for(var a,u=this.iterator();null!==(a=u.next());)d(a)},f.prototype.reach=function(d){for(var a,u=this.iterator();null!==(a=u.prev());)d(a)},f.prototype._bound=function(d,u){for(var a=this._root,h=this.iterator();null!==a;){var c=this._comparator(d,a.data);if(0===c)return h._cursor=a,h;h._ancestors.push(a),a=a.get_child(c>0)}for(var l=h._ancestors.length-1;l>=0;--l)if(u(d,(a=h._ancestors[l]).data)>0)return h._cursor=a,h._ancestors.length=l,h;return h._ancestors.length=0,h},f}();E.TreeBase=o;var y=function(){function f(d){this._tree=d,this._ancestors=[],this._cursor=null}return f.prototype.data=function(){return null!==this._cursor?this._cursor.data:null},f.prototype.next=function(){if(null===this._cursor){var d=this._tree._root;null!==d&&this._minNode(d)}else if(null===this._cursor.right){var u;do{if(u=this._cursor,!this._ancestors.length){this._cursor=null;break}this._cursor=this._ancestors.pop()}while(this._cursor.right===u)}else this._ancestors.push(this._cursor),this._minNode(this._cursor.right);return null!==this._cursor?this._cursor.data:null},f.prototype.prev=function(){if(null===this._cursor){var d=this._tree._root;null!==d&&this._maxNode(d)}else if(null===this._cursor.left){var u;do{if(u=this._cursor,!this._ancestors.length){this._cursor=null;break}this._cursor=this._ancestors.pop()}while(this._cursor.left===u)}else this._ancestors.push(this._cursor),this._maxNode(this._cursor.left);return null!==this._cursor?this._cursor.data:null},f.prototype._minNode=function(d){for(;null!==d.left;)this._ancestors.push(d),d=d.left;this._cursor=d},f.prototype._maxNode=function(d){for(;null!==d.right;)this._ancestors.push(d),d=d.right;this._cursor=d},f}();E.Iterator=y;var m=function(){function f(d){this.data=d,this.left=null,this.right=null,this.red=!0}return f.prototype.get_child=function(d){return d?this.right:this.left},f.prototype.set_child=function(d,u){d?this.right=u:this.left=u},f}(),v=function(f){function d(u){var a=f.call(this)||this;return a._root=null,a._comparator=u,a.size=0,a}return r(d,f),d.prototype.insert=function(u){var a=!1;if(null===this._root)this._root=new m(u),a=!0,this.size++;else{var h=new m(void 0),c=!1,l=!1,g=null,b=h,w=null,A=this._root;for(b.right=this._root;;){if(null===A?(A=new m(u),w.set_child(c,A),a=!0,this.size++):d.is_red(A.left)&&d.is_red(A.right)&&(A.red=!0,A.left.red=!1,A.right.red=!1),d.is_red(A)&&d.is_red(w)){var S=b.right===g;A===w.get_child(l)?b.set_child(S,d.single_rotate(g,!l)):b.set_child(S,d.double_rotate(g,!l))}var O=this._comparator(A.data,u);if(0===O)break;l=c,null!==g&&(b=g),g=w,w=A,A=A.get_child(c=O<0)}this._root=h.right}return this._root.red=!1,a},d.prototype.remove=function(u){if(null===this._root)return!1;var a=new m(void 0),h=a;h.right=this._root;for(var c=null,l=null,g=null,b=!0;null!==h.get_child(b);){var w=b;l=c,c=h,h=h.get_child(b);var A=this._comparator(u,h.data);if(b=A>0,0===A&&(g=h),!d.is_red(h)&&!d.is_red(h.get_child(b)))if(d.is_red(h.get_child(!b))){var S=d.single_rotate(h,b);c.set_child(w,S),c=S}else if(!d.is_red(h.get_child(!b))){var O=c.get_child(!w);if(null!==O)if(d.is_red(O.get_child(!w))||d.is_red(O.get_child(w))){var s=l.right===c;d.is_red(O.get_child(w))?l.set_child(s,d.double_rotate(c,w)):d.is_red(O.get_child(!w))&&l.set_child(s,d.single_rotate(c,w));var M=l.get_child(s);M.red=!0,h.red=!0,M.left.red=!1,M.right.red=!1}else c.red=!1,O.red=!0,h.red=!0}}return null!==g&&(g.data=h.data,c.set_child(c.right===h,h.get_child(null===h.left)),this.size--),this._root=a.right,null!==this._root&&(this._root.red=!1),null!==g},d.is_red=function(u){return null!==u&&u.red},d.single_rotate=function(u,a){var h=u.get_child(!a);return u.set_child(!a,h.get_child(a)),h.set_child(a,u),u.red=!0,h.red=!1,h},d.double_rotate=function(u,a){return u.set_child(!a,d.single_rotate(u.get_child(!a),!a)),d.single_rotate(u,a)},d}(o);E.RBTree=v},4068:function(_,E,r){"use strict";var N,o=this&&this.__extends||(N=function(L,D){return(N=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(P,G){P.__proto__=G}||function(P,G){for(var U in G)G.hasOwnProperty(U)&&(P[U]=G[U])})(L,D)},function(L,D){function P(){this.constructor=L}N(L,D),L.prototype=null===D?Object.create(D):(P.prototype=D.prototype,new P)});Object.defineProperty(E,"__esModule",{value:!0});var y=r(8237),m=r(4655);function v(N){return N.bounds=typeof N.leaves<"u"?N.leaves.reduce(function(L,D){return D.bounds.union(L)},f.empty()):f.empty(),typeof N.groups<"u"&&(N.bounds=N.groups.reduce(function(L,D){return v(D).union(L)},N.bounds)),N.bounds=N.bounds.inflate(N.padding),N.bounds}E.computeGroupBounds=v;var f=function(){function N(L,D,P,G){this.x=L,this.X=D,this.y=P,this.Y=G}return N.empty=function(){return new N(Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY)},N.prototype.cx=function(){return(this.x+this.X)/2},N.prototype.cy=function(){return(this.y+this.Y)/2},N.prototype.overlapX=function(L){var D=this.cx(),P=L.cx();return D<=P&&L.x<this.X?this.X-L.x:P<=D&&this.x<L.X?L.X-this.x:0},N.prototype.overlapY=function(L){var D=this.cy(),P=L.cy();return D<=P&&L.y<this.Y?this.Y-L.y:P<=D&&this.y<L.Y?L.Y-this.y:0},N.prototype.setXCentre=function(L){var D=L-this.cx();this.x+=D,this.X+=D},N.prototype.setYCentre=function(L){var D=L-this.cy();this.y+=D,this.Y+=D},N.prototype.width=function(){return this.X-this.x},N.prototype.height=function(){return this.Y-this.y},N.prototype.union=function(L){return new N(Math.min(this.x,L.x),Math.max(this.X,L.X),Math.min(this.y,L.y),Math.max(this.Y,L.Y))},N.prototype.lineIntersections=function(L,D,P,G){for(var U=[[this.x,this.y,this.X,this.y],[this.X,this.y,this.X,this.Y],[this.X,this.Y,this.x,this.Y],[this.x,this.Y,this.x,this.y]],Q=[],R=0;R<4;++R){var B=N.lineIntersection(L,D,P,G,U[R][0],U[R][1],U[R][2],U[R][3]);null!==B&&Q.push({x:B.x,y:B.y})}return Q},N.prototype.rayIntersection=function(L,D){var P=this.lineIntersections(this.cx(),this.cy(),L,D);return P.length>0?P[0]:null},N.prototype.vertices=function(){return[{x:this.x,y:this.y},{x:this.X,y:this.y},{x:this.X,y:this.Y},{x:this.x,y:this.Y}]},N.lineIntersection=function(L,D,P,G,U,Q,R,B){var X=P-L,J=R-U,rt=G-D,et=B-Q,st=et*X-J*rt;if(0==st)return null;var ut=L-U,pt=D-Q,K=(J*pt-et*ut)/st,at=(X*pt-rt*ut)/st;return K>=0&&K<=1&&at>=0&&at<=1?{x:L+K*X,y:D+K*rt}:null},N.prototype.inflate=function(L){return new N(this.x-L,this.X+L,this.y-L,this.Y+L)},N}();E.Rectangle=f,E.makeEdgeBetween=function d(N,L,D){var P=N.rayIntersection(L.cx(),L.cy())||{x:N.cx(),y:N.cy()},G=L.rayIntersection(N.cx(),N.cy())||{x:L.cx(),y:L.cy()},U=G.x-P.x,Q=G.y-P.y,R=Math.sqrt(U*U+Q*Q),B=R-D;return{sourceIntersection:P,targetIntersection:G,arrowStart:{x:P.x+B*U/R,y:P.y+B*Q/R}}},E.makeEdgeTo=function u(N,L,D){var P=L.rayIntersection(N.x,N.y);P||(P={x:L.cx(),y:L.cy()});var G=P.x-N.x,U=P.y-N.y,Q=Math.sqrt(G*G+U*U);return{x:P.x-D*G/Q,y:P.y-D*U/Q}};var a=function N(L,D,P){this.v=L,this.r=D,this.pos=P,this.prev=l(),this.next=l()},h=function N(L,D,P){this.isOpen=L,this.v=D,this.pos=P};function c(N,L){return N.pos>L.pos?1:N.pos<L.pos||N.isOpen?-1:L.isOpen?1:0}function l(){return new m.RBTree(function(N,L){return N.pos-L.pos})}var g={getCentre:function(N){return N.cx()},getOpen:function(N){return N.y},getClose:function(N){return N.Y},getSize:function(N){return N.width()},makeRect:function(N,L,D,P){return new f(D-P/2,D+P/2,N,L)},findNeighbours:function S(N,L){var D=function(P,G){for(var Q,U=L.findIter(N);null!==(Q=U[P]());){var R=Q.r.overlapX(N.r);if((R<=0||R<=Q.r.overlapY(N.r))&&(N[P].insert(Q),Q[G].insert(N)),R<=0)break}};D("next","prev"),D("prev","next")}},b={getCentre:function(N){return N.cy()},getOpen:function(N){return N.x},getClose:function(N){return N.X},getSize:function(N){return N.height()},makeRect:function(N,L,D,P){return new f(N,L,D-P/2,D+P/2)},findNeighbours:function O(N,L){var D=function(P,G){var U=L.findIter(N)[P]();null!==U&&U.r.overlapX(N.r)>0&&(N[P].insert(U),U[G].insert(N))};D("next","prev"),D("prev","next")}};function w(N,L,D,P){void 0===P&&(P=!1);var G=N.padding,U=typeof N.groups<"u"?N.groups.length:0,Q=typeof N.leaves<"u"?N.leaves.length:0,R=U?N.groups.reduce(function(ct,gt){return ct.concat(w(gt,L,D,!0))},[]):[],B=(P?2:0)+Q+U,X=new Array(B),J=new Array(B),rt=0,et=function(ct,gt){J[rt]=ct,X[rt++]=gt};if(P){var st=N.bounds,ut=L.getCentre(st),pt=L.getSize(st)/2,W=L.getOpen(st),K=L.getClose(st),it=ut-pt+G/2,at=ut+pt-G/2;N.minVar.desiredPosition=it,et(L.makeRect(W,K,it,G),N.minVar),N.maxVar.desiredPosition=at,et(L.makeRect(W,K,at,G),N.maxVar)}Q&&N.leaves.forEach(function(ct){return et(ct.bounds,ct.variable)}),U&&N.groups.forEach(function(ct){var gt=ct.bounds;et(L.makeRect(L.getOpen(gt),L.getClose(gt),L.getCentre(gt),L.getSize(gt)),ct.minVar)});var ft=A(J,X,L,D);return U&&(X.forEach(function(ct){ct.cOut=[],ct.cIn=[]}),ft.forEach(function(ct){ct.left.cOut.push(ct),ct.right.cIn.push(ct)}),N.groups.forEach(function(ct){var gt=(ct.padding-L.getSize(ct.bounds))/2;ct.minVar.cIn.forEach(function(yt){return yt.gap+=gt}),ct.minVar.cOut.forEach(function(yt){yt.left=ct.maxVar,yt.gap+=gt})})),R.concat(ft)}function A(N,L,D,P){var G,U=N.length,Q=2*U;console.assert(L.length>=U);var R=new Array(Q);for(G=0;G<U;++G){var B=N[G],X=new a(L[G],B,D.getCentre(B));R[G]=new h(!0,X,D.getOpen(B)),R[G+U]=new h(!1,X,D.getClose(B))}R.sort(c);var J=new Array,rt=l();for(G=0;G<Q;++G){var et=R[G];if(X=et.v,et.isOpen)rt.insert(X),D.findNeighbours(X,rt);else{rt.remove(X);var st=function(W,K){var it=(D.getSize(W.r)+D.getSize(K.r))/2+P;J.push(new y.Constraint(W.v,K.v,it))},ut=function(W,K,it){for(var at,ft=X[W].iterator();null!==(at=ft[W]());)it(at,X),at[K].remove(X)};ut("prev","next",function(W,K){return st(W,K)}),ut("next","prev",function(W,K){return st(K,W)})}}return console.assert(0===rt.size),J}function s(N,L){return A(N,L,g,1e-6)}function M(N,L){return A(N,L,b,1e-6)}function k(N){return w(N,g,1e-6)}function H(N){return w(N,b,1e-6)}E.generateXConstraints=s,E.generateYConstraints=M,E.generateXGroupConstraints=k,E.generateYGroupConstraints=H,E.removeOverlaps=function Y(N){var L=N.map(function(G){return new y.Variable(G.cx())}),D=s(N,L),P=new y.Solver(L,D);P.solve(),L.forEach(function(G,U){return N[U].setXCentre(G.position())}),L=N.map(function(G){return new y.Variable(G.cy())}),D=M(N,L),(P=new y.Solver(L,D)).solve(),L.forEach(function(G,U){return N[U].setYCentre(G.position())})};var z=function(N){function L(D,P){var G=N.call(this,0,P)||this;return G.index=D,G}return o(L,N),L}(y.Variable);E.IndexedVariable=z;var $=function(){function N(L,D,P,G,U){var Q=this;if(void 0===P&&(P=null),void 0===G&&(G=null),void 0===U&&(U=!1),this.nodes=L,this.groups=D,this.rootGroup=P,this.avoidOverlaps=U,this.variables=L.map(function(B,X){return B.variable=new z(X,1)}),G&&this.createConstraints(G),U&&P&&typeof P.groups<"u"){L.forEach(function(B){if(B.width&&B.height){var X=B.width/2,J=B.height/2;B.bounds=new f(B.x-X,B.x+X,B.y-J,B.y+J)}else B.bounds=new f(B.x,B.x,B.y,B.y)}),v(P);var R=L.length;D.forEach(function(B){Q.variables[R]=B.minVar=new z(R++,typeof B.stiffness<"u"?B.stiffness:.01),Q.variables[R]=B.maxVar=new z(R++,typeof B.stiffness<"u"?B.stiffness:.01)})}}return N.prototype.createSeparation=function(L){return new y.Constraint(this.nodes[L.left].variable,this.nodes[L.right].variable,L.gap,typeof L.equality<"u"&&L.equality)},N.prototype.makeFeasible=function(L){var D=this;if(this.avoidOverlaps){var P="x",G="width";"x"===L.axis&&(P="y",G="height");var U=L.offsets.map(function(R){return D.nodes[R.node]}).sort(function(R,B){return R[P]-B[P]}),Q=null;U.forEach(function(R){if(Q){var B=Q[P]+Q[G];B>R[P]&&(R[P]=B)}Q=R})}},N.prototype.createAlignment=function(L){var D=this,P=this.nodes[L.offsets[0].node].variable;this.makeFeasible(L);var G="x"===L.axis?this.xConstraints:this.yConstraints;L.offsets.slice(1).forEach(function(U){G.push(new y.Constraint(P,D.nodes[U.node].variable,U.offset,!0))})},N.prototype.createConstraints=function(L){var D=this,P=function(G){return typeof G.type>"u"||"separation"===G.type};this.xConstraints=L.filter(function(G){return"x"===G.axis&&P(G)}).map(function(G){return D.createSeparation(G)}),this.yConstraints=L.filter(function(G){return"y"===G.axis&&P(G)}).map(function(G){return D.createSeparation(G)}),L.filter(function(G){return"alignment"===G.type}).forEach(function(G){return D.createAlignment(G)})},N.prototype.setupVariablesAndBounds=function(L,D,P,G){this.nodes.forEach(function(U,Q){U.fixed?(U.variable.weight=U.fixedWeight?U.fixedWeight:1e3,P[Q]=G(U)):U.variable.weight=1;var R=(U.width||0)/2,B=(U.height||0)/2,X=L[Q],J=D[Q];U.bounds=new f(X-R,X+R,J-B,J+B)})},N.prototype.xProject=function(L,D,P){!this.rootGroup&&!this.avoidOverlaps&&!this.xConstraints||this.project(L,D,L,P,function(G){return G.px},this.xConstraints,k,function(G){return G.bounds.setXCentre(P[G.variable.index]=G.variable.position())},function(G){var U=P[G.minVar.index]=G.minVar.position(),Q=P[G.maxVar.index]=G.maxVar.position(),R=G.padding/2;G.bounds.x=U-R,G.bounds.X=Q+R})},N.prototype.yProject=function(L,D,P){!this.rootGroup&&!this.yConstraints||this.project(L,D,D,P,function(G){return G.py},this.yConstraints,H,function(G){return G.bounds.setYCentre(P[G.variable.index]=G.variable.position())},function(G){var U=P[G.minVar.index]=G.minVar.position(),Q=P[G.maxVar.index]=G.maxVar.position(),R=G.padding/2;G.bounds.y=U-R,G.bounds.Y=Q+R})},N.prototype.projectFunctions=function(){var L=this;return[function(D,P,G){return L.xProject(D,P,G)},function(D,P,G){return L.yProject(D,P,G)}]},N.prototype.project=function(L,D,P,G,U,Q,R,B,X){this.setupVariablesAndBounds(L,D,G,U),this.rootGroup&&this.avoidOverlaps&&(v(this.rootGroup),Q=Q.concat(R(this.rootGroup))),this.solve(this.variables,Q,P,G),this.nodes.forEach(B),this.rootGroup&&this.avoidOverlaps&&(this.groups.forEach(X),v(this.rootGroup))},N.prototype.solve=function(L,D,P,G){var U=new y.Solver(L,D);U.setStartingPositions(P),U.setDesiredPositions(G),U.solve()},N}();E.Projection=$},3858:(_,E,r)=>{"use strict";Object.defineProperty(E,"__esModule",{value:!0});var o=r(8866),y=function d(u,a){this.id=u,this.distance=a},m=function d(u){this.id=u,this.neighbours=[]},v=function d(u,a,h){this.node=u,this.prev=a,this.d=h},f=function(){function d(u,a,h,c,l){this.n=u,this.es=a,this.neighbours=new Array(this.n);for(var g=this.n;g--;)this.neighbours[g]=new m(g);for(g=this.es.length;g--;){var b=this.es[g],w=h(b),A=c(b),S=l(b);this.neighbours[w].neighbours.push(new y(A,S)),this.neighbours[A].neighbours.push(new y(w,S))}}return d.prototype.DistanceMatrix=function(){for(var u=new Array(this.n),a=0;a<this.n;++a)u[a]=this.dijkstraNeighbours(a);return u},d.prototype.DistancesFromNode=function(u){return this.dijkstraNeighbours(u)},d.prototype.PathFromNodeToNode=function(u,a){return this.dijkstraNeighbours(u,a)},d.prototype.PathFromNodeToNodeWithPrevCost=function(u,a,h){var c=new o.PriorityQueue(function(H,Y){return H.d<=Y.d}),l=this.neighbours[u],g=new v(l,null,0),b={};for(c.push(g);!c.empty()&&(l=(g=c.pop()).node).id!==a;)for(var w=l.neighbours.length;w--;){var A=l.neighbours[w],S=this.neighbours[A.id];if(!g.prev||S.id!==g.prev.node.id){var O=S.id+","+l.id;if(!(O in b&&b[O]<=g.d)){var s=g.prev?h(g.prev.node.id,l.id,S.id):0,M=g.d+A.distance+s;b[O]=M,c.push(new v(S,g,M))}}}for(var k=[];g.prev;)k.push((g=g.prev).node.id);return k},d.prototype.dijkstraNeighbours=function(u,a){void 0===a&&(a=-1);for(var h=new o.PriorityQueue(function(s,M){return s.d<=M.d}),c=this.neighbours.length,l=new Array(c);c--;){var g=this.neighbours[c];g.d=c===u?0:Number.POSITIVE_INFINITY,g.q=h.push(g)}for(;!h.empty();){var b=h.pop();if(l[b.id]=b.d,b.id===a){for(var w=[],A=b;typeof A.prev<"u";)w.push(A.prev.id),A=A.prev;return w}for(c=b.neighbours.length;c--;){var S=b.neighbours[c],O=(A=this.neighbours[S.id],b.d+S.distance);b.d!==Number.MAX_VALUE&&A.d>O&&(A.d=O,A.prev=b,h.reduceKey(A.q,A,function(M,k){return M.q=k}))}}return l},d}();E.Calculator=f},8237:(_,E)=>{"use strict";Object.defineProperty(E,"__esModule",{value:!0});var r=function(){function u(a){this.scale=a,this.AB=0,this.AD=0,this.A2=0}return u.prototype.addVariable=function(a){var h=this.scale/a.scale,l=a.weight;this.AB+=l*h*(a.offset/a.scale),this.AD+=l*h*a.desiredPosition,this.A2+=l*h*h},u.prototype.getPosn=function(){return(this.AD-this.AB)/this.A2},u}();E.PositionStats=r;var o=function(){function u(a,h,c,l){void 0===l&&(l=!1),this.left=a,this.right=h,this.gap=c,this.equality=l,this.active=!1,this.unsatisfiable=!1,this.left=a,this.right=h,this.gap=c,this.equality=l}return u.prototype.slack=function(){return this.unsatisfiable?Number.MAX_VALUE:this.right.scale*this.right.position()-this.gap-this.left.scale*this.left.position()},u}();E.Constraint=o;var y=function(){function u(a,h,c){void 0===h&&(h=1),void 0===c&&(c=1),this.desiredPosition=a,this.weight=h,this.scale=c,this.offset=0}return u.prototype.dfdv=function(){return 2*this.weight*(this.position()-this.desiredPosition)},u.prototype.position=function(){return(this.block.ps.scale*this.block.posn+this.offset)/this.scale},u.prototype.visitNeighbours=function(a,h){var c=function(l,g){return l.active&&a!==g&&h(l,g)};this.cOut.forEach(function(l){return c(l,l.right)}),this.cIn.forEach(function(l){return c(l,l.left)})},u}();E.Variable=y;var m=function(){function u(a){this.vars=[],a.offset=0,this.ps=new r(a.scale),this.addVariable(a)}return u.prototype.addVariable=function(a){a.block=this,this.vars.push(a),this.ps.addVariable(a),this.posn=this.ps.getPosn()},u.prototype.updateWeightedPosition=function(){this.ps.AB=this.ps.AD=this.ps.A2=0;for(var a=0,h=this.vars.length;a<h;++a)this.ps.addVariable(this.vars[a]);this.posn=this.ps.getPosn()},u.prototype.compute_lm=function(a,h,c){var l=this,g=a.dfdv();return a.visitNeighbours(h,function(b,w){var A=l.compute_lm(w,a,c);w===b.right?(g+=A*b.left.scale,b.lm=A):(g+=A*b.right.scale,b.lm=-A),c(b)}),g/a.scale},u.prototype.populateSplitBlock=function(a,h){var c=this;a.visitNeighbours(h,function(l,g){g.offset=a.offset+(g===l.right?l.gap:-l.gap),c.addVariable(g),c.populateSplitBlock(g,a)})},u.prototype.traverse=function(a,h,c,l){var g=this;void 0===c&&(c=this.vars[0]),void 0===l&&(l=null),c.visitNeighbours(l,function(b,w){h.push(a(b)),g.traverse(a,h,w,c)})},u.prototype.findMinLM=function(){var a=null;return this.compute_lm(this.vars[0],null,function(h){!h.equality&&(null===a||h.lm<a.lm)&&(a=h)}),a},u.prototype.findMinLMBetween=function(a,h){this.compute_lm(a,null,function(){});var c=null;return this.findPath(a,null,h,function(l,g){!l.equality&&l.right===g&&(null===c||l.lm<c.lm)&&(c=l)}),c},u.prototype.findPath=function(a,h,c,l){var g=this,b=!1;return a.visitNeighbours(h,function(w,A){!b&&(A===c||g.findPath(A,a,c,l))&&(b=!0,l(w,A))}),b},u.prototype.isActiveDirectedPathBetween=function(a,h){if(a===h)return!0;for(var c=a.cOut.length;c--;){var l=a.cOut[c];if(l.active&&this.isActiveDirectedPathBetween(l.right,h))return!0}return!1},u.split=function(a){return a.active=!1,[u.createSplitBlock(a.left),u.createSplitBlock(a.right)]},u.createSplitBlock=function(a){var h=new u(a);return h.populateSplitBlock(a,null),h},u.prototype.splitBetween=function(a,h){var c=this.findMinLMBetween(a,h);if(null!==c){var l=u.split(c);return{constraint:c,lb:l[0],rb:l[1]}}return null},u.prototype.mergeAcross=function(a,h,c){h.active=!0;for(var l=0,g=a.vars.length;l<g;++l){var b=a.vars[l];b.offset+=c,this.addVariable(b)}this.posn=this.ps.getPosn()},u.prototype.cost=function(){for(var a=0,h=this.vars.length;h--;){var c=this.vars[h],l=c.position()-c.desiredPosition;a+=l*l*c.weight}return a},u}();E.Block=m;var v=function(){function u(a){this.vs=a;var h=a.length;for(this.list=new Array(h);h--;){var c=new m(a[h]);this.list[h]=c,c.blockInd=h}}return u.prototype.cost=function(){for(var a=0,h=this.list.length;h--;)a+=this.list[h].cost();return a},u.prototype.insert=function(a){a.blockInd=this.list.length,this.list.push(a)},u.prototype.remove=function(a){var h=this.list.length-1,c=this.list[h];this.list.length=h,a!==c&&(this.list[a.blockInd]=c,c.blockInd=a.blockInd)},u.prototype.merge=function(a){var h=a.left.block,c=a.right.block,l=a.right.offset-a.left.offset-a.gap;h.vars.length<c.vars.length?(c.mergeAcross(h,a,l),this.remove(h)):(h.mergeAcross(c,a,-l),this.remove(c))},u.prototype.forEach=function(a){this.list.forEach(a)},u.prototype.updateBlockPositions=function(){this.list.forEach(function(a){return a.updateWeightedPosition()})},u.prototype.split=function(a){var h=this;this.updateBlockPositions(),this.list.forEach(function(c){var l=c.findMinLM();null!==l&&l.lm<f.LAGRANGIAN_TOLERANCE&&(c=l.left.block,m.split(l).forEach(function(g){return h.insert(g)}),h.remove(c),a.push(l))})},u}();E.Blocks=v;var f=function(){function u(a,h){this.vs=a,this.cs=h,this.vs=a,a.forEach(function(c){c.cIn=[],c.cOut=[]}),this.cs=h,h.forEach(function(c){c.left.cOut.push(c),c.right.cIn.push(c)}),this.inactive=h.map(function(c){return c.active=!1,c}),this.bs=null}return u.prototype.cost=function(){return this.bs.cost()},u.prototype.setStartingPositions=function(a){this.inactive=this.cs.map(function(h){return h.active=!1,h}),this.bs=new v(this.vs),this.bs.forEach(function(h,c){return h.posn=a[c]})},u.prototype.setDesiredPositions=function(a){this.vs.forEach(function(h,c){return h.desiredPosition=a[c]})},u.prototype.mostViolated=function(){for(var a=Number.MAX_VALUE,h=null,c=this.inactive,l=c.length,g=l,b=0;b<l;++b){var w=c[b];if(!w.unsatisfiable){var A=w.slack();if((w.equality||A<a)&&(a=A,h=w,g=b,w.equality))break}}return g!==l&&(a<u.ZERO_UPPERBOUND&&!h.active||h.equality)&&(c[g]=c[l-1],c.length=l-1),h},u.prototype.satisfy=function(){null==this.bs&&(this.bs=new v(this.vs)),this.bs.split(this.inactive);for(var a=null;(a=this.mostViolated())&&(a.equality||a.slack()<u.ZERO_UPPERBOUND&&!a.active);){var h=a.left.block;if(h!==a.right.block)this.bs.merge(a);else{if(h.isActiveDirectedPathBetween(a.right,a.left)){a.unsatisfiable=!0;continue}var l=h.splitBetween(a.left,a.right);if(null===l){a.unsatisfiable=!0;continue}this.bs.insert(l.lb),this.bs.insert(l.rb),this.bs.remove(h),this.inactive.push(l.constraint),a.slack()>=0?this.inactive.push(a):this.bs.merge(a)}}},u.prototype.solve=function(){this.satisfy();for(var a=Number.MAX_VALUE,h=this.bs.cost();Math.abs(a-h)>1e-4;)this.satisfy(),a=h,h=this.bs.cost();return h},u.LAGRANGIAN_TOLERANCE=-1e-4,u.ZERO_UPPERBOUND=-1e-10,u}();E.Solver=f,E.removeOverlapInOneDimension=function d(u,a,h){for(var c=u.map(function(z){return new y(z.desiredCenter)}),l=[],g=u.length,b=0;b<g-1;b++)l.push(new o(c[b],c[b+1],(u[b].size+u[b+1].size)/2));var S=c[0],O=c[g-1],s=u[0].size/2,M=u[g-1].size/2,k=null,H=null;return a&&(k=new y(a,1e3*S.weight),c.push(k),l.push(new o(k,S,s))),h&&(H=new y(h,1e3*O.weight),c.push(H),l.push(new o(O,H,M))),new f(c,l).solve(),{newCenters:c.slice(0,u.length).map(function(z){return z.position()}),lowerBound:k?k.position():S.position()-s,upperBound:H?H.position():O.position()+M}}}}]);