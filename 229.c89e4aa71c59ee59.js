(self.webpackChunkloversoftapp=self.webpackChunkloversoftapp||[]).push([[229],{9229:(_,E,r)=>{"use strict";r.r(E),r.d(E,{FamilyModule:()=>Ul,routes:()=>cr});var o={};r.r(o),r.d(o,{forceCenter:()=>ea,forceCollide:()=>Yi,forceLink:()=>ji,forceManyBody:()=>Xi,forceRadial:()=>Oa,forceSimulation:()=>Wi,forceX:()=>Ia,forceY:()=>Ma});var y={};r.r(y),r.d(y,{dispatch:()=>fn});var m={};r.r(m),r.d(m,{interval:()=>La,now:()=>he,timeout:()=>pn,timer:()=>je,timerFlush:()=>ti});var v=r(6895);function d(e,n,t,i,h,x,T){try{var C=e[x](T),I=C.value}catch(P){return void t(P)}C.done?n(I):Promise.resolve(I).then(i,h)}function p(e){return function(){var n=this,t=arguments;return new Promise(function(i,h){var x=e.apply(n,t);function T(I){d(x,i,h,T,C,"next",I)}function C(I){d(x,i,h,T,C,"throw",I)}T(void 0)})}}var u=r(6805);function a(e,n){const t="object"==typeof n;return new Promise((i,h)=>{let T,x=!1;e.subscribe({next:C=>{T=C,x=!0},error:h,complete:()=>{x?i(T):t?i(n.defaultValue):h(new u.K)}})})}class c{constructor(n={}){this.pan={x:0,y:0},this.nodes=n.nodes||[],this.links=n.links||[],this.zoom=n.zoom||1}}function f(e){this._context=e}function l(e){var n,i,t=e.length-1,h=new Array(t),x=new Array(t),T=new Array(t);for(h[0]=0,x[0]=2,T[0]=e[0]+2*e[1],n=1;n<t-1;++n)h[n]=1,x[n]=4,T[n]=4*e[n]+2*e[n+1];for(h[t-1]=2,x[t-1]=7,T[t-1]=8*e[t-1]+e[t],n=1;n<t;++n)x[n]-=i=h[n]/x[n-1],T[n]-=i*T[n-1];for(h[t-1]=T[t-1]/x[t-1],n=t-2;n>=0;--n)h[n]=(T[n]-h[n+1])/x[n];for(x[t-1]=(e[t]+h[t-1])/2,n=0;n<t-1;++n)x[n]=2*e[n+1]-h[n+1];return[h,x]}function g(e){return new f(e)}f.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,n=this._y,t=e.length;if(t)if(this._line?this._context.lineTo(e[0],n[0]):this._context.moveTo(e[0],n[0]),2===t)this._context.lineTo(e[1],n[1]);else for(var i=l(e),h=l(n),x=0,T=1;T<t;++x,++T)this._context.bezierCurveTo(i[0][x],h[0][x],i[1][x],h[1][x],e[T],n[T]);(this._line||0!==this._line&&1===t)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,n){this._x.push(+e),this._y.push(+n)}};var b=r(4023),w=r(5412),A=r(2324),S=r(9695),O=(()=>{return(e=O||(O={})).LEFT_TO_RIGHT="LR",e.RIGHT_TO_LEFT="RL",e.TOP_TO_BOTTOM="TB",e.BOTTOM_TO_TOM="BT",O;var e})();class V{constructor(){this.defaultSettings={orientation:O.TOP_TO_BOTTOM,marginX:20,marginY:20,edgePadding:100,rankPadding:200,nodePadding:150,curveDistance:100,multigraph:!0,compound:!0},this.settings={}}run(n){this.createDagreGraph(n),S.layout(this.dagreGraph),n.edgeLabels=this.dagreGraph._edgeLabels;for(const t in this.dagreGraph._nodes){const i=this.dagreGraph._nodes[t],h=n.nodes.find(x=>x.id===i.id);h.position={x:i.x,y:i.y},h.dimension={width:i.width,height:i.height}}for(const t of n.edges)this.updateEdge(n,t);return n}updateEdge(n,t){const i=n.nodes.find(nt=>nt.id===t.source),h=n.nodes.find(nt=>nt.id===t.target),x="BT"===this.settings.orientation||"TB"===this.settings.orientation?"y":"x",T="y"===x?"x":"y",C="y"===x?"height":"width",I=i.position[x]<=h.position[x]?-1:1;t.points=[{[T]:i.position[T],[x]:i.position[x]-I*(i.dimension[C]/2)},{[T]:h.position[T],[x]:h.position[x]+I*(h.dimension[C]/2)}];const q=n.edgeLabels[`${t.source}\x01${t.target}\x01\0`];return q&&(q.points=t.points),n}createDagreGraph(n){const t=Object.assign({},this.defaultSettings,this.settings);this.dagreGraph=new S.graphlib.Graph({compound:t.compound,multigraph:t.multigraph}),this.dagreGraph.setGraph({rankdir:t.orientation,marginx:t.marginX,marginy:t.marginY,edgesep:t.edgePadding,ranksep:t.rankPadding,nodesep:t.nodePadding,align:t.align,acyclicer:t.acyclicer,ranker:t.ranker,multigraph:t.multigraph,compound:t.compound}),this.dagreGraph.setDefaultEdgeLabel(()=>({})),this.dagreNodes=n.nodes.map(i=>{const h=Object.assign({},i);return h.width=i.dimension.width,h.height=i.dimension.height,h.x=i.position.x,h.y=i.position.y,h}),this.dagreEdges=n.edges.map(i=>{let h=1;const x=Object.assign({},i);return x.id||(x.id="a"+h.toString(),h++),x});for(const i of this.dagreNodes)i.width||(i.width=20),i.height||(i.height=30),this.dagreGraph.setNode(i.id,i);for(const i of this.dagreEdges)t.multigraph?this.dagreGraph.setEdge(i.source,i.target,i,i.id):this.dagreGraph.setEdge(i.source,i.target);return this.dagreGraph}}var s=r(4650),j=r(7802),L=r(655),D=r(7340);function F(){}function k(e){return null==e?F:function(){return this.querySelector(e)}}function U(){return[]}function K(e){return null==e?U:function(){return this.querySelectorAll(e)}}function R(e){return function(){return this.matches(e)}}function J(e){return new Array(e.length)}function tt(e,n){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=n}function pt(e,n,t,i,h,x){for(var C,T=0,I=n.length,P=x.length;T<P;++T)(C=n[T])?(C.__data__=x[T],i[T]=C):t[T]=new tt(e,x[T]);for(;T<I;++T)(C=n[T])&&(h[T]=C)}function W(e,n,t,i,h,x,T){var C,I,q,P={},z=n.length,Z=x.length,$=new Array(z);for(C=0;C<z;++C)(I=n[C])&&($[C]=q="$"+T.call(I,I.__data__,C,n),q in P?h[C]=I:P[q]=I);for(C=0;C<Z;++C)(I=P[q="$"+T.call(e,x[C],C,x)])?(i[C]=I,I.__data__=x[C],P[q]=null):t[C]=new tt(e,x[C]);for(C=0;C<z;++C)(I=n[C])&&P[$[C]]===I&&(h[C]=I)}function yt(e,n){return e<n?-1:e>n?1:e>=n?0:NaN}tt.prototype={constructor:tt,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,n){return this._parent.insertBefore(e,n)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};var Rt="http://www.w3.org/1999/xhtml";const Ut={svg:"http://www.w3.org/2000/svg",xhtml:Rt,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function se(e){var n=e+="",t=n.indexOf(":");return t>=0&&"xmlns"!==(n=e.slice(0,t))&&(e=e.slice(t+1)),Ut.hasOwnProperty(n)?{space:Ut[n],local:e}:e}function oe(e){return function(){this.removeAttribute(e)}}function Ht(e){return function(){this.removeAttributeNS(e.space,e.local)}}function St(e,n){return function(){this.setAttribute(e,n)}}function ae(e,n){return function(){this.setAttributeNS(e.space,e.local,n)}}function ue(e,n){return function(){var t=n.apply(this,arguments);null==t?this.removeAttribute(e):this.setAttribute(e,t)}}function on(e,n){return function(){var t=n.apply(this,arguments);null==t?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,t)}}function Zt(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Be(e){return function(){this.style.removeProperty(e)}}function Re(e,n,t){return function(){this.style.setProperty(e,n,t)}}function an(e,n,t){return function(){var i=n.apply(this,arguments);null==i?this.style.removeProperty(e):this.style.setProperty(e,i,t)}}function Ot(e,n){return e.style.getPropertyValue(n)||Zt(e).getComputedStyle(e,null).getPropertyValue(n)}function $t(e){return function(){delete this[e]}}function fr(e,n){return function(){this[e]=n}}function dr(e,n){return function(){var t=n.apply(this,arguments);null==t?delete this[e]:this[e]=t}}function Ln(e){return e.trim().split(/^|\s+/)}function un(e){return e.classList||new Dn(e)}function Dn(e){this._node=e,this._names=Ln(e.getAttribute("class")||"")}function Fn(e,n){for(var t=un(e),i=-1,h=n.length;++i<h;)t.add(n[i])}function Pn(e,n){for(var t=un(e),i=-1,h=n.length;++i<h;)t.remove(n[i])}function gr(e){return function(){Fn(this,e)}}function mr(e){return function(){Pn(this,e)}}function vr(e,n){return function(){(n.apply(this,arguments)?Fn:Pn)(this,e)}}function xr(){this.textContent=""}function _r(e){return function(){this.textContent=e}}function br(e){return function(){var n=e.apply(this,arguments);this.textContent=n??""}}function Er(){this.innerHTML=""}function Tr(e){return function(){this.innerHTML=e}}function Cr(e){return function(){var n=e.apply(this,arguments);this.innerHTML=n??""}}function Sr(){this.nextSibling&&this.parentNode.appendChild(this)}function Ir(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Nr(e){return function(){var n=this.ownerDocument,t=this.namespaceURI;return t===Rt&&n.documentElement.namespaceURI===Rt?n.createElement(e):n.createElementNS(t,e)}}function Lr(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function kn(e){var n=se(e);return(n.local?Lr:Nr)(n)}function Fr(){return null}function kr(){var e=this.parentNode;e&&e.removeChild(this)}function Br(){var e=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(e,this.nextSibling):e}function Rr(){var e=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(e,this.nextSibling):e}Dn.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var n=this._names.indexOf(e);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var Gn={},ee=null;function Vr(e,n,t){return e=Bn(e,n,t),function(i){var h=i.relatedTarget;(!h||h!==this&&!(8&h.compareDocumentPosition(this)))&&e.call(this,i)}}function Bn(e,n,t){return function(i){var h=ee;ee=i;try{e.call(this,this.__data__,n,t)}finally{ee=h}}}function Ur(e){return e.trim().split(/^|\s+/).map(function(n){var t="",i=n.indexOf(".");return i>=0&&(t=n.slice(i+1),n=n.slice(0,i)),{type:n,name:t}})}function Zr(e){return function(){var n=this.__on;if(n){for(var x,t=0,i=-1,h=n.length;t<h;++t)x=n[t],e.type&&x.type!==e.type||x.name!==e.name?n[++i]=x:this.removeEventListener(x.type,x.listener,x.capture);++i?n.length=i:delete this.__on}}}function $r(e,n,t){var i=Gn.hasOwnProperty(e.type)?Vr:Bn;return function(h,x,T){var I,C=this.__on,P=i(n,x,T);if(C)for(var z=0,Z=C.length;z<Z;++z)if((I=C[z]).type===e.type&&I.name===e.name)return this.removeEventListener(I.type,I.listener,I.capture),this.addEventListener(I.type,I.listener=P,I.capture=t),void(I.value=n);this.addEventListener(e.type,P,t),I={type:e.type,name:e.name,value:n,listener:P,capture:t},C?C.push(I):this.__on=[I]}}function Rn(e,n,t){var i=Zt(e),h=i.CustomEvent;"function"==typeof h?h=new h(n,t):(h=i.document.createEvent("Event"),t?(h.initEvent(n,t.bubbles,t.cancelable),h.detail=t.detail):h.initEvent(n,!1,!1)),e.dispatchEvent(h)}function Wr(e,n){return function(){return Rn(this,e,n)}}function Xr(e,n){return function(){return Rn(this,e,n.apply(this,arguments))}}typeof document<"u"&&("onmouseenter"in document.documentElement||(Gn={mouseenter:"mouseover",mouseleave:"mouseout"}));var Hn=[null];function Lt(e,n){this._groups=e,this._parents=n}function zn(){return new Lt([[document.documentElement]],Hn)}Lt.prototype=zn.prototype={constructor:Lt,select:function B(e){"function"!=typeof e&&(e=k(e));for(var n=this._groups,t=n.length,i=new Array(t),h=0;h<t;++h)for(var I,P,x=n[h],T=x.length,C=i[h]=new Array(T),z=0;z<T;++z)(I=x[z])&&(P=e.call(I,I.__data__,z,x))&&("__data__"in I&&(P.__data__=I.__data__),C[z]=P);return new Lt(i,this._parents)},selectAll:function H(e){"function"!=typeof e&&(e=K(e));for(var n=this._groups,t=n.length,i=[],h=[],x=0;x<t;++x)for(var I,T=n[x],C=T.length,P=0;P<C;++P)(I=T[P])&&(i.push(e.call(I,I.__data__,P,T)),h.push(I));return new Lt(i,h)},filter:function X(e){"function"!=typeof e&&(e=R(e));for(var n=this._groups,t=n.length,i=new Array(t),h=0;h<t;++h)for(var I,x=n[h],T=x.length,C=i[h]=[],P=0;P<T;++P)(I=x[P])&&e.call(I,I.__data__,P,x)&&C.push(I);return new Lt(i,this._parents)},data:function Q(e,n){if(!e)return q=new Array(this.size()),P=-1,this.each(function(Nt){q[++P]=Nt}),q;var t=n?W:pt,i=this._parents,h=this._groups;"function"!=typeof e&&(e=function st(e){return function(){return e}}(e));for(var x=h.length,T=new Array(x),C=new Array(x),I=new Array(x),P=0;P<x;++P){var z=i[P],Z=h[P],$=Z.length,q=e.call(z,z&&z.__data__,P,i),nt=q.length,et=C[P]=new Array(nt),ot=T[P]=new Array(nt);t(z,Z,et,ot,I[P]=new Array($),q,n);for(var xt,wt,dt=0,ht=0;dt<nt;++dt)if(xt=et[dt]){for(dt>=ht&&(ht=dt+1);!(wt=ot[ht])&&++ht<nt;);xt._next=wt||null}}return(T=new Lt(T,i))._enter=C,T._exit=I,T},enter:function rt(){return new Lt(this._enter||this._groups.map(J),this._parents)},exit:function it(){return new Lt(this._exit||this._groups.map(J),this._parents)},join:function at(e,n,t){var i=this.enter(),h=this,x=this.exit();return i="function"==typeof e?e(i):i.append(e+""),null!=n&&(h=n(h)),null==t?x.remove():t(x),i&&h?i.merge(h).order():h},merge:function ft(e){for(var n=this._groups,t=e._groups,i=n.length,x=Math.min(i,t.length),T=new Array(i),C=0;C<x;++C)for(var $,I=n[C],P=t[C],z=I.length,Z=T[C]=new Array(z),q=0;q<z;++q)($=I[q]||P[q])&&(Z[q]=$);for(;C<i;++C)T[C]=n[C];return new Lt(T,this._parents)},order:function ct(){for(var e=this._groups,n=-1,t=e.length;++n<t;)for(var T,i=e[n],h=i.length-1,x=i[h];--h>=0;)(T=i[h])&&(x&&4^T.compareDocumentPosition(x)&&x.parentNode.insertBefore(T,x),x=T);return this},sort:function gt(e){function n(Z,$){return Z&&$?e(Z.__data__,$.__data__):!Z-!$}e||(e=yt);for(var t=this._groups,i=t.length,h=new Array(i),x=0;x<i;++x){for(var P,T=t[x],C=T.length,I=h[x]=new Array(C),z=0;z<C;++z)(P=T[z])&&(I[z]=P);I.sort(n)}return new Lt(h,this._parents).order()},call:function Pt(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function _t(){var e=new Array(this.size()),n=-1;return this.each(function(){e[++n]=this}),e},node:function Tt(){for(var e=this._groups,n=0,t=e.length;n<t;++n)for(var i=e[n],h=0,x=i.length;h<x;++h){var T=i[h];if(T)return T}return null},size:function mt(){var e=0;return this.each(function(){++e}),e},empty:function Vt(){return!this.node()},each:function vt(e){for(var n=this._groups,t=0,i=n.length;t<i;++t)for(var C,h=n[t],x=0,T=h.length;x<T;++x)(C=h[x])&&e.call(C,C.__data__,x,h);return this},attr:function Ge(e,n){var t=se(e);if(arguments.length<2){var i=this.node();return t.local?i.getAttributeNS(t.space,t.local):i.getAttribute(t)}return this.each((null==n?t.local?Ht:oe:"function"==typeof n?t.local?on:ue:t.local?ae:St)(t,n))},style:function He(e,n,t){return arguments.length>1?this.each((null==n?Be:"function"==typeof n?an:Re)(e,n,t??"")):Ot(this.node(),e)},property:function pr(e,n){return arguments.length>1?this.each((null==n?$t:"function"==typeof n?dr:fr)(e,n)):this.node()[e]},classed:function yr(e,n){var t=Ln(e+"");if(arguments.length<2){for(var i=un(this.node()),h=-1,x=t.length;++h<x;)if(!i.contains(t[h]))return!1;return!0}return this.each(("function"==typeof n?vr:n?gr:mr)(t,n))},text:function wr(e){return arguments.length?this.each(null==e?xr:("function"==typeof e?br:_r)(e)):this.node().textContent},html:function Ar(e){return arguments.length?this.each(null==e?Er:("function"==typeof e?Cr:Tr)(e)):this.node().innerHTML},raise:function Or(){return this.each(Sr)},lower:function Mr(){return this.each(Ir)},append:function Dr(e){var n="function"==typeof e?e:kn(e);return this.select(function(){return this.appendChild(n.apply(this,arguments))})},insert:function Pr(e,n){var t="function"==typeof e?e:kn(e),i=null==n?Fr:"function"==typeof n?n:k(n);return this.select(function(){return this.insertBefore(t.apply(this,arguments),i.apply(this,arguments)||null)})},remove:function Gr(){return this.each(kr)},clone:function Hr(e){return this.select(e?Rr:Br)},datum:function zr(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function jr(e,n,t){var h,T,i=Ur(e+""),x=i.length;if(!(arguments.length<2)){for(C=n?$r:Zr,null==t&&(t=!1),h=0;h<x;++h)this.each(C(i[h],n,t));return this}var C=this.node().__on;if(C)for(var z,I=0,P=C.length;I<P;++I)for(h=0,z=C[I];h<x;++h)if((T=i[h]).type===z.type&&T.name===z.name)return z.value},dispatch:function Jr(e,n){return this.each(("function"==typeof n?Xr:Wr)(e,n))}};const _e=zn;function Yn(e){return"string"==typeof e?new Lt([[document.querySelector(e)]],[document.documentElement]):new Lt([[e]],Hn)}function Vn(e,n,t){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+n)/6,(e._y0+4*e._y1+t)/6)}function ze(e){this._context=e}function Un(e,n){this._basis=new ze(e),this._beta=n}ze.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Vn(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,n){switch(e=+e,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Vn(this,e,n)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=n}},Un.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,n=this._y,t=e.length-1;if(t>0)for(var I,i=e[0],h=n[0],x=e[t]-i,T=n[t]-h,C=-1;++C<=t;)this._basis.point(this._beta*e[C]+(1-this._beta)*(i+(I=C/t)*x),this._beta*n[C]+(1-this._beta)*(h+I*T));this._x=this._y=null,this._basis.lineEnd()},point:function(e,n){this._x.push(+e),this._y.push(+n)}};const Kr=function e(n){function t(i){return 1===n?new ze(i):new Un(i,n)}return t.beta=function(i){return e(+i)},t}(.85);var ln=Math.PI,hn=2*ln,ne=1e-6,Qr=hn-ne;function cn(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Zn(){return new cn}cn.prototype=Zn.prototype={constructor:cn,moveTo:function(e,n){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+n)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,n){this._+="L"+(this._x1=+e)+","+(this._y1=+n)},quadraticCurveTo:function(e,n,t,i){this._+="Q"+ +e+","+ +n+","+(this._x1=+t)+","+(this._y1=+i)},bezierCurveTo:function(e,n,t,i,h,x){this._+="C"+ +e+","+ +n+","+ +t+","+ +i+","+(this._x1=+h)+","+(this._y1=+x)},arcTo:function(e,n,t,i,h){var x=this._x1,T=this._y1,C=(t=+t)-(e=+e),I=(i=+i)-(n=+n),P=x-e,z=T-n,Z=P*P+z*z;if((h=+h)<0)throw new Error("negative radius: "+h);if(null===this._x1)this._+="M"+(this._x1=e)+","+(this._y1=n);else if(Z>ne)if(Math.abs(z*C-I*P)>ne&&h){var $=t-x,q=i-T,nt=C*C+I*I,et=$*$+q*q,ot=Math.sqrt(nt),lt=Math.sqrt(Z),dt=h*Math.tan((ln-Math.acos((nt+Z-et)/(2*ot*lt)))/2),ht=dt/lt,xt=dt/ot;Math.abs(ht-1)>ne&&(this._+="L"+(e+ht*P)+","+(n+ht*z)),this._+="A"+h+","+h+",0,0,"+ +(z*$>P*q)+","+(this._x1=e+xt*C)+","+(this._y1=n+xt*I)}else this._+="L"+(this._x1=e)+","+(this._y1=n)},arc:function(e,n,t,i,h,x){e=+e,n=+n,x=!!x;var T=(t=+t)*Math.cos(i),C=t*Math.sin(i),I=e+T,P=n+C,z=1^x,Z=x?i-h:h-i;if(t<0)throw new Error("negative radius: "+t);null===this._x1?this._+="M"+I+","+P:(Math.abs(this._x1-I)>ne||Math.abs(this._y1-P)>ne)&&(this._+="L"+I+","+P),t&&(Z<0&&(Z=Z%hn+hn),Z>Qr?this._+="A"+t+","+t+",0,1,"+z+","+(e-T)+","+(n-C)+"A"+t+","+t+",0,1,"+z+","+(this._x1=I)+","+(this._y1=P):Z>ne&&(this._+="A"+t+","+t+",0,"+ +(Z>=ln)+","+z+","+(this._x1=e+t*Math.cos(h))+","+(this._y1=n+t*Math.sin(h))))},rect:function(e,n,t,i){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+n)+"h"+ +t+"v"+ +i+"h"+-t+"Z"},toString:function(){return this._}};const qr=Zn;function Ye(e){return function(){return e}}function $n(e){this._context=e}function ts(e){return new $n(e)}function es(e){return e[0]}function ns(e){return e[1]}$n.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,n){switch(e=+e,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break;case 1:this._point=2;default:this._context.lineTo(e,n)}}};var jn=Math.PI;function Xn(e){return(1-Math.cos(jn*e))/2}var rs={value:function(){}};function Jn(){for(var i,e=0,n=arguments.length,t={};e<n;++e){if(!(i=arguments[e]+"")||i in t||/[\s.]/.test(i))throw new Error("illegal type: "+i);t[i]=[]}return new Ve(t)}function Ve(e){this._=e}function ss(e,n){return e.trim().split(/^|\s+/).map(function(t){var i="",h=t.indexOf(".");if(h>=0&&(i=t.slice(h+1),t=t.slice(0,h)),t&&!n.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:i}})}function os(e,n){for(var h,t=0,i=e.length;t<i;++t)if((h=e[t]).name===n)return h.value}function Kn(e,n,t){for(var i=0,h=e.length;i<h;++i)if(e[i].name===n){e[i]=rs,e=e.slice(0,i).concat(e.slice(i+1));break}return null!=t&&e.push({name:n,value:t}),e}Ve.prototype=Jn.prototype={constructor:Ve,on:function(e,n){var h,t=this._,i=ss(e+"",t),x=-1,T=i.length;if(!(arguments.length<2)){if(null!=n&&"function"!=typeof n)throw new Error("invalid callback: "+n);for(;++x<T;)if(h=(e=i[x]).type)t[h]=Kn(t[h],e.name,n);else if(null==n)for(h in t)t[h]=Kn(t[h],e.name,null);return this}for(;++x<T;)if((h=(e=i[x]).type)&&(h=os(t[h],e.name)))return h},copy:function(){var e={},n=this._;for(var t in n)e[t]=n[t].slice();return new Ve(e)},call:function(e,n){if((h=arguments.length-2)>0)for(var h,x,t=new Array(h),i=0;i<h;++i)t[i]=arguments[i+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=0,h=(x=this._[e]).length;i<h;++i)x[i].value.apply(n,t)},apply:function(e,n,t){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var i=this._[e],h=0,x=i.length;h<x;++h)i[h].value.apply(n,t)}};const fn=Jn;var Ue,Ee,le=0,be=0,we=0,Ze=0,ie=0,$e=0,Te="object"==typeof performance&&performance.now?performance:Date,qn="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function he(){return ie||(qn(as),ie=Te.now()+$e)}function as(){ie=0}function Ce(){this._call=this._time=this._next=null}function je(e,n,t){var i=new Ce;return i.restart(e,n,t),i}function ti(){he(),++le;for(var n,e=Ue;e;)(n=ie-e._time)>=0&&e._call.call(null,n),e=e._next;--le}function ei(){ie=(Ze=Te.now())+$e,le=be=0;try{ti()}finally{le=0,function ls(){for(var e,t,n=Ue,i=1/0;n;)n._call?(i>n._time&&(i=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:Ue=t);Ee=e,dn(i)}(),ie=0}}function us(){var e=Te.now(),n=e-Ze;n>1e3&&($e-=n,Ze=e)}function dn(e){le||(be&&(be=clearTimeout(be)),e-ie>24?(e<1/0&&(be=setTimeout(ei,e-Te.now()-$e)),we&&(we=clearInterval(we))):(we||(Ze=Te.now(),we=setInterval(us,1e3)),le=1,qn(ei)))}function pn(e,n,t){var i=new Ce;return i.restart(function(h){i.stop(),e(h+n)},n=null==n?0:+n,t),i}Ce.prototype=je.prototype={constructor:Ce,restart:function(e,n,t){if("function"!=typeof e)throw new TypeError("callback is not a function");t=(null==t?he():+t)+(null==n?0:+n),!this._next&&Ee!==this&&(Ee?Ee._next=this:Ue=this,Ee=this),this._call=e,this._time=t,dn()},stop:function(){this._call&&(this._call=null,this._time=1/0,dn())}};var hs=fn("start","end","cancel","interrupt"),cs=[];function Je(e,n,t,i,h,x){var T=e.__transition;if(T){if(t in T)return}else e.__transition={};!function fs(e,n,t){var h,i=e.__transition;function T(P){var z,Z,$,q;if(1!==t.state)return I();for(z in i)if((q=i[z]).name===t.name){if(3===q.state)return pn(T);4===q.state?(q.state=6,q.timer.stop(),q.on.call("interrupt",e,e.__data__,q.index,q.group),delete i[z]):+z<n&&(q.state=6,q.timer.stop(),q.on.call("cancel",e,e.__data__,q.index,q.group),delete i[z])}if(pn(function(){3===t.state&&(t.state=4,t.timer.restart(C,t.delay,t.time),C(P))}),t.state=2,t.on.call("start",e,e.__data__,t.index,t.group),2===t.state){for(t.state=3,h=new Array($=t.tween.length),z=0,Z=-1;z<$;++z)(q=t.tween[z].value.call(e,e.__data__,t.index,t.group))&&(h[++Z]=q);h.length=Z+1}}function C(P){for(var z=P<t.duration?t.ease.call(null,P/t.duration):(t.timer.restart(I),t.state=5,1),Z=-1,$=h.length;++Z<$;)h[Z].call(e,z);5===t.state&&(t.on.call("end",e,e.__data__,t.index,t.group),I())}function I(){for(var P in t.state=6,t.timer.stop(),delete i[n],i)return;delete e.__transition}i[n]=t,t.timer=je(function x(P){t.state=1,t.timer.restart(T,t.delay,t.time),t.delay<=P&&T(P-t.delay)},0,t.time)}(e,t,{name:n,index:i,group:h,on:hs,tween:cs,time:x.time,delay:x.delay,duration:x.duration,ease:x.ease,timer:null,state:0})}function vn(e,n){var t=kt(e,n);if(t.state>0)throw new Error("too late; already scheduled");return t}function jt(e,n){var t=kt(e,n);if(t.state>3)throw new Error("too late; already running");return t}function kt(e,n){var t=e.__transition;if(!t||!(t=t[n]))throw new Error("transition not found");return t}function Kt(e,n){return e=+e,n=+n,function(t){return e*(1-t)+n*t}}var Ae,xn,ai,Ke,si=180/Math.PI,yn={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function oi(e,n,t,i,h,x){var T,C,I;return(T=Math.sqrt(e*e+n*n))&&(e/=T,n/=T),(I=e*t+n*i)&&(t-=e*I,i-=n*I),(C=Math.sqrt(t*t+i*i))&&(t/=C,i/=C,I/=C),e*i<n*t&&(e=-e,n=-n,I=-I,T=-T),{translateX:h,translateY:x,rotate:Math.atan2(n,e)*si,skewX:Math.atan(I)*si,scaleX:T,scaleY:C}}function ui(e,n,t,i){function h(P){return P.length?P.pop()+" ":""}return function(P,z){var Z=[],$=[];return P=e(P),z=e(z),function x(P,z,Z,$,q,nt){if(P!==Z||z!==$){var et=q.push("translate(",null,n,null,t);nt.push({i:et-4,x:Kt(P,Z)},{i:et-2,x:Kt(z,$)})}else(Z||$)&&q.push("translate("+Z+n+$+t)}(P.translateX,P.translateY,z.translateX,z.translateY,Z,$),function T(P,z,Z,$){P!==z?(P-z>180?z+=360:z-P>180&&(P+=360),$.push({i:Z.push(h(Z)+"rotate(",null,i)-2,x:Kt(P,z)})):z&&Z.push(h(Z)+"rotate("+z+i)}(P.rotate,z.rotate,Z,$),function C(P,z,Z,$){P!==z?$.push({i:Z.push(h(Z)+"skewX(",null,i)-2,x:Kt(P,z)}):z&&Z.push(h(Z)+"skewX("+z+i)}(P.skewX,z.skewX,Z,$),function I(P,z,Z,$,q,nt){if(P!==Z||z!==$){var et=q.push(h(q)+"scale(",null,",",null,")");nt.push({i:et-4,x:Kt(P,Z)},{i:et-2,x:Kt(z,$)})}else(1!==Z||1!==$)&&q.push(h(q)+"scale("+Z+","+$+")")}(P.scaleX,P.scaleY,z.scaleX,z.scaleY,Z,$),P=z=null,function(q){for(var ot,nt=-1,et=$.length;++nt<et;)Z[(ot=$[nt]).i]=ot.x(q);return Z.join("")}}}var vs=ui(function gs(e){return"none"===e?yn:(Ae||(Ae=document.createElement("DIV"),xn=document.documentElement,ai=document.defaultView),Ae.style.transform=e,e=ai.getComputedStyle(xn.appendChild(Ae),null).getPropertyValue("transform"),xn.removeChild(Ae),oi(+(e=e.slice(7,-1).split(","))[0],+e[1],+e[2],+e[3],+e[4],+e[5]))},"px, ","px)","deg)"),ys=ui(function ms(e){return null!=e&&(Ke||(Ke=document.createElementNS("http://www.w3.org/2000/svg","g")),Ke.setAttribute("transform",e),e=Ke.transform.baseVal.consolidate())?oi((e=e.matrix).a,e.b,e.c,e.d,e.e,e.f):yn},", ",")",")");function xs(e,n){var t,i;return function(){var h=jt(this,e),x=h.tween;if(x!==t)for(var T=0,C=(i=t=x).length;T<C;++T)if(i[T].name===n){(i=i.slice()).splice(T,1);break}h.tween=i}}function _s(e,n,t){var i,h;if("function"!=typeof t)throw new Error;return function(){var x=jt(this,e),T=x.tween;if(T!==i){h=(i=T).slice();for(var C={name:n,value:t},I=0,P=h.length;I<P;++I)if(h[I].name===n){h[I]=C;break}I===P&&h.push(C)}x.tween=h}}function _n(e,n,t){var i=e._id;return e.each(function(){var h=jt(this,i);(h.value||(h.value={}))[n]=t.apply(this,arguments)}),function(h){return kt(h,i).value[n]}}function bn(e,n,t){e.prototype=n.prototype=t,t.constructor=e}function li(e,n){var t=Object.create(e.prototype);for(var i in n)t[i]=n[i];return t}function Se(){}var Qe=1/.7,ce="\\s*([+-]?\\d+)\\s*",Ie="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",zt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ws=/^#([0-9a-f]{3,8})$/,Es=new RegExp("^rgb\\("+[ce,ce,ce]+"\\)$"),Ts=new RegExp("^rgb\\("+[zt,zt,zt]+"\\)$"),Cs=new RegExp("^rgba\\("+[ce,ce,ce,Ie]+"\\)$"),As=new RegExp("^rgba\\("+[zt,zt,zt,Ie]+"\\)$"),Ss=new RegExp("^hsl\\("+[Ie,zt,zt]+"\\)$"),Os=new RegExp("^hsla\\("+[Ie,zt,zt,Ie]+"\\)$"),hi={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function ci(){return this.rgb().formatHex()}function fi(){return this.rgb().formatRgb()}function Me(e){var n,t;return e=(e+"").trim().toLowerCase(),(n=ws.exec(e))?(t=n[1].length,n=parseInt(n[1],16),6===t?di(n):3===t?new Dt(n>>8&15|n>>4&240,n>>4&15|240&n,(15&n)<<4|15&n,1):8===t?qe(n>>24&255,n>>16&255,n>>8&255,(255&n)/255):4===t?qe(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|240&n,((15&n)<<4|15&n)/255):null):(n=Es.exec(e))?new Dt(n[1],n[2],n[3],1):(n=Ts.exec(e))?new Dt(255*n[1]/100,255*n[2]/100,255*n[3]/100,1):(n=Cs.exec(e))?qe(n[1],n[2],n[3],n[4]):(n=As.exec(e))?qe(255*n[1]/100,255*n[2]/100,255*n[3]/100,n[4]):(n=Ss.exec(e))?mi(n[1],n[2]/100,n[3]/100,1):(n=Os.exec(e))?mi(n[1],n[2]/100,n[3]/100,n[4]):hi.hasOwnProperty(e)?di(hi[e]):"transparent"===e?new Dt(NaN,NaN,NaN,0):null}function di(e){return new Dt(e>>16&255,e>>8&255,255&e,1)}function qe(e,n,t,i){return i<=0&&(e=n=t=NaN),new Dt(e,n,t,i)}function Ms(e){return e instanceof Se||(e=Me(e)),e?new Dt((e=e.rgb()).r,e.g,e.b,e.opacity):new Dt}function tn(e,n,t,i){return 1===arguments.length?Ms(e):new Dt(e,n,t,i??1)}function Dt(e,n,t,i){this.r=+e,this.g=+n,this.b=+t,this.opacity=+i}function pi(){return"#"+wn(this.r)+wn(this.g)+wn(this.b)}function gi(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}function wn(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16)}function mi(e,n,t,i){return i<=0?e=n=t=NaN:t<=0||t>=1?e=n=NaN:n<=0&&(e=NaN),new Yt(e,n,t,i)}function vi(e){if(e instanceof Yt)return new Yt(e.h,e.s,e.l,e.opacity);if(e instanceof Se||(e=Me(e)),!e)return new Yt;if(e instanceof Yt)return e;var n=(e=e.rgb()).r/255,t=e.g/255,i=e.b/255,h=Math.min(n,t,i),x=Math.max(n,t,i),T=NaN,C=x-h,I=(x+h)/2;return C?(T=n===x?(t-i)/C+6*(t<i):t===x?(i-n)/C+2:(n-t)/C+4,C/=I<.5?x+h:2-x-h,T*=60):C=I>0&&I<1?0:T,new Yt(T,C,I,e.opacity)}function Yt(e,n,t,i){this.h=+e,this.s=+n,this.l=+t,this.opacity=+i}function En(e,n,t){return 255*(e<60?n+(t-n)*e/60:e<180?t:e<240?n+(t-n)*(240-e)/60:n)}function yi(e,n,t,i,h){var x=e*e,T=x*e;return((1-3*e+3*x-T)*n+(4-6*x+3*T)*t+(1+3*e+3*x-3*T)*i+T*h)/6}function xi(e){return function(){return e}}function bi(e,n){var t=n-e;return t?function _i(e,n){return function(t){return e+t*n}}(e,t):xi(isNaN(e)?n:e)}bn(Se,Me,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:ci,formatHex:ci,formatHsl:function Is(){return vi(this).formatHsl()},formatRgb:fi,toString:fi}),bn(Dt,tn,li(Se,{brighter:function(e){return e=null==e?Qe:Math.pow(Qe,e),new Dt(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new Dt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:pi,formatHex:pi,formatRgb:gi,toString:gi})),bn(Yt,function Ns(e,n,t,i){return 1===arguments.length?vi(e):new Yt(e,n,t,i??1)},li(Se,{brighter:function(e){return e=null==e?Qe:Math.pow(Qe,e),new Yt(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new Yt(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),n=isNaN(e)||isNaN(this.s)?0:this.s,t=this.l,i=t+(t<.5?t:1-t)*n,h=2*t-i;return new Dt(En(e>=240?e-240:e+120,h,i),En(e,h,i),En(e<120?e+240:e-120,h,i),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===e?")":", "+e+")")}}));const wi=function e(n){var t=function Ps(e){return 1==(e=+e)?bi:function(n,t){return t-n?function Fs(e,n,t){return e=Math.pow(e,t),n=Math.pow(n,t)-e,t=1/t,function(i){return Math.pow(e+i*n,t)}}(n,t,e):xi(isNaN(n)?t:n)}}(n);function i(h,x){var T=t((h=tn(h)).r,(x=tn(x)).r),C=t(h.g,x.g),I=t(h.b,x.b),P=bi(h.opacity,x.opacity);return function(z){return h.r=T(z),h.g=C(z),h.b=I(z),h.opacity=P(z),h+""}}return i.gamma=e,i}(1);function Ei(e){return function(n){var T,C,t=n.length,i=new Array(t),h=new Array(t),x=new Array(t);for(T=0;T<t;++T)C=tn(n[T]),i[T]=C.r||0,h[T]=C.g||0,x[T]=C.b||0;return i=e(i),h=e(h),x=e(x),C.opacity=1,function(I){return C.r=i(I),C.g=h(I),C.b=x(I),C+""}}}Ei(function Ls(e){var n=e.length-1;return function(t){var i=t<=0?t=0:t>=1?(t=1,n-1):Math.floor(t*n),h=e[i],x=e[i+1];return yi((t-i/n)*n,i>0?e[i-1]:2*h-x,h,x,i<n-1?e[i+2]:2*x-h)}}),Ei(function Ds(e){var n=e.length;return function(t){var i=Math.floor(((t%=1)<0?++t:t)*n);return yi((t-i/n)*n,e[(i+n-1)%n],e[i%n],e[(i+1)%n],e[(i+2)%n])}});var Tn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Cn=new RegExp(Tn.source,"g");function Bs(e,n){var i,h,x,t=Tn.lastIndex=Cn.lastIndex=0,T=-1,C=[],I=[];for(e+="",n+="";(i=Tn.exec(e))&&(h=Cn.exec(n));)(x=h.index)>t&&(x=n.slice(t,x),C[T]?C[T]+=x:C[++T]=x),(i=i[0])===(h=h[0])?C[T]?C[T]+=h:C[++T]=h:(C[++T]=null,I.push({i:T,x:Kt(i,h)})),t=Cn.lastIndex;return t<n.length&&(x=n.slice(t),C[T]?C[T]+=x:C[++T]=x),C.length<2?I[0]?function Gs(e){return function(n){return e(n)+""}}(I[0].x):function ks(e){return function(){return e}}(n):(n=I.length,function(P){for(var Z,z=0;z<n;++z)C[(Z=I[z]).i]=Z.x(P);return C.join("")})}function Ti(e,n){var t;return("number"==typeof n?Kt:n instanceof Me?wi:(t=Me(n))?(n=t,wi):Bs)(e,n)}function Rs(e){return function(){this.removeAttribute(e)}}function Hs(e){return function(){this.removeAttributeNS(e.space,e.local)}}function zs(e,n,t){var i,x,h=t+"";return function(){var T=this.getAttribute(e);return T===h?null:T===i?x:x=n(i=T,t)}}function Ys(e,n,t){var i,x,h=t+"";return function(){var T=this.getAttributeNS(e.space,e.local);return T===h?null:T===i?x:x=n(i=T,t)}}function Vs(e,n,t){var i,h,x;return function(){var T,I,C=t(this);return null==C?void this.removeAttribute(e):(T=this.getAttribute(e))===(I=C+"")?null:T===i&&I===h?x:(h=I,x=n(i=T,C))}}function Us(e,n,t){var i,h,x;return function(){var T,I,C=t(this);return null==C?void this.removeAttributeNS(e.space,e.local):(T=this.getAttributeNS(e.space,e.local))===(I=C+"")?null:T===i&&I===h?x:(h=I,x=n(i=T,C))}}function $s(e,n){return function(t){this.setAttribute(e,n.call(this,t))}}function js(e,n){return function(t){this.setAttributeNS(e.space,e.local,n.call(this,t))}}function Ws(e,n){var t,i;function h(){var x=n.apply(this,arguments);return x!==i&&(t=(i=x)&&js(e,x)),t}return h._value=n,h}function Xs(e,n){var t,i;function h(){var x=n.apply(this,arguments);return x!==i&&(t=(i=x)&&$s(e,x)),t}return h._value=n,h}function Ks(e,n){return function(){vn(this,e).delay=+n.apply(this,arguments)}}function Qs(e,n){return n=+n,function(){vn(this,e).delay=n}}function to(e,n){return function(){jt(this,e).duration=+n.apply(this,arguments)}}function eo(e,n){return n=+n,function(){jt(this,e).duration=n}}function io(e,n){if("function"!=typeof n)throw new Error;return function(){jt(this,e).ease=n}}function uo(e,n,t){var i,h,x=function ao(e){return(e+"").trim().split(/^|\s+/).every(function(n){var t=n.indexOf(".");return t>=0&&(n=n.slice(0,t)),!n||"start"===n})}(n)?vn:jt;return function(){var T=x(this,e),C=T.on;C!==i&&(h=(i=C).copy()).on(n,t),T.on=h}}var go=_e.prototype.constructor;function Ci(e){return function(){this.style.removeProperty(e)}}function wo(e,n,t){return function(i){this.style.setProperty(e,n.call(this,i),t)}}function Eo(e,n,t){var i,h;function x(){var T=n.apply(this,arguments);return T!==h&&(i=(h=T)&&wo(e,T,t)),i}return x._value=n,x}function Oo(e){return function(n){this.textContent=e.call(this,n)}}function Io(e){var n,t;function i(){var h=e.apply(this,arguments);return h!==t&&(n=(t=h)&&Oo(h)),n}return i._value=e,i}var Do=0;function Wt(e,n,t,i){this._groups=e,this._parents=n,this._name=t,this._id=i}function Ai(){return++Do}var fe=_e.prototype;Wt.prototype=function Fo(e){return _e().transition(e)}.prototype={constructor:Wt,select:function fo(e){var n=this._name,t=this._id;"function"!=typeof e&&(e=k(e));for(var i=this._groups,h=i.length,x=new Array(h),T=0;T<h;++T)for(var z,Z,C=i[T],I=C.length,P=x[T]=new Array(I),$=0;$<I;++$)(z=C[$])&&(Z=e.call(z,z.__data__,$,C))&&("__data__"in z&&(Z.__data__=z.__data__),P[$]=Z,Je(P[$],n,t,$,P,kt(z,t)));return new Wt(x,this._parents,n,t)},selectAll:function po(e){var n=this._name,t=this._id;"function"!=typeof e&&(e=K(e));for(var i=this._groups,h=i.length,x=[],T=[],C=0;C<h;++C)for(var z,I=i[C],P=I.length,Z=0;Z<P;++Z)if(z=I[Z]){for(var q,$=e.call(z,z.__data__,Z,I),nt=kt(z,t),et=0,ot=$.length;et<ot;++et)(q=$[et])&&Je(q,n,t,et,$,nt);x.push($),T.push(z)}return new Wt(x,T,n,t)},filter:function so(e){"function"!=typeof e&&(e=R(e));for(var n=this._groups,t=n.length,i=new Array(t),h=0;h<t;++h)for(var I,x=n[h],T=x.length,C=i[h]=[],P=0;P<T;++P)(I=x[P])&&e.call(I,I.__data__,P,x)&&C.push(I);return new Wt(i,this._parents,this._name,this._id)},merge:function oo(e){if(e._id!==this._id)throw new Error;for(var n=this._groups,t=e._groups,i=n.length,x=Math.min(i,t.length),T=new Array(i),C=0;C<x;++C)for(var $,I=n[C],P=t[C],z=I.length,Z=T[C]=new Array(z),q=0;q<z;++q)($=I[q]||P[q])&&(Z[q]=$);for(;C<i;++C)T[C]=n[C];return new Wt(T,this._parents,this._name,this._id)},selection:function mo(){return new go(this._groups,this._parents)},transition:function No(){for(var e=this._name,n=this._id,t=Ai(),i=this._groups,h=i.length,x=0;x<h;++x)for(var I,T=i[x],C=T.length,P=0;P<C;++P)if(I=T[P]){var z=kt(I,n);Je(I,e,t,P,T,{time:z.time+z.delay+z.duration,delay:0,duration:z.duration,ease:z.ease})}return new Wt(i,this._parents,e,t)},call:fe.call,nodes:fe.nodes,node:fe.node,size:fe.size,empty:fe.empty,each:fe.each,on:function lo(e,n){var t=this._id;return arguments.length<2?kt(this.node(),t).on.on(e):this.each(uo(t,e,n))},attr:function Zs(e,n){var t=se(e),i="transform"===t?ys:Ti;return this.attrTween(e,"function"==typeof n?(t.local?Us:Vs)(t,i,_n(this,"attr."+e,n)):null==n?(t.local?Hs:Rs)(t):(t.local?Ys:zs)(t,i,n))},attrTween:function Js(e,n){var t="attr."+e;if(arguments.length<2)return(t=this.tween(t))&&t._value;if(null==n)return this.tween(t,null);if("function"!=typeof n)throw new Error;var i=se(e);return this.tween(t,(i.local?Ws:Xs)(i,n))},style:function bo(e,n,t){var i="transform"==(e+="")?vs:Ti;return null==n?this.styleTween(e,function vo(e,n){var t,i,h;return function(){var x=Ot(this,e),T=(this.style.removeProperty(e),Ot(this,e));return x===T?null:x===t&&T===i?h:h=n(t=x,i=T)}}(e,i)).on("end.style."+e,Ci(e)):"function"==typeof n?this.styleTween(e,function xo(e,n,t){var i,h,x;return function(){var T=Ot(this,e),C=t(this),I=C+"";return null==C&&(this.style.removeProperty(e),I=C=Ot(this,e)),T===I?null:T===i&&I===h?x:(h=I,x=n(i=T,C))}}(e,i,_n(this,"style."+e,n))).each(function _o(e,n){var t,i,h,C,x="style."+n,T="end."+x;return function(){var I=jt(this,e),P=I.on,z=null==I.value[x]?C||(C=Ci(n)):void 0;(P!==t||h!==z)&&(i=(t=P).copy()).on(T,h=z),I.on=i}}(this._id,e)):this.styleTween(e,function yo(e,n,t){var i,x,h=t+"";return function(){var T=Ot(this,e);return T===h?null:T===i?x:x=n(i=T,t)}}(e,i,n),t).on("end.style."+e,null)},styleTween:function To(e,n,t){var i="style."+(e+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(null==n)return this.tween(i,null);if("function"!=typeof n)throw new Error;return this.tween(i,Eo(e,n,t??""))},text:function So(e){return this.tween("text","function"==typeof e?function Ao(e){return function(){var n=e(this);this.textContent=n??""}}(_n(this,"text",e)):function Co(e){return function(){this.textContent=e}}(null==e?"":e+""))},textTween:function Mo(e){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;return this.tween(n,Io(e))},remove:function co(){return this.on("end.remove",function ho(e){return function(){var n=this.parentNode;for(var t in this.__transition)if(+t!==e)return;n&&n.removeChild(this)}}(this._id))},tween:function bs(e,n){var t=this._id;if(e+="",arguments.length<2){for(var T,i=kt(this.node(),t).tween,h=0,x=i.length;h<x;++h)if((T=i[h]).name===e)return T.value;return null}return this.each((null==n?xs:_s)(t,e,n))},delay:function qs(e){var n=this._id;return arguments.length?this.each(("function"==typeof e?Ks:Qs)(n,e)):kt(this.node(),n).delay},duration:function no(e){var n=this._id;return arguments.length?this.each(("function"==typeof e?to:eo)(n,e)):kt(this.node(),n).duration},ease:function ro(e){var n=this._id;return arguments.length?this.each(io(n,e)):kt(this.node(),n).ease},end:function Lo(){var e,n,t=this,i=t._id,h=t.size();return new Promise(function(x,T){var C={value:T},I={value:function(){0==--h&&x()}};t.each(function(){var P=jt(this,i),z=P.on;z!==e&&((n=(e=z).copy())._.cancel.push(C),n._.interrupt.push(C),n._.end.push(I)),P.on=n})})}};var An={time:null,delay:0,duration:250,ease:function Po(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}};function ko(e,n){for(var t;!(t=e.__transition)||!(t=t[n]);)if(!(e=e.parentNode))return An.time=he(),An;return t}_e.prototype.interrupt=function ps(e){return this.each(function(){!function ds(e,n){var i,h,T,t=e.__transition,x=!0;if(t){for(T in n=null==n?null:n+"",t)(i=t[T]).name===n?(h=i.state>2&&i.state<5,i.state=6,i.timer.stop(),i.on.call(h?"interrupt":"cancel",e,e.__data__,i.index,i.group),delete t[T]):x=!1;x&&delete e.__transition}}(this,e)})},_e.prototype.transition=function Go(e){var n,t;e instanceof Wt?(n=e._id,e=e._name):(n=Ai(),(t=An).time=he(),e=null==e?null:e+"");for(var i=this._groups,h=i.length,x=0;x<h;++x)for(var I,T=i[x],C=T.length,P=0;P<C;++P)(I=T[P])&&Je(I,e,n,P,T,t||ko(I,n));return new Wt(i,this._parents,e,n)};var de=r(7579),Si=r(727),Oi=r(9751),Ii=r(9646),Ne=r(4968),Ro=r(590),Mi=r(8372);function jo(e){return typeof e>"u"}function Ko(e){if(Array.isArray(e)){for(var n=0,t=Array(e.length);n<e.length;n++)t[n]=e[n];return t}return Array.from(e)}function Qo(e){return Array.isArray(e)?e:Array.from(e)}function Le(){for(var e=arguments.length,n=Array(e),t=0;t<e;t++)n[t]=arguments[t];var i=function(Z,$){return{a:Z.a*$.a+Z.c*$.b,c:Z.a*$.c+Z.c*$.d,e:Z.a*$.e+Z.c*$.f+Z.e,b:Z.b*$.a+Z.d*$.b,d:Z.b*$.c+Z.d*$.d,f:Z.b*$.e+Z.d*$.f+Z.f}};switch((n=Array.isArray(n[0])?n[0]:n).length){case 0:throw new Error("no matrices provided");case 1:return n[0];case 2:return i(n[0],n[1]);default:var h=n,x=Qo(h),T=x[0],C=x[1],I=x.slice(2),P=i(T,C);return Le.apply(void 0,[P].concat(Ko(I)))}}function Di(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return{a:1,c:0,e,b:0,d:1,f:n}}"function"==typeof Symbol&&Symbol,Math,Math,Math,Math;class Fi extends Map{constructor(n,t=Gi){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=n)for(const[i,h]of n)this.set(i,h)}get(n){return super.get(Sn(this,n))}has(n){return super.has(Sn(this,n))}set(n,t){return super.set(function Pi({_intern:e,_key:n},t){const i=n(t);return e.has(i)?e.get(i):(e.set(i,t),t)}(this,n),t)}delete(n){return super.delete(function ki({_intern:e,_key:n},t){const i=n(t);return e.has(i)&&(t=e.get(i),e.delete(i)),t}(this,n))}}function Sn({_intern:e,_key:n},t){const i=n(t);return e.has(i)?e.get(i):t}function Gi(e){return null!==e&&"object"==typeof e?e.valueOf():e}function ta(e,n){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(n).domain(e)}return this}Set;const Bi=Symbol("implicit");function Ri(){var e=new Fi,n=[],t=[],i=Bi;function h(x){let T=e.get(x);if(void 0===T){if(i!==Bi)return i;e.set(x,T=n.push(x)-1)}return t[T%t.length]}return h.domain=function(x){if(!arguments.length)return n.slice();n=[],e=new Fi;for(const T of x)e.has(T)||e.set(T,n.push(T)-1);return h},h.range=function(x){return arguments.length?(t=Array.from(x),h):t.slice()},h.unknown=function(x){return arguments.length?(i=x,h):i},h.copy=function(){return Ri(n,t).unknown(i)},ta.apply(h,arguments),h}function ea(e,n){var t;function i(){var h,T,x=t.length,C=0,I=0;for(h=0;h<x;++h)C+=(T=t[h]).x,I+=T.y;for(C=C/x-e,I=I/x-n,h=0;h<x;++h)(T=t[h]).x-=C,T.y-=I}return null==e&&(e=0),null==n&&(n=0),i.initialize=function(h){t=h},i.x=function(h){return arguments.length?(e=+h,i):e},i.y=function(h){return arguments.length?(n=+h,i):n},i}function Et(e){return function(){return e}}function Qt(){return 1e-6*(Math.random()-.5)}function Hi(e,n,t,i){if(isNaN(n)||isNaN(t))return e;var h,Z,$,q,nt,et,ot,lt,dt,x=e._root,T={data:i},C=e._x0,I=e._y0,P=e._x1,z=e._y1;if(!x)return e._root=T,e;for(;x.length;)if((et=n>=(Z=(C+P)/2))?C=Z:P=Z,(ot=t>=($=(I+z)/2))?I=$:z=$,h=x,!(x=x[lt=ot<<1|et]))return h[lt]=T,e;if(q=+e._x.call(null,x.data),nt=+e._y.call(null,x.data),n===q&&t===nt)return T.next=x,h?h[lt]=T:e._root=T,e;do{h=h?h[lt]=new Array(4):e._root=new Array(4),(et=n>=(Z=(C+P)/2))?C=Z:P=Z,(ot=t>=($=(I+z)/2))?I=$:z=$}while((lt=ot<<1|et)==(dt=(nt>=$)<<1|q>=Z));return h[dt]=x,h[lt]=T,e}function It(e,n,t,i,h){this.node=e,this.x0=n,this.y0=t,this.x1=i,this.y1=h}function pa(e){return e[0]}function ma(e){return e[1]}function On(e,n,t){var i=new In(n??pa,t??ma,NaN,NaN,NaN,NaN);return null==e?i:i.addAll(e)}function In(e,n,t,i,h,x){this._x=e,this._y=n,this._x0=t,this._y0=i,this._x1=h,this._y1=x,this._root=void 0}function zi(e){for(var n={data:e.data},t=n;e=e.next;)t=t.next={data:e.data};return n}var Mt=On.prototype=In.prototype;function ya(e){return e.x+e.vx}function xa(e){return e.y+e.vy}function Yi(e){var n,t,i=1,h=1;function x(){for(var I,z,Z,$,q,nt,et,P=n.length,ot=0;ot<h;++ot)for(z=On(n,ya,xa).visitAfter(T),I=0;I<P;++I)et=(nt=t[(Z=n[I]).index])*nt,$=Z.x+Z.vx,q=Z.y+Z.vy,z.visit(lt);function lt(dt,ht,xt,wt,Nt){var Ct=dt.data,Bt=dt.r,At=nt+Bt;if(!Ct)return ht>$+At||wt<$-At||xt>q+At||Nt<q-At;if(Ct.index>Z.index){var qt=$-Ct.x-Ct.vx,te=q-Ct.y-Ct.vy,Jt=qt*qt+te*te;Jt<At*At&&(0===qt&&(Jt+=(qt=Qt())*qt),0===te&&(Jt+=(te=Qt())*te),Jt=(At-(Jt=Math.sqrt(Jt)))/Jt*i,Z.vx+=(qt*=Jt)*(At=(Bt*=Bt)/(et+Bt)),Z.vy+=(te*=Jt)*At,Ct.vx-=qt*(At=1-At),Ct.vy-=te*At)}}}function T(I){if(I.data)return I.r=t[I.data.index];for(var P=I.r=0;P<4;++P)I[P]&&I[P].r>I.r&&(I.r=I[P].r)}function C(){if(n){var I,z,P=n.length;for(t=new Array(P),I=0;I<P;++I)t[(z=n[I]).index]=+e(z,I,n)}}return"function"!=typeof e&&(e=Et(null==e?1:+e)),x.initialize=function(I){n=I,C()},x.iterations=function(I){return arguments.length?(h=+I,x):h},x.strength=function(I){return arguments.length?(i=+I,x):i},x.radius=function(I){return arguments.length?(e="function"==typeof I?I:Et(+I),C(),x):e},x}Mt.copy=function(){var t,i,e=new In(this._x,this._y,this._x0,this._y0,this._x1,this._y1),n=this._root;if(!n)return e;if(!n.length)return e._root=zi(n),e;for(t=[{source:n,target:e._root=new Array(4)}];n=t.pop();)for(var h=0;h<4;++h)(i=n.source[h])&&(i.length?t.push({source:i,target:n.target[h]=new Array(4)}):n.target[h]=zi(i));return e},Mt.add=function na(e){var n=+this._x.call(null,e),t=+this._y.call(null,e);return Hi(this.cover(n,t),n,t,e)},Mt.addAll=function ia(e){var n,t,h,x,i=e.length,T=new Array(i),C=new Array(i),I=1/0,P=1/0,z=-1/0,Z=-1/0;for(t=0;t<i;++t)isNaN(h=+this._x.call(null,n=e[t]))||isNaN(x=+this._y.call(null,n))||(T[t]=h,C[t]=x,h<I&&(I=h),h>z&&(z=h),x<P&&(P=x),x>Z&&(Z=x));if(I>z||P>Z)return this;for(this.cover(I,P).cover(z,Z),t=0;t<i;++t)Hi(this,T[t],C[t],e[t]);return this},Mt.cover=function ra(e,n){if(isNaN(e=+e)||isNaN(n=+n))return this;var t=this._x0,i=this._y0,h=this._x1,x=this._y1;if(isNaN(t))h=(t=Math.floor(e))+1,x=(i=Math.floor(n))+1;else{for(var I,P,T=h-t,C=this._root;t>e||e>=h||i>n||n>=x;)switch(P=(n<i)<<1|e<t,I=new Array(4),I[P]=C,C=I,T*=2,P){case 0:h=t+T,x=i+T;break;case 1:t=h-T,x=i+T;break;case 2:h=t+T,i=x-T;break;case 3:t=h-T,i=x-T}this._root&&this._root.length&&(this._root=C)}return this._x0=t,this._y0=i,this._x1=h,this._y1=x,this},Mt.data=function sa(){var e=[];return this.visit(function(n){if(!n.length)do{e.push(n.data)}while(n=n.next)}),e},Mt.extent=function oa(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},Mt.find=function aa(e,n,t){var i,T,C,I,P,nt,et,h=this._x0,x=this._y0,z=this._x1,Z=this._y1,$=[],q=this._root;for(q&&$.push(new It(q,h,x,z,Z)),null==t?t=1/0:(h=e-t,x=n-t,z=e+t,Z=n+t,t*=t);nt=$.pop();)if(!(!(q=nt.node)||(T=nt.x0)>z||(C=nt.y0)>Z||(I=nt.x1)<h||(P=nt.y1)<x))if(q.length){var ot=(T+I)/2,lt=(C+P)/2;$.push(new It(q[3],ot,lt,I,P),new It(q[2],T,lt,ot,P),new It(q[1],ot,C,I,lt),new It(q[0],T,C,ot,lt)),(et=(n>=lt)<<1|e>=ot)&&(nt=$[$.length-1],$[$.length-1]=$[$.length-1-et],$[$.length-1-et]=nt)}else{var dt=e-+this._x.call(null,q.data),ht=n-+this._y.call(null,q.data),xt=dt*dt+ht*ht;if(xt<t){var wt=Math.sqrt(t=xt);h=e-wt,x=n-wt,z=e+wt,Z=n+wt,i=q.data}}return i},Mt.remove=function ua(e){if(isNaN(z=+this._x.call(null,e))||isNaN(Z=+this._y.call(null,e)))return this;var n,i,h,x,z,Z,$,q,nt,et,ot,lt,t=this._root,T=this._x0,C=this._y0,I=this._x1,P=this._y1;if(!t)return this;if(t.length)for(;;){if((nt=z>=($=(T+I)/2))?T=$:I=$,(et=Z>=(q=(C+P)/2))?C=q:P=q,n=t,!(t=t[ot=et<<1|nt]))return this;if(!t.length)break;(n[ot+1&3]||n[ot+2&3]||n[ot+3&3])&&(i=n,lt=ot)}for(;t.data!==e;)if(h=t,!(t=t.next))return this;return(x=t.next)&&delete t.next,h?(x?h.next=x:delete h.next,this):n?(x?n[ot]=x:delete n[ot],(t=n[0]||n[1]||n[2]||n[3])&&t===(n[3]||n[2]||n[1]||n[0])&&!t.length&&(i?i[lt]=t:this._root=t),this):(this._root=x,this)},Mt.removeAll=function la(e){for(var n=0,t=e.length;n<t;++n)this.remove(e[n]);return this},Mt.root=function ha(){return this._root},Mt.size=function ca(){var e=0;return this.visit(function(n){if(!n.length)do{++e}while(n=n.next)}),e},Mt.visit=function fa(e){var t,h,x,T,C,I,n=[],i=this._root;for(i&&n.push(new It(i,this._x0,this._y0,this._x1,this._y1));t=n.pop();)if(!e(i=t.node,x=t.x0,T=t.y0,C=t.x1,I=t.y1)&&i.length){var P=(x+C)/2,z=(T+I)/2;(h=i[3])&&n.push(new It(h,P,z,C,I)),(h=i[2])&&n.push(new It(h,x,z,P,I)),(h=i[1])&&n.push(new It(h,P,T,C,z)),(h=i[0])&&n.push(new It(h,x,T,P,z))}return this},Mt.visitAfter=function da(e){var i,n=[],t=[];for(this._root&&n.push(new It(this._root,this._x0,this._y0,this._x1,this._y1));i=n.pop();){var h=i.node;if(h.length){var x,T=i.x0,C=i.y0,I=i.x1,P=i.y1,z=(T+I)/2,Z=(C+P)/2;(x=h[0])&&n.push(new It(x,T,C,z,Z)),(x=h[1])&&n.push(new It(x,z,C,I,Z)),(x=h[2])&&n.push(new It(x,T,Z,z,P)),(x=h[3])&&n.push(new It(x,z,Z,I,P))}t.push(i)}for(;i=t.pop();)e(i.node,i.x0,i.y0,i.x1,i.y1);return this},Mt.x=function ga(e){return arguments.length?(this._x=e,this):this._x},Mt.y=function va(e){return arguments.length?(this._y=e,this):this._y};var Ft="$";function en(){}function Vi(e,n){var t=new en;if(e instanceof en)e.each(function(C,I){t.set(I,C)});else if(Array.isArray(e)){var x,i=-1,h=e.length;if(null==n)for(;++i<h;)t.set(i,e[i]);else for(;++i<h;)t.set(n(x=e[i],i,e),x)}else if(e)for(var T in e)t.set(T,e[T]);return t}en.prototype=Vi.prototype={constructor:en,has:function(e){return Ft+e in this},get:function(e){return this[Ft+e]},set:function(e,n){return this[Ft+e]=n,this},remove:function(e){var n=Ft+e;return n in this&&delete this[n]},clear:function(){for(var e in this)e[0]===Ft&&delete this[e]},keys:function(){var e=[];for(var n in this)n[0]===Ft&&e.push(n.slice(1));return e},values:function(){var e=[];for(var n in this)n[0]===Ft&&e.push(this[n]);return e},entries:function(){var e=[];for(var n in this)n[0]===Ft&&e.push({key:n.slice(1),value:this[n]});return e},size:function(){var e=0;for(var n in this)n[0]===Ft&&++e;return e},empty:function(){for(var e in this)if(e[0]===Ft)return!1;return!0},each:function(e){for(var n in this)n[0]===Ft&&e(this[n],n.slice(1),this)}};const Mn=Vi;function nn(){}var re=Mn.prototype;function Ea(e){return e.index}function $i(e,n){var t=e.get(n);if(!t)throw new Error("missing: "+n);return t}function ji(e){var i,x,T,C,I,n=Ea,t=function z(et){return 1/Math.min(C[et.source.index],C[et.target.index])},h=Et(30),P=1;function Z(et){for(var ot=0,lt=e.length;ot<P;++ot)for(var ht,xt,wt,Nt,Ct,Bt,At,dt=0;dt<lt;++dt)Nt=(wt=(ht=e[dt]).target).x+wt.vx-(xt=ht.source).x-xt.vx||Qt(),Ct=wt.y+wt.vy-xt.y-xt.vy||Qt(),Ct*=Bt=((Bt=Math.sqrt(Nt*Nt+Ct*Ct))-x[dt])/Bt*et*i[dt],wt.vx-=(Nt*=Bt)*(At=I[dt]),wt.vy-=Ct*At,xt.vx+=Nt*(At=1-At),xt.vy+=Ct*At}function $(){if(T){var et,ht,ot=T.length,lt=e.length,dt=Mn(T,n);for(et=0,C=new Array(ot);et<lt;++et)(ht=e[et]).index=et,"object"!=typeof ht.source&&(ht.source=$i(dt,ht.source)),"object"!=typeof ht.target&&(ht.target=$i(dt,ht.target)),C[ht.source.index]=(C[ht.source.index]||0)+1,C[ht.target.index]=(C[ht.target.index]||0)+1;for(et=0,I=new Array(lt);et<lt;++et)I[et]=C[(ht=e[et]).source.index]/(C[ht.source.index]+C[ht.target.index]);i=new Array(lt),q(),x=new Array(lt),nt()}}function q(){if(T)for(var et=0,ot=e.length;et<ot;++et)i[et]=+t(e[et],et,e)}function nt(){if(T)for(var et=0,ot=e.length;et<ot;++et)x[et]=+h(e[et],et,e)}return null==e&&(e=[]),Z.initialize=function(et){T=et,$()},Z.links=function(et){return arguments.length?(e=et,$(),Z):e},Z.id=function(et){return arguments.length?(n=et,Z):n},Z.iterations=function(et){return arguments.length?(P=+et,Z):P},Z.strength=function(et){return arguments.length?(t="function"==typeof et?et:Et(+et),q(),Z):t},Z.distance=function(et){return arguments.length?(h="function"==typeof et?et:Et(+et),nt(),Z):h},Z}function Ta(e){return e.x}function Ca(e){return e.y}nn.prototype=function wa(e,n){var t=new nn;if(e instanceof nn)e.each(function(x){t.add(x)});else if(e){var i=-1,h=e.length;if(null==n)for(;++i<h;)t.add(e[i]);else for(;++i<h;)t.add(n(e[i],i,e))}return t}.prototype={constructor:nn,has:re.has,add:function(e){return this[Ft+(e+="")]=e,this},remove:re.remove,clear:re.clear,values:re.keys,size:re.size,empty:re.empty,each:re.each};var Sa=Math.PI*(3-Math.sqrt(5));function Wi(e){var n,t=1,i=.001,h=1-Math.pow(i,1/300),x=0,T=.6,C=Mn(),I=je(z),P=fn("tick","end");function z(){Z(),P.call("tick",n),t<i&&(I.stop(),P.call("end",n))}function Z(nt){var et,lt,ot=e.length;void 0===nt&&(nt=1);for(var dt=0;dt<nt;++dt)for(t+=(x-t)*h,C.each(function(ht){ht(t)}),et=0;et<ot;++et)null==(lt=e[et]).fx?lt.x+=lt.vx*=T:(lt.x=lt.fx,lt.vx=0),null==lt.fy?lt.y+=lt.vy*=T:(lt.y=lt.fy,lt.vy=0);return n}function $(){for(var ot,nt=0,et=e.length;nt<et;++nt){if((ot=e[nt]).index=nt,null!=ot.fx&&(ot.x=ot.fx),null!=ot.fy&&(ot.y=ot.fy),isNaN(ot.x)||isNaN(ot.y)){var lt=10*Math.sqrt(nt),dt=nt*Sa;ot.x=lt*Math.cos(dt),ot.y=lt*Math.sin(dt)}(isNaN(ot.vx)||isNaN(ot.vy))&&(ot.vx=ot.vy=0)}}function q(nt){return nt.initialize&&nt.initialize(e),nt}return null==e&&(e=[]),$(),n={tick:Z,restart:function(){return I.restart(z),n},stop:function(){return I.stop(),n},nodes:function(nt){return arguments.length?(e=nt,$(),C.each(q),n):e},alpha:function(nt){return arguments.length?(t=+nt,n):t},alphaMin:function(nt){return arguments.length?(i=+nt,n):i},alphaDecay:function(nt){return arguments.length?(h=+nt,n):+h},alphaTarget:function(nt){return arguments.length?(x=+nt,n):x},velocityDecay:function(nt){return arguments.length?(T=1-nt,n):1-T},force:function(nt,et){return arguments.length>1?(null==et?C.remove(nt):C.set(nt,q(et)),n):C.get(nt)},find:function(nt,et,ot){var ht,xt,wt,Nt,Ct,lt=0,dt=e.length;for(null==ot?ot=1/0:ot*=ot,lt=0;lt<dt;++lt)(wt=(ht=nt-(Nt=e[lt]).x)*ht+(xt=et-Nt.y)*xt)<ot&&(Ct=Nt,ot=wt);return Ct},on:function(nt,et){return arguments.length>1?(P.on(nt,et),n):P.on(nt)}}}function Xi(){var e,n,t,h,i=Et(-30),x=1,T=1/0,C=.81;function I($){var q,nt=e.length,et=On(e,Ta,Ca).visitAfter(z);for(t=$,q=0;q<nt;++q)n=e[q],et.visit(Z)}function P(){if(e){var $,nt,q=e.length;for(h=new Array(q),$=0;$<q;++$)h[(nt=e[$]).index]=+i(nt,$,e)}}function z($){var nt,et,lt,dt,ht,q=0,ot=0;if($.length){for(lt=dt=ht=0;ht<4;++ht)(nt=$[ht])&&(et=Math.abs(nt.value))&&(q+=nt.value,ot+=et,lt+=et*nt.x,dt+=et*nt.y);$.x=lt/ot,$.y=dt/ot}else{(nt=$).x=nt.data.x,nt.y=nt.data.y;do{q+=h[nt.data.index]}while(nt=nt.next)}$.value=q}function Z($,q,nt,et){if(!$.value)return!0;var ot=$.x-n.x,lt=$.y-n.y,dt=et-q,ht=ot*ot+lt*lt;if(dt*dt/C<ht)return ht<T&&(0===ot&&(ht+=(ot=Qt())*ot),0===lt&&(ht+=(lt=Qt())*lt),ht<x&&(ht=Math.sqrt(x*ht)),n.vx+=ot*$.value*t/ht,n.vy+=lt*$.value*t/ht),!0;if(!($.length||ht>=T)){($.data!==n||$.next)&&(0===ot&&(ht+=(ot=Qt())*ot),0===lt&&(ht+=(lt=Qt())*lt),ht<x&&(ht=Math.sqrt(x*ht)));do{$.data!==n&&(n.vx+=ot*(dt=h[$.data.index]*t/ht),n.vy+=lt*dt)}while($=$.next)}}return I.initialize=function($){e=$,P()},I.strength=function($){return arguments.length?(i="function"==typeof $?$:Et(+$),P(),I):i},I.distanceMin=function($){return arguments.length?(x=$*$,I):Math.sqrt(x)},I.distanceMax=function($){return arguments.length?(T=$*$,I):Math.sqrt(T)},I.theta=function($){return arguments.length?(C=$*$,I):Math.sqrt(C)},I}function Oa(e,n,t){var i,x,T,h=Et(.1);function C(P){for(var z=0,Z=i.length;z<Z;++z){var $=i[z],q=$.x-n||1e-6,nt=$.y-t||1e-6,et=Math.sqrt(q*q+nt*nt),ot=(T[z]-et)*x[z]*P/et;$.vx+=q*ot,$.vy+=nt*ot}}function I(){if(i){var P,z=i.length;for(x=new Array(z),T=new Array(z),P=0;P<z;++P)T[P]=+e(i[P],P,i),x[P]=isNaN(T[P])?0:+h(i[P],P,i)}}return"function"!=typeof e&&(e=Et(+e)),null==n&&(n=0),null==t&&(t=0),C.initialize=function(P){i=P,I()},C.strength=function(P){return arguments.length?(h="function"==typeof P?P:Et(+P),I(),C):h},C.radius=function(P){return arguments.length?(e="function"==typeof P?P:Et(+P),I(),C):e},C.x=function(P){return arguments.length?(n=+P,C):n},C.y=function(P){return arguments.length?(t=+P,C):t},C}function Ia(e){var t,i,h,n=Et(.1);function x(C){for(var z,I=0,P=t.length;I<P;++I)(z=t[I]).vx+=(h[I]-z.x)*i[I]*C}function T(){if(t){var C,I=t.length;for(i=new Array(I),h=new Array(I),C=0;C<I;++C)i[C]=isNaN(h[C]=+e(t[C],C,t))?0:+n(t[C],C,t)}}return"function"!=typeof e&&(e=Et(null==e?0:+e)),x.initialize=function(C){t=C,T()},x.strength=function(C){return arguments.length?(n="function"==typeof C?C:Et(+C),T(),x):n},x.x=function(C){return arguments.length?(e="function"==typeof C?C:Et(+C),T(),x):e},x}function Ma(e){var t,i,h,n=Et(.1);function x(C){for(var z,I=0,P=t.length;I<P;++I)(z=t[I]).vy+=(h[I]-z.y)*i[I]*C}function T(){if(t){var C,I=t.length;for(i=new Array(I),h=new Array(I),C=0;C<I;++C)i[C]=isNaN(h[C]=+e(t[C],C,t))?0:+n(t[C],C,t)}}return"function"!=typeof e&&(e=Et(null==e?0:+e)),x.initialize=function(C){t=C,T()},x.strength=function(C){return arguments.length?(n="function"==typeof C?C:Et(+C),T(),x):n},x.y=function(C){return arguments.length?(e="function"==typeof C?C:Et(+C),T(),x):e},x}var Na=r(7824);function La(e,n,t){var i=new Ce,h=n;return null==n?(i.restart(e,n,t),i):(n=+n,t=null==t?he():+t,i.restart(function x(T){T+=h,i.restart(x,h+=n,t),e(T)},n,t),i)}const Da=["linkTemplate"],Fa=["nodeTemplate"],Pa=["clusterTemplate"],ka=["defsTemplate"],Ga=["miniMapNodeTemplate"],Ba=["nodeElement"],Ra=["linkElement"];function Ha(e,n){if(1&e&&(s.O4$(),s.GkF(0,14)),2&e){const t=s.oxw(2);s.Q6J("ngTemplateOutlet",t.defsTemplate)}}function za(e,n){if(1&e&&(s.O4$(),s._UZ(0,"path",15)),2&e){const t=n.$implicit;s.uIk("d",t.textPath)("id",t.id)}}const De=function(e){return{$implicit:e}};function Ya(e,n){if(1&e&&(s.O4$(),s.GkF(0,20)),2&e){const t=s.oxw().$implicit,i=s.oxw(2);s.Q6J("ngTemplateOutlet",i.clusterTemplate)("ngTemplateOutletContext",s.VKq(2,De,t))}}function Va(e,n){if(1&e&&(s.O4$(),s.TgZ(0,"g",21),s._UZ(1,"rect"),s.TgZ(2,"text",22),s._uU(3),s.qZA()()),2&e){const t=s.oxw().$implicit;s.xp6(1),s.uIk("width",t.dimension.width)("height",t.dimension.height)("fill",null==t.data?null:t.data.color),s.xp6(1),s.uIk("x",10)("y",t.dimension.height/2),s.xp6(1),s.hij(" ",t.label," ")}}function Ua(e,n){if(1&e){const t=s.EpF();s.O4$(),s.TgZ(0,"g",16,17),s.NdJ("click",function(){const x=s.CHM(t).$implicit,T=s.oxw(2);return s.KtG(T.onClick(x))}),s.YNc(2,Ya,1,4,"ng-container",18),s.YNc(3,Va,4,6,"g",19),s.qZA()}if(2&e){const t=n.$implicit,i=s.oxw(2);s.ekj("old-node",i.animate&&i.oldClusters.has(t.id)),s.Q6J("id",t.id),s.uIk("transform",t.transform),s.xp6(2),s.Q6J("ngIf",i.clusterTemplate),s.xp6(1),s.Q6J("ngIf",!i.clusterTemplate)}}function Za(e,n){if(1&e&&(s.O4$(),s.GkF(0,20)),2&e){const t=s.oxw().$implicit,i=s.oxw(2);s.Q6J("ngTemplateOutlet",i.linkTemplate)("ngTemplateOutletContext",s.VKq(2,De,t))}}function $a(e,n){if(1&e&&(s.O4$(),s._UZ(0,"path",26)),2&e){const t=s.oxw().$implicit;s.uIk("d",t.line)}}function ja(e,n){if(1&e&&(s.O4$(),s.TgZ(0,"g",23,24),s.YNc(2,Za,1,4,"ng-container",18),s.YNc(3,$a,1,1,"path",25),s.qZA()),2&e){const t=n.$implicit,i=s.oxw(2);s.Q6J("id",t.id),s.xp6(2),s.Q6J("ngIf",i.linkTemplate),s.xp6(1),s.Q6J("ngIf",!i.linkTemplate)}}function Wa(e,n){if(1&e&&(s.O4$(),s.GkF(0,20)),2&e){const t=s.oxw().$implicit,i=s.oxw(2);s.Q6J("ngTemplateOutlet",i.nodeTemplate)("ngTemplateOutletContext",s.VKq(2,De,t))}}function Xa(e,n){if(1&e&&(s.O4$(),s._UZ(0,"circle",30)),2&e){const t=s.oxw().$implicit;s.uIk("cx",t.dimension.width/2)("cy",t.dimension.height/2)("fill",null==t.data?null:t.data.color)}}function Ja(e,n){if(1&e){const t=s.EpF();s.O4$(),s.TgZ(0,"g",27,28),s.NdJ("click",function(){const x=s.CHM(t).$implicit,T=s.oxw(2);return s.KtG(T.onClick(x))})("mousedown",function(h){const T=s.CHM(t).$implicit,C=s.oxw(2);return s.KtG(C.onNodeMouseDown(h,T))}),s.YNc(2,Wa,1,4,"ng-container",18),s.YNc(3,Xa,1,3,"circle",29),s.qZA()}if(2&e){const t=n.$implicit,i=s.oxw(2);s.ekj("old-node",i.animate&&i.oldNodes.has(t.id)),s.Q6J("id",t.id),s.uIk("transform",t.transform),s.xp6(2),s.Q6J("ngIf",i.nodeTemplate),s.xp6(1),s.Q6J("ngIf",!i.nodeTemplate)}}function Ka(e,n){if(1&e){const t=s.EpF();s.O4$(),s.TgZ(0,"g",4),s.NdJ("touchstart",function(h){s.CHM(t);const x=s.oxw();return s.KtG(x.onTouchStart(h))})("touchend",function(h){s.CHM(t);const x=s.oxw();return s.KtG(x.onTouchEnd(h))}),s.TgZ(1,"defs"),s.YNc(2,Ha,1,1,"ng-container",5),s.YNc(3,za,1,2,"path",6),s.qZA(),s.TgZ(4,"rect",7),s.NdJ("mousedown",function(){s.CHM(t);const h=s.oxw();return s.KtG(h.isPanning=!0)}),s.qZA(),s.Hsn(5),s.TgZ(6,"g",8),s.YNc(7,Ua,4,6,"g",9),s.qZA(),s.TgZ(8,"g",10),s.YNc(9,ja,4,3,"g",11),s.qZA(),s.TgZ(10,"g",12),s.YNc(11,Ja,4,6,"g",13),s.qZA()()}if(2&e){const t=s.oxw();s.uIk("transform",t.transform),s.xp6(2),s.Q6J("ngIf",t.defsTemplate),s.xp6(1),s.Q6J("ngForOf",t.graph.edges),s.xp6(1),s.uIk("width",100*t.dims.width)("height",100*t.dims.height)("transform","translate("+50*(-t.dims.width||0)+","+50*(-t.dims.height||0)+")"),s.xp6(3),s.Q6J("ngForOf",t.graph.clusters)("ngForTrackBy",t.trackNodeBy),s.xp6(2),s.Q6J("ngForOf",t.graph.edges)("ngForTrackBy",t.trackLinkBy),s.xp6(2),s.Q6J("ngForOf",t.graph.nodes)("ngForTrackBy",t.trackNodeBy)}}function Qa(e,n){if(1&e&&(s.O4$(),s.GkF(0,20)),2&e){const t=s.oxw().$implicit,i=s.oxw(2);s.Q6J("ngTemplateOutlet",i.miniMapNodeTemplate)("ngTemplateOutletContext",s.VKq(2,De,t))}}function qa(e,n){if(1&e&&(s.O4$(),s.GkF(0,20)),2&e){const t=s.oxw().$implicit,i=s.oxw(2);s.Q6J("ngTemplateOutlet",i.nodeTemplate)("ngTemplateOutletContext",s.VKq(2,De,t))}}function tu(e,n){if(1&e&&(s.O4$(),s._UZ(0,"circle",30)),2&e){const t=s.oxw().$implicit,i=s.oxw(2);s.uIk("cx",t.dimension.width/2/i.minimapScaleCoefficient)("cy",t.dimension.height/2/i.minimapScaleCoefficient)("fill",null==t.data?null:t.data.color)}}function eu(e,n){if(1&e&&(s.O4$(),s.TgZ(0,"g",36,28),s.YNc(2,Qa,1,4,"ng-container",18),s.YNc(3,qa,1,4,"ng-container",18),s.YNc(4,tu,1,3,"circle",29),s.qZA()),2&e){const t=n.$implicit,i=s.oxw(2);s.ekj("old-node",i.animate&&i.oldNodes.has(t.id)),s.Q6J("id",t.id),s.uIk("transform",t.transform),s.xp6(2),s.Q6J("ngIf",i.miniMapNodeTemplate),s.xp6(1),s.Q6J("ngIf",!i.miniMapNodeTemplate&&i.nodeTemplate),s.xp6(1),s.Q6J("ngIf",!i.nodeTemplate&&!i.miniMapNodeTemplate)}}function nu(e,n){if(1&e){const t=s.EpF();s.O4$(),s.TgZ(0,"g",31)(1,"rect",32),s.NdJ("mousedown",function(h){s.CHM(t);const x=s.oxw();return s.KtG(x.onMinimapPanTo(h))}),s.qZA(),s.TgZ(2,"g")(3,"g",33),s.YNc(4,eu,5,7,"g",34),s.qZA(),s.TgZ(5,"rect",35),s.NdJ("mousedown",function(){s.CHM(t);const h=s.oxw();return s.KtG(h.onMinimapDragMouseDown())}),s.qZA()()()}if(2&e){const t=s.oxw();s.uIk("transform",t.minimapTransform)("clip-path","url(#"+t.minimapClipPathId+")"),s.xp6(1),s.uIk("width",t.graphDims.width/t.minimapScaleCoefficient)("height",t.graphDims.height/t.minimapScaleCoefficient),s.xp6(1),s.Udp("transform","translate("+-t.minimapOffsetX/t.minimapScaleCoefficient+"px,"+-t.minimapOffsetY/t.minimapScaleCoefficient+"px)"),s.xp6(1),s.Udp("transform","scale("+1/t.minimapScaleCoefficient+")"),s.xp6(1),s.Q6J("ngForOf",t.graph.nodes)("ngForTrackBy",t.trackNodeBy),s.xp6(1),s.ekj("panning",t.isMinimapPanning),s.uIk("transform","translate("+t.panOffsetX/t.zoomLevel/-t.minimapScaleCoefficient+","+t.panOffsetY/t.zoomLevel/-t.minimapScaleCoefficient+")")("width",t.width/t.minimapScaleCoefficient/t.zoomLevel)("height",t.height/t.minimapScaleCoefficient/t.zoomLevel)}}const iu=["*"],Ji={};function Xt(){let e=("0000"+(Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4);return e=`a${e}`,Ji[e]?Xt():(Ji[e]=!0,e)}var ge=(()=>{return(e=ge||(ge={})).Both="both",e.Horizontal="horizontal",e.Vertical="vertical",ge;var e})(),me=(()=>{return(e=me||(me={})).UpperLeft="UpperLeft",e.UpperRight="UpperRight",me;var e})();function ru(e,n,t){t=t||{};let i,h,x,T=null,C=0;function I(){C=!1===t.leading?0:+new Date,T=null,x=e.apply(i,h)}return function(...P){const z=+new Date;!C&&!1===t.leading&&(C=z);const Z=n-(z-C);return i=this,h=P,Z<=0?(clearTimeout(T),T=null,C=z,x=e.apply(i,h)):!T&&!1!==t.trailing&&(T=setTimeout(I,Z)),x}}function su(e,n){return function(i,h,x){return{configurable:!0,enumerable:x.enumerable,get:function(){return Object.defineProperty(this,h,{configurable:!0,enumerable:x.enumerable,value:ru(x.value,e,n)}),this[h]}}}}const Ki=[{name:"vivid",selectable:!0,group:"Ordinal",domain:["#647c8a","#3f51b5","#2196f3","#00b862","#afdf0a","#a7b61a","#f3e562","#ff9800","#ff5722","#ff4514"]},{name:"natural",selectable:!0,group:"Ordinal",domain:["#bf9d76","#e99450","#d89f59","#f2dfa7","#a5d7c6","#7794b1","#afafaf","#707160","#ba9383","#d9d5c3"]},{name:"cool",selectable:!0,group:"Ordinal",domain:["#a8385d","#7aa3e5","#a27ea8","#aae3f5","#adcded","#a95963","#8796c0","#7ed3ed","#50abcc","#ad6886"]},{name:"fire",selectable:!0,group:"Ordinal",domain:["#ff3d00","#bf360c","#ff8f00","#ff6f00","#ff5722","#e65100","#ffca28","#ffab00"]},{name:"solar",selectable:!0,group:"Continuous",domain:["#fff8e1","#ffecb3","#ffe082","#ffd54f","#ffca28","#ffc107","#ffb300","#ffa000","#ff8f00","#ff6f00"]},{name:"air",selectable:!0,group:"Continuous",domain:["#e1f5fe","#b3e5fc","#81d4fa","#4fc3f7","#29b6f6","#03a9f4","#039be5","#0288d1","#0277bd","#01579b"]},{name:"aqua",selectable:!0,group:"Continuous",domain:["#e0f7fa","#b2ebf2","#80deea","#4dd0e1","#26c6da","#00bcd4","#00acc1","#0097a7","#00838f","#006064"]},{name:"flame",selectable:!1,group:"Ordinal",domain:["#A10A28","#D3342D","#EF6D49","#FAAD67","#FDDE90","#DBED91","#A9D770","#6CBA67","#2C9653","#146738"]},{name:"ocean",selectable:!1,group:"Ordinal",domain:["#1D68FB","#33C0FC","#4AFFFE","#AFFFFF","#FFFC63","#FDBD2D","#FC8A25","#FA4F1E","#FA141B","#BA38D1"]},{name:"forest",selectable:!1,group:"Ordinal",domain:["#55C22D","#C1F33D","#3CC099","#AFFFFF","#8CFC9D","#76CFFA","#BA60FB","#EE6490","#C42A1C","#FC9F32"]},{name:"horizon",selectable:!1,group:"Ordinal",domain:["#2597FB","#65EBFD","#99FDD0","#FCEE4B","#FEFCFA","#FDD6E3","#FCB1A8","#EF6F7B","#CB96E8","#EFDEE0"]},{name:"neons",selectable:!1,group:"Ordinal",domain:["#FF3333","#FF33FF","#CC33FF","#0000FF","#33CCFF","#33FFFF","#33FF66","#CCFF33","#FFCC00","#FF6600"]},{name:"picnic",selectable:!1,group:"Ordinal",domain:["#FAC51D","#66BD6D","#FAA026","#29BB9C","#E96B56","#55ACD2","#B7332F","#2C83C9","#9166B8","#92E7E8"]},{name:"night",selectable:!1,group:"Ordinal",domain:["#2B1B5A","#501356","#183356","#28203F","#391B3C","#1E2B3C","#120634","#2D0432","#051932","#453080","#75267D","#2C507D","#4B3880","#752F7D","#35547D"]},{name:"nightLights",selectable:!1,group:"Ordinal",domain:["#4e31a5","#9c25a7","#3065ab","#57468b","#904497","#46648b","#32118d","#a00fb3","#1052a2","#6e51bd","#b63cc3","#6c97cb","#8671c1","#b455be","#7496c3"]}];class ou{constructor(n,t,i){"string"==typeof n&&(n=Ki.find(h=>h.name===n)),this.colorDomain=n.domain,this.domain=t,this.customColors=i,this.scale=this.generateColorScheme(n,this.domain)}generateColorScheme(n,t){return"string"==typeof n&&(n=Ki.find(i=>i.name===n)),Ri().range(n.domain).domain(t)}getColor(n){if(null==n)throw new Error("Value can not be null");if("function"==typeof this.customColors)return this.customColors(n);const t=n.toString();let i;return this.customColors&&this.customColors.length>0&&(i=this.customColors.find(h=>h.name.toLowerCase()===t.toLowerCase())),i?i.value:this.scale(n)}}let uu=(()=>{class e{constructor(t,i){this.element=t,this.zone=i,this.visible=new s.vpe,this.isVisible=!1,this.runCheck()}destroy(){clearTimeout(this.timeout)}onVisibilityChange(){this.zone.run(()=>{this.isVisible=!0,this.visible.emit(!0)})}runCheck(){const t=()=>{if(!this.element)return;const{offsetHeight:i,offsetWidth:h}=this.element.nativeElement;i&&h?(clearTimeout(this.timeout),this.onVisibilityChange()):(clearTimeout(this.timeout),this.zone.runOutsideAngular(()=>{this.timeout=setTimeout(()=>t(),100)}))};this.zone.runOutsideAngular(()=>{this.timeout=setTimeout(()=>t())})}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(s.SBq),s.Y36(s.R0b))},e.\u0275dir=s.lG2({type:e,selectors:[["visibility-observer"]],outputs:{visible:"visible"}}),e})();var ve=(()=>{return(e=ve||(ve={})).LEFT_TO_RIGHT="LR",e.RIGHT_TO_LEFT="RL",e.TOP_TO_BOTTOM="TB",e.BOTTOM_TO_TOM="BT",ve;var e})();function ye(e){return"string"==typeof e?{id:e,x:0,y:0}:e}function qi(e,n){return"number"==typeof n?e[n]:n}const tr={dagre:class lu{constructor(){this.defaultSettings={orientation:ve.LEFT_TO_RIGHT,marginX:20,marginY:20,edgePadding:100,rankPadding:100,nodePadding:50,multigraph:!0,compound:!0},this.settings={}}run(n){this.createDagreGraph(n),S.layout(this.dagreGraph),n.edgeLabels=this.dagreGraph._edgeLabels;for(const t in this.dagreGraph._nodes){const i=this.dagreGraph._nodes[t],h=n.nodes.find(x=>x.id===i.id);h.position={x:i.x,y:i.y},h.dimension={width:i.width,height:i.height}}return n}updateEdge(n,t){const i=n.nodes.find(I=>I.id===t.source),h=n.nodes.find(I=>I.id===t.target),x=i.position.y<=h.position.y?-1:1;return t.points=[{x:i.position.x,y:i.position.y-x*(i.dimension.height/2)},{x:h.position.x,y:h.position.y+x*(h.dimension.height/2)}],n}createDagreGraph(n){const t=Object.assign({},this.defaultSettings,this.settings);this.dagreGraph=new S.graphlib.Graph({compound:t.compound,multigraph:t.multigraph}),this.dagreGraph.setGraph({rankdir:t.orientation,marginx:t.marginX,marginy:t.marginY,edgesep:t.edgePadding,ranksep:t.rankPadding,nodesep:t.nodePadding,align:t.align,acyclicer:t.acyclicer,ranker:t.ranker,multigraph:t.multigraph,compound:t.compound}),this.dagreGraph.setDefaultEdgeLabel(()=>({})),this.dagreNodes=n.nodes.map(i=>{const h=Object.assign({},i);return h.width=i.dimension.width,h.height=i.dimension.height,h.x=i.position.x,h.y=i.position.y,h}),this.dagreEdges=n.edges.map(i=>{const h=Object.assign({},i);return h.id||(h.id=Xt()),h});for(const i of this.dagreNodes)i.width||(i.width=20),i.height||(i.height=30),this.dagreGraph.setNode(i.id,i);for(const i of this.dagreEdges)t.multigraph?this.dagreGraph.setEdge(i.source,i.target,i,i.id):this.dagreGraph.setEdge(i.source,i.target);return this.dagreGraph}},dagreCluster:class hu{constructor(){this.defaultSettings={orientation:ve.LEFT_TO_RIGHT,marginX:20,marginY:20,edgePadding:100,rankPadding:100,nodePadding:50,multigraph:!0,compound:!0},this.settings={}}run(n){this.createDagreGraph(n),S.layout(this.dagreGraph),n.edgeLabels=this.dagreGraph._edgeLabels;const t=i=>{const h=this.dagreGraph._nodes[i.id];return{...i,position:{x:h.x,y:h.y},dimension:{width:h.width,height:h.height}}};return n.clusters=(n.clusters||[]).map(t),n.nodes=n.nodes.map(t),n}updateEdge(n,t){const i=n.nodes.find(I=>I.id===t.source),h=n.nodes.find(I=>I.id===t.target),x=i.position.y<=h.position.y?-1:1;return t.points=[{x:i.position.x,y:i.position.y-x*(i.dimension.height/2)},{x:h.position.x,y:h.position.y+x*(h.dimension.height/2)}],n}createDagreGraph(n){const t=Object.assign({},this.defaultSettings,this.settings);this.dagreGraph=new S.graphlib.Graph({compound:t.compound,multigraph:t.multigraph}),this.dagreGraph.setGraph({rankdir:t.orientation,marginx:t.marginX,marginy:t.marginY,edgesep:t.edgePadding,ranksep:t.rankPadding,nodesep:t.nodePadding,align:t.align,acyclicer:t.acyclicer,ranker:t.ranker,multigraph:t.multigraph,compound:t.compound}),this.dagreGraph.setDefaultEdgeLabel(()=>({})),this.dagreNodes=n.nodes.map(i=>{const h=Object.assign({},i);return h.width=i.dimension.width,h.height=i.dimension.height,h.x=i.position.x,h.y=i.position.y,h}),this.dagreClusters=n.clusters||[],this.dagreEdges=n.edges.map(i=>{const h=Object.assign({},i);return h.id||(h.id=Xt()),h});for(const i of this.dagreNodes)this.dagreGraph.setNode(i.id,i);for(const i of this.dagreClusters)this.dagreGraph.setNode(i.id,i),i.childNodeIds.forEach(h=>{this.dagreGraph.setParent(h,i.id)});for(const i of this.dagreEdges)t.multigraph?this.dagreGraph.setEdge(i.source,i.target,i,i.id):this.dagreGraph.setEdge(i.source,i.target);return this.dagreGraph}},dagreNodesOnly:class fu{constructor(){this.defaultSettings={orientation:ve.LEFT_TO_RIGHT,marginX:20,marginY:20,edgePadding:100,rankPadding:100,nodePadding:50,curveDistance:20,multigraph:!0,compound:!0},this.settings={}}run(n){this.createDagreGraph(n),S.layout(this.dagreGraph),n.edgeLabels=this.dagreGraph._edgeLabels;for(const t in this.dagreGraph._nodes){const i=this.dagreGraph._nodes[t],h=n.nodes.find(x=>x.id===i.id);h.position={x:i.x,y:i.y},h.dimension={width:i.width,height:i.height}}for(const t of n.edges)this.updateEdge(n,t);return n}updateEdge(n,t){const i=n.nodes.find(nt=>nt.id===t.source),h=n.nodes.find(nt=>nt.id===t.target),x="BT"===this.settings.orientation||"TB"===this.settings.orientation?"y":"x",T="y"===x?"x":"y",C="y"===x?"height":"width",I=i.position[x]<=h.position[x]?-1:1,P={[T]:i.position[T],[x]:i.position[x]-I*(i.dimension[C]/2)},z={[T]:h.position[T],[x]:h.position[x]+I*(h.dimension[C]/2)},Z=this.settings.curveDistance||this.defaultSettings.curveDistance;t.points=[P,{[T]:P[T],[x]:P[x]-I*Z},{[T]:z[T],[x]:z[x]+I*Z},z];const q=n.edgeLabels[`${t.source}\x01${t.target}\x01\0`];return q&&(q.points=t.points),n}createDagreGraph(n){const t=Object.assign({},this.defaultSettings,this.settings);this.dagreGraph=new S.graphlib.Graph({compound:t.compound,multigraph:t.multigraph}),this.dagreGraph.setGraph({rankdir:t.orientation,marginx:t.marginX,marginy:t.marginY,edgesep:t.edgePadding,ranksep:t.rankPadding,nodesep:t.nodePadding,align:t.align,acyclicer:t.acyclicer,ranker:t.ranker,multigraph:t.multigraph,compound:t.compound}),this.dagreGraph.setDefaultEdgeLabel(()=>({})),this.dagreNodes=n.nodes.map(i=>{const h=Object.assign({},i);return h.width=i.dimension.width,h.height=i.dimension.height,h.x=i.position.x,h.y=i.position.y,h}),this.dagreEdges=n.edges.map(i=>{const h=Object.assign({},i);return h.id||(h.id=Xt()),h});for(const i of this.dagreNodes)i.width||(i.width=20),i.height||(i.height=30),this.dagreGraph.setNode(i.id,i);for(const i of this.dagreEdges)t.multigraph?this.dagreGraph.setEdge(i.source,i.target,i,i.id):this.dagreGraph.setEdge(i.source,i.target);return this.dagreGraph}},d3ForceDirected:class du{constructor(){this.defaultSettings={force:Wi().force("charge",Xi().strength(-150)).force("collide",Yi(5)),forceLink:ji().id(n=>n.id).distance(()=>100)},this.settings={},this.outputGraph$=new de.x}run(n){return this.inputGraph=n,this.d3Graph={nodes:[...this.inputGraph.nodes.map(t=>({...t}))],edges:[...this.inputGraph.edges.map(t=>({...t}))]},this.outputGraph={nodes:[],edges:[],edgeLabels:[]},this.outputGraph$.next(this.outputGraph),this.settings=Object.assign({},this.defaultSettings,this.settings),this.settings.force&&this.settings.force.nodes(this.d3Graph.nodes).force("link",this.settings.forceLink.links(this.d3Graph.edges)).alpha(.5).restart().on("tick",()=>{this.outputGraph$.next(this.d3GraphToOutputGraph(this.d3Graph))}),this.outputGraph$.asObservable()}updateEdge(n,t){const i=Object.assign({},this.defaultSettings,this.settings);return i.force&&i.force.nodes(this.d3Graph.nodes).force("link",i.forceLink.links(this.d3Graph.edges)).alpha(.5).restart().on("tick",()=>{this.outputGraph$.next(this.d3GraphToOutputGraph(this.d3Graph))}),this.outputGraph$.asObservable()}d3GraphToOutputGraph(n){return this.outputGraph.nodes=this.d3Graph.nodes.map(t=>({...t,id:t.id||Xt(),position:{x:t.x,y:t.y},dimension:{width:t.dimension&&t.dimension.width||20,height:t.dimension&&t.dimension.height||20},transform:`translate(${t.x-(t.dimension&&t.dimension.width||20)/2||0}, ${t.y-(t.dimension&&t.dimension.height||20)/2||0})`})),this.outputGraph.edges=this.d3Graph.edges.map(t=>({...t,source:ye(t.source).id,target:ye(t.target).id,points:[{x:ye(t.source).x,y:ye(t.source).y},{x:ye(t.target).x,y:ye(t.target).y}]})),this.outputGraph.edgeLabels=this.outputGraph.edges,this.outputGraph}onDragStart(n,t){this.settings.force.alphaTarget(.3).restart();const i=this.d3Graph.nodes.find(h=>h.id===n.id);!i||(this.draggingStart={x:t.x-i.x,y:t.y-i.y},i.fx=t.x-this.draggingStart.x,i.fy=t.y-this.draggingStart.y)}onDrag(n,t){if(!n)return;const i=this.d3Graph.nodes.find(h=>h.id===n.id);!i||(i.fx=t.x-this.draggingStart.x,i.fy=t.y-this.draggingStart.y)}onDragEnd(n,t){if(!n)return;const i=this.d3Graph.nodes.find(h=>h.id===n.id);!i||(this.settings.force.alphaTarget(0),i.fx=void 0,i.fy=void 0)}},colaForceDirected:class pu{constructor(){this.defaultSettings={force:(0,Na.d3adaptor)({...y,...o,...m}).linkDistance(150).avoidOverlaps(!0),viewDimensions:{width:600,height:600}},this.settings={},this.outputGraph$=new de.x}run(n){return this.inputGraph=n,this.inputGraph.clusters||(this.inputGraph.clusters=[]),this.internalGraph={nodes:[...this.inputGraph.nodes.map(t=>({...t,width:t.dimension?t.dimension.width:20,height:t.dimension?t.dimension.height:20}))],groups:[...this.inputGraph.clusters.map(t=>({padding:5,groups:t.childNodeIds.map(i=>this.inputGraph.clusters.findIndex(h=>h.id===i)).filter(i=>i>=0),leaves:t.childNodeIds.map(i=>this.inputGraph.nodes.findIndex(h=>h.id===i)).filter(i=>i>=0)}))],links:[...this.inputGraph.edges.map(t=>{const i=this.inputGraph.nodes.findIndex(x=>t.source===x.id),h=this.inputGraph.nodes.findIndex(x=>t.target===x.id);if(-1!==i&&-1!==h)return{...t,source:i,target:h}}).filter(t=>!!t)],groupLinks:[...this.inputGraph.edges.map(t=>{const i=this.inputGraph.nodes.findIndex(x=>t.source===x.id),h=this.inputGraph.nodes.findIndex(x=>t.target===x.id);if(!(i>=0&&h>=0))return t}).filter(t=>!!t)]},this.outputGraph={nodes:[],clusters:[],edges:[],edgeLabels:[]},this.outputGraph$.next(this.outputGraph),this.settings=Object.assign({},this.defaultSettings,this.settings),this.settings.force&&(this.settings.force=this.settings.force.nodes(this.internalGraph.nodes).groups(this.internalGraph.groups).links(this.internalGraph.links).alpha(.5).on("tick",()=>{this.settings.onTickListener&&this.settings.onTickListener(this.internalGraph),this.outputGraph$.next(this.internalGraphToOutputGraph(this.internalGraph))}),this.settings.viewDimensions&&(this.settings.force=this.settings.force.size([this.settings.viewDimensions.width,this.settings.viewDimensions.height])),this.settings.forceModifierFn&&(this.settings.force=this.settings.forceModifierFn(this.settings.force)),this.settings.force.start()),this.outputGraph$.asObservable()}updateEdge(n,t){const i=Object.assign({},this.defaultSettings,this.settings);return i.force&&i.force.start(),this.outputGraph$.asObservable()}internalGraphToOutputGraph(n){return this.outputGraph.nodes=n.nodes.map(t=>({...t,id:t.id||Xt(),position:{x:t.x,y:t.y},dimension:{width:t.dimension&&t.dimension.width||20,height:t.dimension&&t.dimension.height||20},transform:`translate(${t.x-(t.dimension&&t.dimension.width||20)/2||0}, ${t.y-(t.dimension&&t.dimension.height||20)/2||0})`})),this.outputGraph.edges=n.links.map(t=>{const i=qi(n.nodes,t.source),h=qi(n.nodes,t.target);return{...t,source:i.id,target:h.id,points:[i.bounds.rayIntersection(h.bounds.cx(),h.bounds.cy()),h.bounds.rayIntersection(i.bounds.cx(),i.bounds.cy())]}}).concat(n.groupLinks.map(t=>{const i=n.nodes.find(C=>C.id===t.source),h=n.nodes.find(C=>C.id===t.target),x=i||n.groups.find(C=>C.id===t.source),T=h||n.groups.find(C=>C.id===t.target);return{...t,source:x.id,target:T.id,points:[x.bounds.rayIntersection(T.bounds.cx(),T.bounds.cy()),T.bounds.rayIntersection(x.bounds.cx(),x.bounds.cy())]}})),this.outputGraph.clusters=n.groups.map((t,i)=>({...this.inputGraph.clusters[i],dimension:{width:t.bounds?t.bounds.width():20,height:t.bounds?t.bounds.height():20},position:{x:t.bounds?t.bounds.x+t.bounds.width()/2:0,y:t.bounds?t.bounds.y+t.bounds.height()/2:0}})),this.outputGraph.edgeLabels=this.outputGraph.edges,this.outputGraph}onDragStart(n,t){const i=this.outputGraph.nodes.findIndex(x=>x.id===n.id),h=this.internalGraph.nodes[i];!h||(this.draggingStart={x:h.x-t.x,y:h.y-t.y},h.fixed=1,this.settings.force.start())}onDrag(n,t){if(!n)return;const i=this.outputGraph.nodes.findIndex(x=>x.id===n.id),h=this.internalGraph.nodes[i];!h||(h.x=this.draggingStart.x+t.x,h.y=this.draggingStart.y+t.y)}onDragEnd(n,t){if(!n)return;const i=this.outputGraph.nodes.findIndex(x=>x.id===n.id),h=this.internalGraph.nodes[i];!h||(h.fixed=0)}}};let er=(()=>{class e{getLayout(t){if(tr[t])return new tr[t];throw new Error(`Unknown layout type '${t}'`)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e})(),gu=(()=>{class e{constructor(){this.mouseWheelUp=new s.vpe,this.mouseWheelDown=new s.vpe}onMouseWheelChrome(t){this.mouseWheelFunc(t)}onMouseWheelFirefox(t){this.mouseWheelFunc(t)}onWheel(t){this.mouseWheelFunc(t)}onMouseWheelIE(t){this.mouseWheelFunc(t)}mouseWheelFunc(t){window.event&&(t=window.event);const i=Math.max(-1,Math.min(1,t.wheelDelta||-t.detail||t.deltaY||t.deltaX)),x=t.wheelDelta?i<0:i>0;(t.wheelDelta?i>0:i<0)?this.mouseWheelUp.emit(t):x&&this.mouseWheelDown.emit(t),t.returnValue=!1,t.preventDefault&&t.preventDefault()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=s.lG2({type:e,selectors:[["","mouseWheel",""]],hostBindings:function(t,i){1&t&&s.NdJ("mousewheel",function(x){return i.onMouseWheelChrome(x)})("DOMMouseScroll",function(x){return i.onMouseWheelFirefox(x)})("wheel",function(x){return i.onWheel(x)})("onmousewheel",function(x){return i.onMouseWheelIE(x)})},outputs:{mouseWheelUp:"mouseWheelUp",mouseWheelDown:"mouseWheelDown"}}),e})(),mu=(()=>{class e{constructor(t,i,h,x){this.el=t,this.zone=i,this.cd=h,this.layoutService=x,this.nodes=[],this.clusters=[],this.links=[],this.activeEntries=[],this.draggingEnabled=!0,this.panningEnabled=!0,this.panningAxis=ge.Both,this.enableZoom=!0,this.zoomSpeed=.1,this.minZoomLevel=.1,this.maxZoomLevel=4,this.autoZoom=!1,this.panOnZoom=!0,this.animate=!1,this.autoCenter=!1,this.enableTrackpadSupport=!1,this.showMiniMap=!1,this.miniMapMaxWidth=100,this.miniMapPosition=me.UpperRight,this.scheme="cool",this.animations=!0,this.select=new s.vpe,this.activate=new s.vpe,this.deactivate=new s.vpe,this.zoomChange=new s.vpe,this.clickHandler=new s.vpe,this.isMouseMoveCalled=!1,this.graphSubscription=new Si.w0,this.subscriptions=[],this.isPanning=!1,this.isDragging=!1,this.initialized=!1,this.graphDims={width:0,height:0},this._oldLinks=[],this.oldNodes=new Set,this.oldClusters=new Set,this.transformationMatrix={a:1,c:0,e:0,b:0,d:1,f:0},this._touchLastX=null,this._touchLastY=null,this.minimapScaleCoefficient=3,this.minimapOffsetX=0,this.minimapOffsetY=0,this.isMinimapPanning=!1,this.groupResultsBy=T=>T.label}get zoomLevel(){return this.transformationMatrix.a}set zoomLevel(t){this.zoomTo(Number(t))}get panOffsetX(){return this.transformationMatrix.e}set panOffsetX(t){this.panTo(Number(t),null)}get panOffsetY(){return this.transformationMatrix.f}set panOffsetY(t){this.panTo(null,Number(t))}ngOnInit(){this.update$&&this.subscriptions.push(this.update$.subscribe(()=>{this.update()})),this.center$&&this.subscriptions.push(this.center$.subscribe(()=>{this.center()})),this.zoomToFit$&&this.subscriptions.push(this.zoomToFit$.subscribe(()=>{this.zoomToFit()})),this.panToNode$&&this.subscriptions.push(this.panToNode$.subscribe(t=>{this.panToNodeId(t)})),this.minimapClipPathId=`minimapClip${Xt()}`}ngOnChanges(t){this.basicUpdate();const{layoutSettings:h}=t;this.setLayout(this.layout),h&&this.setLayoutSettings(this.layoutSettings),this.update()}setLayout(t){this.initialized=!1,t||(t="dagre"),"string"==typeof t&&(this.layout=this.layoutService.getLayout(t),this.setLayoutSettings(this.layoutSettings))}setLayoutSettings(t){this.layout&&"string"!=typeof this.layout&&(this.layout.settings=t)}ngOnDestroy(){this.unbindEvents(),this.visibilityObserver&&(this.visibilityObserver.visible.unsubscribe(),this.visibilityObserver.destroy());for(const t of this.subscriptions)t.unsubscribe();this.subscriptions=null}ngAfterViewInit(){this.bindWindowResizeEvent(),this.visibilityObserver=new uu(this.el,this.zone),this.visibilityObserver.visible.subscribe(this.update.bind(this)),setTimeout(()=>this.update())}update(){this.basicUpdate(),this.curve||(this.curve=Kr.beta(1)),this.zone.run(()=>{this.dims=function au({width:e,height:n}){let t=e,i=n;return t=Math.max(0,t),i=Math.max(0,i),{width:Math.floor(t),height:Math.floor(i)}}({width:this.width,height:this.height}),this.seriesDomain=this.getSeriesDomain(),this.setColors(),this.createGraph(),this.updateTransform(),this.initialized=!0})}createGraph(){this.graphSubscription.unsubscribe(),this.graphSubscription=new Si.w0;const t=i=>(i.meta||(i.meta={}),i.id||(i.id=Xt()),i.dimension?i.meta.forceDimensions=void 0===i.meta.forceDimensions||i.meta.forceDimensions:(i.dimension={width:this.nodeWidth?this.nodeWidth:30,height:this.nodeHeight?this.nodeHeight:30},i.meta.forceDimensions=!1),i.position={x:0,y:0},i.data=i.data?i.data:{},i);this.graph={nodes:this.nodes.length>0?[...this.nodes].map(t):[],clusters:this.clusters&&this.clusters.length>0?[...this.clusters].map(t):[],edges:this.links.length>0?[...this.links].map(i=>(i.id||(i.id=Xt()),i)):[]},requestAnimationFrame(()=>this.draw())}draw(){if(!this.layout||"string"==typeof this.layout)return;this.applyNodeDimensions();const t=this.layout.run(this.graph),i=t instanceof Oi.y?t:(0,Ii.of)(t);this.graphSubscription.add(i.subscribe(h=>{this.graph=h,this.tick()})),0!==this.graph.nodes.length&&i.pipe((0,Ro.P)()).subscribe(()=>this.applyNodeDimensions())}tick(){const t=new Set;this.graph.nodes.map(x=>{x.transform=`translate(${x.position.x-x.dimension.width/2||0}, ${x.position.y-x.dimension.height/2||0})`,x.data||(x.data={}),x.data.color=this.colors.getColor(this.groupResultsBy(x)),t.add(x.id)});const i=new Set;(this.graph.clusters||[]).map(x=>{x.transform=`translate(${x.position.x-x.dimension.width/2||0}, ${x.position.y-x.dimension.height/2||0})`,x.data||(x.data={}),x.data.color=this.colors.getColor(this.groupResultsBy(x)),i.add(x.id)}),setTimeout(()=>{this.oldNodes=t,this.oldClusters=i},500);const h=[];for(const x in this.graph.edgeLabels){const T=this.graph.edgeLabels[x],C=x.replace(/[^\w-]*/g,""),I=this.layout&&"string"!=typeof this.layout&&this.layout.settings&&this.layout.settings.multigraph;let P=this._oldLinks.find(I?et=>`${et.source}${et.target}${et.id}`===C:et=>`${et.source}${et.target}`===C);const z=this.graph.edges.find(I?et=>`${et.source}${et.target}${et.id}`===C:et=>`${et.source}${et.target}`===C);P?P.data&&z&&z.data&&JSON.stringify(P.data)!==JSON.stringify(z.data)&&(P.data=z.data):P=z||T,P.oldLine=P.line;const Z=T.points,$=this.generateLine(Z),q=Object.assign({},P);q.line=$,q.points=Z,this.updateMidpointOnEdge(q,Z);const nt=Z[Math.floor(Z.length/2)];nt&&(q.textTransform=`translate(${nt.x||0},${nt.y||0})`),q.textAngle=0,q.oldLine||(q.oldLine=q.line),this.calcDominantBaseline(q),h.push(q)}this.graph.edges=h,this.graph.edges&&(this._oldLinks=this.graph.edges.map(x=>{const T=Object.assign({},x);return T.oldLine=x.line,T})),this.updateMinimap(),this.autoZoom&&this.zoomToFit(),this.autoCenter&&this.center(),requestAnimationFrame(()=>this.redrawLines()),this.cd.markForCheck()}getMinimapTransform(){switch(this.miniMapPosition){case me.UpperLeft:return"";case me.UpperRight:return"translate("+(this.dims.width-this.graphDims.width/this.minimapScaleCoefficient)+",0)";default:return""}}updateGraphDims(){let t=1/0,i=-1/0,h=1/0,x=-1/0;for(let T=0;T<this.graph.nodes.length;T++){const C=this.graph.nodes[T];t=C.position.x<t?C.position.x:t,h=C.position.y<h?C.position.y:h,i=C.position.x+C.dimension.width>i?C.position.x+C.dimension.width:i,x=C.position.y+C.dimension.height>x?C.position.y+C.dimension.height:x}t-=100,h-=100,i+=100,x+=100,this.graphDims.width=i-t,this.graphDims.height=x-h,this.minimapOffsetX=t,this.minimapOffsetY=h}updateMinimap(){this.graph.nodes&&this.graph.nodes.length&&(this.updateGraphDims(),this.miniMapMaxWidth&&(this.minimapScaleCoefficient=this.graphDims.width/this.miniMapMaxWidth),this.miniMapMaxHeight&&(this.minimapScaleCoefficient=Math.max(this.minimapScaleCoefficient,this.graphDims.height/this.miniMapMaxHeight)),this.minimapTransform=this.getMinimapTransform())}applyNodeDimensions(){this.nodeElements&&this.nodeElements.length&&this.nodeElements.map(t=>{const i=t.nativeElement,h=this.graph.nodes.find(T=>T.id===i.id);if(!h)return;let x;try{if(x=i.getBBox(),!x.width||!x.height)return}catch{return}if(h.dimension.height=this.nodeHeight?h.dimension.height&&h.meta.forceDimensions?h.dimension.height:this.nodeHeight:h.dimension.height&&h.meta.forceDimensions?h.dimension.height:x.height,this.nodeMaxHeight&&(h.dimension.height=Math.max(h.dimension.height,this.nodeMaxHeight)),this.nodeMinHeight&&(h.dimension.height=Math.min(h.dimension.height,this.nodeMinHeight)),this.nodeWidth)h.dimension.width=h.dimension.width&&h.meta.forceDimensions?h.dimension.width:this.nodeWidth;else if(i.getElementsByTagName("text").length){let T;try{for(const C of i.getElementsByTagName("text")){const I=C.getBBox();T?(I.width>T.width&&(T.width=I.width),I.height>T.height&&(T.height=I.height)):T=I}}catch{return}h.dimension.width=h.dimension.width&&h.meta.forceDimensions?h.dimension.width:T.width+20}else h.dimension.width=h.dimension.width&&h.meta.forceDimensions?h.dimension.width:x.width;this.nodeMaxWidth&&(h.dimension.width=Math.max(h.dimension.width,this.nodeMaxWidth)),this.nodeMinWidth&&(h.dimension.width=Math.min(h.dimension.width,this.nodeMinWidth))})}redrawLines(t=this.animate){this.linkElements.map(i=>{const h=this.graph.edges.find(x=>x.id===i.nativeElement.id);h&&(Yn(i.nativeElement).select(".line").attr("d",h.oldLine).transition().ease(Xn).duration(t?500:0).attr("d",h.line),Yn(this.el.nativeElement).select(`#${h.id}`).attr("d",h.oldTextPath).transition().ease(Xn).duration(t?500:0).attr("d",h.textPath),this.updateMidpointOnEdge(h,h.points))})}calcDominantBaseline(t){const i=t.points[0],h=t.points[t.points.length-1];t.oldTextPath=t.textPath,h.x<i.x?(t.dominantBaseline="text-before-edge",t.textPath=this.generateLine([...t.points].reverse())):(t.dominantBaseline="text-after-edge",t.textPath=t.line)}generateLine(t){return function is(){var e=es,n=ns,t=Ye(!0),i=null,h=ts,x=null;function T(C){var I,z,$,P=C.length,Z=!1;for(null==i&&(x=h($=qr())),I=0;I<=P;++I)!(I<P&&t(z=C[I],I,C))===Z&&((Z=!Z)?x.lineStart():x.lineEnd()),Z&&x.point(+e(z,I,C),+n(z,I,C));if($)return x=null,$+""||null}return T.x=function(C){return arguments.length?(e="function"==typeof C?C:Ye(+C),T):e},T.y=function(C){return arguments.length?(n="function"==typeof C?C:Ye(+C),T):n},T.defined=function(C){return arguments.length?(t="function"==typeof C?C:Ye(!!C),T):t},T.curve=function(C){return arguments.length?(h=C,null!=i&&(x=h(i)),T):h},T.context=function(C){return arguments.length?(null==C?i=x=null:x=h(i=C),T):i},T}().x(h=>h.x).y(h=>h.y).curve(this.curve)(t)}onZoom(t,i){if(this.enableTrackpadSupport&&!t.ctrlKey)return void this.pan(-1*t.deltaX,-1*t.deltaY);const h=1+("in"===i?this.zoomSpeed:-this.zoomSpeed),x=this.zoomLevel*h;if(!(x<=this.minZoomLevel||x>=this.maxZoomLevel)&&this.enableZoom)if(!0===this.panOnZoom&&t){const T=t.clientX,C=t.clientY,I=this.el.nativeElement.querySelector("svg"),P=I.querySelector("g.chart"),z=I.createSVGPoint();z.x=T,z.y=C;const Z=z.matrixTransform(P.getScreenCTM().inverse());this.pan(Z.x,Z.y,!0),this.zoom(h),this.pan(-Z.x,-Z.y,!0)}else this.zoom(h)}pan(t,i,h=!1){const x=h?1:this.zoomLevel;this.transformationMatrix=Le(this.transformationMatrix,Di(t/x,i/x)),this.updateTransform()}panTo(t,i){null==t||isNaN(t)||null==i||isNaN(i)||(this.transformationMatrix=Le(this.transformationMatrix,Di((-this.panOffsetX-t*this.zoomLevel+this.dims.width/2)/this.zoomLevel,(-this.panOffsetY-i*this.zoomLevel+this.dims.height/2)/this.zoomLevel)),this.updateTransform())}zoom(t){this.transformationMatrix=Le(this.transformationMatrix,function Wo(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return jo(n)&&(n=e),{a:e,c:0,e:0,b:0,d:n,f:0}}(t,t)),this.zoomChange.emit(this.zoomLevel),this.updateTransform()}zoomTo(t){this.transformationMatrix.a=isNaN(t)?this.transformationMatrix.a:Number(t),this.transformationMatrix.d=isNaN(t)?this.transformationMatrix.d:Number(t),this.zoomChange.emit(this.zoomLevel),this.updateTransform(),this.update()}onDrag(t){if(!this.draggingEnabled)return;const i=this.draggingNode;this.layout&&"string"!=typeof this.layout&&this.layout.onDrag&&this.layout.onDrag(i,t),i.position.x+=t.movementX/this.zoomLevel,i.position.y+=t.movementY/this.zoomLevel,i.transform=`translate(${i.position.x-i.dimension.width/2}, ${i.position.y-i.dimension.height/2})`;for(const T of this.graph.edges)if((T.target===i.id||T.source===i.id||T.target.id===i.id||T.source.id===i.id)&&this.layout&&"string"!=typeof this.layout){const C=this.layout.updateEdge(this.graph,T),I=C instanceof Oi.y?C:(0,Ii.of)(C);this.graphSubscription.add(I.subscribe(P=>{this.graph=P,this.redrawEdge(T)}))}this.redrawLines(!1),this.updateMinimap()}redrawEdge(t){const i=this.generateLine(t.points);this.calcDominantBaseline(t),t.oldLine=t.line,t.line=i}updateTransform(){this.transform=function Jo(e){return function Li(e){return"matrix("+e.a+","+e.b+","+e.c+","+e.d+","+e.e+","+e.f+")"}(e)}(function qo(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e10;return{a:Math.round(e.a*n)/n,b:Math.round(e.b*n)/n,c:Math.round(e.c*n)/n,d:Math.round(e.d*n)/n,e:Math.round(e.e*n)/n,f:Math.round(e.f*n)/n}}(this.transformationMatrix,100))}onClick(t){this.select.emit(t)}onActivate(t){this.activeEntries.indexOf(t)>-1||(this.activeEntries=[t,...this.activeEntries],this.activate.emit({value:t,entries:this.activeEntries}))}onDeactivate(t){const i=this.activeEntries.indexOf(t);this.activeEntries.splice(i,1),this.activeEntries=[...this.activeEntries],this.deactivate.emit({value:t,entries:this.activeEntries})}getSeriesDomain(){return this.nodes.map(t=>this.groupResultsBy(t)).reduce((t,i)=>-1!==t.indexOf(i)?t:t.concat([i]),[]).sort()}trackLinkBy(t,i){return i.id}trackNodeBy(t,i){return i.id}setColors(){this.colors=new ou(this.scheme,this.seriesDomain,this.customColors)}onMouseMove(t){this.isMouseMoveCalled=!0,(this.isPanning||this.isMinimapPanning)&&this.panningEnabled?this.panWithConstraints(this.panningAxis,t):this.isDragging&&this.draggingEnabled&&this.onDrag(t)}onMouseDown(t){this.isMouseMoveCalled=!1}graphClick(t){this.isMouseMoveCalled||this.clickHandler.emit(t)}onTouchStart(t){this._touchLastX=t.changedTouches[0].clientX,this._touchLastY=t.changedTouches[0].clientY,this.isPanning=!0}onTouchMove(t){if(this.isPanning&&this.panningEnabled){const i=t.changedTouches[0].clientX,h=t.changedTouches[0].clientY,x=i-this._touchLastX,T=h-this._touchLastY;this._touchLastX=i,this._touchLastY=h,this.pan(x,T)}}onTouchEnd(t){this.isPanning=!1}onMouseUp(t){this.isDragging=!1,this.isPanning=!1,this.isMinimapPanning=!1,this.layout&&"string"!=typeof this.layout&&this.layout.onDragEnd&&this.layout.onDragEnd(this.draggingNode,t)}onNodeMouseDown(t,i){!this.draggingEnabled||(this.isDragging=!0,this.draggingNode=i,this.layout&&"string"!=typeof this.layout&&this.layout.onDragStart&&this.layout.onDragStart(i,t))}onMinimapDragMouseDown(){this.isMinimapPanning=!0}onMinimapPanTo(t){this.panTo((t.offsetX-(this.dims.width-(this.graphDims.width+this.minimapOffsetX)/this.minimapScaleCoefficient))*this.minimapScaleCoefficient,(t.offsetY+this.minimapOffsetY/this.minimapScaleCoefficient)*this.minimapScaleCoefficient),this.isMinimapPanning=!0}center(){this.panTo(this.graphDims.width/2,this.graphDims.height/2)}zoomToFit(){let h=Math.min(this.dims.height/this.graphDims.height,this.dims.width/this.graphDims.width,1);h<this.minZoomLevel&&(h=this.minZoomLevel),h>this.maxZoomLevel&&(h=this.maxZoomLevel),h!==this.zoomLevel&&(this.zoomLevel=h,this.updateTransform(),this.zoomChange.emit(this.zoomLevel))}panToNodeId(t){const i=this.graph.nodes.find(h=>h.id===t);!i||this.panTo(i.position.x,i.position.y)}panWithConstraints(t,i){let h=i.movementX,x=i.movementY;switch(this.isMinimapPanning&&(h=-this.minimapScaleCoefficient*h*this.zoomLevel,x=-this.minimapScaleCoefficient*x*this.zoomLevel),t){case ge.Horizontal:this.pan(h,0);break;case ge.Vertical:this.pan(0,x);break;default:this.pan(h,x)}}updateMidpointOnEdge(t,i){if(t&&i)if(i.length%2==1)t.midPoint=i[Math.floor(i.length/2)];else{const h=i[i.length/2],x=i[i.length/2-1];t.midPoint={x:(h.x+x.x)/2,y:(h.y+x.y)/2}}}basicUpdate(){if(this.view)this.width=this.view[0],this.height=this.view[1];else{const t=this.getContainerDims();t&&(this.width=t.width,this.height=t.height)}this.width||(this.width=600),this.height||(this.height=400),this.width=Math.floor(this.width),this.height=Math.floor(this.height),this.cd&&this.cd.markForCheck()}getContainerDims(){let t,i;const h=this.el.nativeElement;if(null!==h.parentNode){const x=h.parentNode.getBoundingClientRect();t=x.width,i=x.height}return t&&i?{width:t,height:i}:null}unbindEvents(){this.resizeSubscription&&this.resizeSubscription.unsubscribe()}bindWindowResizeEvent(){const i=(0,Ne.R)(window,"resize").pipe((0,Mi.b)(200)).subscribe(h=>{this.update(),this.cd&&this.cd.markForCheck()});this.resizeSubscription=i}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(s.SBq),s.Y36(s.R0b),s.Y36(s.sBO),s.Y36(er))},e.\u0275cmp=s.Xpm({type:e,selectors:[["ngx-graph"]],contentQueries:function(t,i,h){if(1&t&&(s.Suo(h,Da,5),s.Suo(h,Fa,5),s.Suo(h,Pa,5),s.Suo(h,ka,5),s.Suo(h,Ga,5)),2&t){let x;s.iGM(x=s.CRH())&&(i.linkTemplate=x.first),s.iGM(x=s.CRH())&&(i.nodeTemplate=x.first),s.iGM(x=s.CRH())&&(i.clusterTemplate=x.first),s.iGM(x=s.CRH())&&(i.defsTemplate=x.first),s.iGM(x=s.CRH())&&(i.miniMapNodeTemplate=x.first)}},viewQuery:function(t,i){if(1&t&&(s.Gf(Ba,5),s.Gf(Ra,5)),2&t){let h;s.iGM(h=s.CRH())&&(i.nodeElements=h),s.iGM(h=s.CRH())&&(i.linkElements=h)}},hostBindings:function(t,i){1&t&&s.NdJ("mousemove",function(x){return i.onMouseMove(x)},!1,s.evT)("mousedown",function(x){return i.onMouseDown(x)},!1,s.evT)("click",function(x){return i.graphClick(x)},!1,s.evT)("touchmove",function(x){return i.onTouchMove(x)},!1,s.evT)("mouseup",function(x){return i.onMouseUp(x)},!1,s.evT)},inputs:{nodes:"nodes",clusters:"clusters",links:"links",activeEntries:"activeEntries",curve:"curve",draggingEnabled:"draggingEnabled",nodeHeight:"nodeHeight",nodeMaxHeight:"nodeMaxHeight",nodeMinHeight:"nodeMinHeight",nodeWidth:"nodeWidth",nodeMinWidth:"nodeMinWidth",nodeMaxWidth:"nodeMaxWidth",panningEnabled:"panningEnabled",panningAxis:"panningAxis",enableZoom:"enableZoom",zoomSpeed:"zoomSpeed",minZoomLevel:"minZoomLevel",maxZoomLevel:"maxZoomLevel",autoZoom:"autoZoom",panOnZoom:"panOnZoom",animate:"animate",autoCenter:"autoCenter",update$:"update$",center$:"center$",zoomToFit$:"zoomToFit$",panToNode$:"panToNode$",layout:"layout",layoutSettings:"layoutSettings",enableTrackpadSupport:"enableTrackpadSupport",showMiniMap:"showMiniMap",miniMapMaxWidth:"miniMapMaxWidth",miniMapMaxHeight:"miniMapMaxHeight",miniMapPosition:"miniMapPosition",view:"view",scheme:"scheme",customColors:"customColors",animations:"animations",groupResultsBy:"groupResultsBy",zoomLevel:"zoomLevel",panOffsetX:"panOffsetX",panOffsetY:"panOffsetY"},outputs:{select:"select",activate:"activate",deactivate:"deactivate",zoomChange:"zoomChange",clickHandler:"clickHandler"},features:[s.TTD],ngContentSelectors:iu,decls:6,vars:11,consts:[["mouseWheel","",1,"ngx-charts-outer",3,"mouseWheelUp","mouseWheelDown"],[1,"ngx-charts"],["class","graph chart",3,"touchstart","touchend",4,"ngIf"],["class","minimap",4,"ngIf"],[1,"graph","chart",3,"touchstart","touchend"],[3,"ngTemplateOutlet",4,"ngIf"],["class","text-path",4,"ngFor","ngForOf"],[1,"panning-rect",3,"mousedown"],[1,"clusters"],["class","node-group",3,"old-node","id","click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"links"],["class","link-group",3,"id",4,"ngFor","ngForOf","ngForTrackBy"],[1,"nodes"],["class","node-group",3,"old-node","id","click","mousedown",4,"ngFor","ngForOf","ngForTrackBy"],[3,"ngTemplateOutlet"],[1,"text-path"],[1,"node-group",3,"id","click"],["clusterElement",""],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngIf"],["class","node cluster",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"node","cluster"],["alignment-baseline","central"],[1,"link-group",3,"id"],["linkElement",""],["class","edge",4,"ngIf"],[1,"edge"],[1,"node-group",3,"id","click","mousedown"],["nodeElement",""],["r","10",4,"ngIf"],["r","10"],[1,"minimap"],[1,"minimap-background",3,"mousedown"],[1,"minimap-nodes"],["class","node-group",3,"old-node","id",4,"ngFor","ngForOf","ngForTrackBy"],[1,"minimap-drag",3,"mousedown"],[1,"node-group",3,"id"]],template:function(t,i){1&t&&(s.F$t(),s.TgZ(0,"div",0),s.NdJ("mouseWheelUp",function(x){return i.onZoom(x,"in")})("mouseWheelDown",function(x){return i.onZoom(x,"out")}),s.O4$(),s.TgZ(1,"svg",1),s.YNc(2,Ka,12,12,"g",2),s.TgZ(3,"clipPath"),s._UZ(4,"rect"),s.qZA(),s.YNc(5,nu,6,15,"g",3),s.qZA()()),2&t&&(s.Udp("width",i.width,"px"),s.Q6J("@animationState","active")("@.disabled",!i.animations),s.xp6(1),s.uIk("width",i.width)("height",i.height),s.xp6(1),s.Q6J("ngIf",i.initialized&&i.graph),s.xp6(1),s.uIk("id",i.minimapClipPathId),s.xp6(1),s.uIk("width",i.graphDims.width/i.minimapScaleCoefficient)("height",i.graphDims.height/i.minimapScaleCoefficient),s.xp6(1),s.Q6J("ngIf",i.showMiniMap))},dependencies:[gu,v.O5,v.tP,v.sg],styles:[".minimap .minimap-background{fill:#0000001a}.minimap .minimap-drag{fill:#0003;stroke:#fff;stroke-width:1px;stroke-dasharray:2px;stroke-dashoffset:2px;cursor:pointer}.minimap .minimap-drag.panning{fill:#0000004d}.minimap .minimap-nodes{opacity:.5;pointer-events:none}.graph{-webkit-user-select:none;user-select:none}.graph .edge{stroke:#666;fill:none}.graph .edge .edge-label{stroke:none;font-size:12px;fill:#251e1e}.graph .panning-rect{fill:#0000;cursor:move}.graph .node-group.old-node{transition:transform .5s ease-in-out}.graph .node-group .node:focus{outline:none}.graph .cluster rect{opacity:.2}\n"],encapsulation:2,data:{animation:[(0,D.X$)("animationState",[(0,D.eR)(":enter",[(0,D.oB)({opacity:0}),(0,D.jt)("500ms 100ms",(0,D.oB)({opacity:1}))])])]},changeDetection:0}),(0,L.gn)([su(500)],e.prototype,"updateMinimap",null),e})(),vu=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({providers:[er],imports:[[v.ez]]}),e})(),yu=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({imports:[[v.ez],vu]}),e})();var nr=r(4006),xe=r(2722),xu=r(3601),_u=r(8675),bu=r(8505),wu=r(9300),Eu=r(4004),Tu=r(6406),Cu=r(3101),Nn=r(6451);const Au=["content"],Su=["scroll"],Ou=["padding"],Fe=function(e){return{searchTerm:e}};function Iu(e,n){if(1&e&&(s.TgZ(0,"div",6),s.GkF(1,7),s.qZA()),2&e){const t=s.oxw();s.xp6(1),s.Q6J("ngTemplateOutlet",t.headerTemplate)("ngTemplateOutletContext",s.VKq(2,Fe,t.filterValue))}}function Mu(e,n){if(1&e&&(s.TgZ(0,"div",8),s.GkF(1,7),s.qZA()),2&e){const t=s.oxw();s.xp6(1),s.Q6J("ngTemplateOutlet",t.footerTemplate)("ngTemplateOutletContext",s.VKq(2,Fe,t.filterValue))}}const ir=["*"],Nu=["searchInput"];function Lu(e,n){if(1&e){const t=s.EpF();s.TgZ(0,"span",15),s.NdJ("click",function(){s.CHM(t);const h=s.oxw().$implicit,x=s.oxw(2);return s.KtG(x.unselect(h))}),s._uU(1,"\xd7"),s.qZA(),s._UZ(2,"span",16)}if(2&e){const t=s.oxw().$implicit,i=s.oxw(2);s.xp6(2),s.Q6J("ngItemLabel",t.label)("escape",i.escapeHTML)}}function Du(e,n){}const Fu=function(e,n,t){return{item:e,clear:n,label:t}};function Pu(e,n){if(1&e&&(s.TgZ(0,"div",12),s.YNc(1,Lu,3,2,"ng-template",null,13,s.W1O),s.YNc(3,Du,0,0,"ng-template",14),s.qZA()),2&e){const t=n.$implicit,i=s.MAs(2),h=s.oxw(2);s.ekj("ng-value-disabled",t.disabled),s.xp6(3),s.Q6J("ngTemplateOutlet",h.labelTemplate||i)("ngTemplateOutletContext",s.kEZ(4,Fu,t.value,h.clearItem,t.label))}}function ku(e,n){if(1&e&&(s.ynx(0),s.YNc(1,Pu,4,8,"div",11),s.BQk()),2&e){const t=s.oxw();s.xp6(1),s.Q6J("ngForOf",t.selectedItems)("ngForTrackBy",t.trackByOption)}}function Gu(e,n){}const Bu=function(e,n){return{items:e,clear:n}};function Ru(e,n){if(1&e&&s.YNc(0,Gu,0,0,"ng-template",14),2&e){const t=s.oxw();s.Q6J("ngTemplateOutlet",t.multiLabelTemplate)("ngTemplateOutletContext",s.WLB(2,Bu,t.selectedValues,t.clearItem))}}function Hu(e,n){1&e&&s._UZ(0,"div",19)}function zu(e,n){}function Yu(e,n){if(1&e&&(s.ynx(0),s.YNc(1,Hu,1,0,"ng-template",null,17,s.W1O),s.YNc(3,zu,0,0,"ng-template",18),s.BQk()),2&e){const t=s.MAs(2),i=s.oxw();s.xp6(3),s.Q6J("ngTemplateOutlet",i.loadingSpinnerTemplate||t)}}function Vu(e,n){if(1&e&&(s.TgZ(0,"span",20)(1,"span",21),s._uU(2,"\xd7"),s.qZA()()),2&e){const t=s.oxw();s.s9C("title",t.clearAllText)}}function Uu(e,n){if(1&e&&s._UZ(0,"span",27),2&e){const t=s.oxw().$implicit,i=s.oxw(2);s.Q6J("ngItemLabel",t.label)("escape",i.escapeHTML)}}function Zu(e,n){}const $u=function(e,n,t,i){return{item:e,item$:n,index:t,searchTerm:i}};function ju(e,n){if(1&e){const t=s.EpF();s.TgZ(0,"div",25),s.NdJ("click",function(){const x=s.CHM(t).$implicit,T=s.oxw(2);return s.KtG(T.toggleItem(x))})("mouseover",function(){const x=s.CHM(t).$implicit,T=s.oxw(2);return s.KtG(T.onItemHover(x))}),s.YNc(1,Uu,1,2,"ng-template",null,26,s.W1O),s.YNc(3,Zu,0,0,"ng-template",14),s.qZA()}if(2&e){const t=n.$implicit,i=s.MAs(2),h=s.oxw(2);s.ekj("ng-option-disabled",t.disabled)("ng-option-selected",t.selected)("ng-optgroup",t.children)("ng-option",!t.children)("ng-option-child",!!t.parent)("ng-option-marked",t===h.itemsList.markedItem),s.uIk("role",t.children?"group":"option")("aria-selected",t.selected)("id",null==t?null:t.htmlId),s.xp6(3),s.Q6J("ngTemplateOutlet",t.children?h.optgroupTemplate||i:h.optionTemplate||i)("ngTemplateOutletContext",s.l5B(17,$u,t.value,t,t.index,h.searchTerm))}}function Wu(e,n){if(1&e&&(s.TgZ(0,"span")(1,"span",30),s._uU(2),s.qZA(),s._uU(3),s.qZA()),2&e){const t=s.oxw(3);s.xp6(2),s.Oqu(t.addTagText),s.xp6(1),s.hij('"',t.searchTerm,'"')}}function Xu(e,n){}function Ju(e,n){if(1&e){const t=s.EpF();s.TgZ(0,"div",28),s.NdJ("mouseover",function(){s.CHM(t);const h=s.oxw(2);return s.KtG(h.itemsList.unmarkItem())})("click",function(){s.CHM(t);const h=s.oxw(2);return s.KtG(h.selectTag())}),s.YNc(1,Wu,4,2,"ng-template",null,29,s.W1O),s.YNc(3,Xu,0,0,"ng-template",14),s.qZA()}if(2&e){const t=s.MAs(2),i=s.oxw(2);s.ekj("ng-option-marked",!i.itemsList.markedItem),s.xp6(3),s.Q6J("ngTemplateOutlet",i.tagTemplate||t)("ngTemplateOutletContext",s.VKq(4,Fe,i.searchTerm))}}function Ku(e,n){if(1&e&&(s.TgZ(0,"div",32),s._uU(1),s.qZA()),2&e){const t=s.oxw(3);s.xp6(1),s.Oqu(t.notFoundText)}}function Qu(e,n){}function qu(e,n){if(1&e&&(s.ynx(0),s.YNc(1,Ku,2,1,"ng-template",null,31,s.W1O),s.YNc(3,Qu,0,0,"ng-template",14),s.BQk()),2&e){const t=s.MAs(2),i=s.oxw(2);s.xp6(3),s.Q6J("ngTemplateOutlet",i.notFoundTemplate||t)("ngTemplateOutletContext",s.VKq(2,Fe,i.searchTerm))}}function tl(e,n){if(1&e&&(s.TgZ(0,"div",32),s._uU(1),s.qZA()),2&e){const t=s.oxw(3);s.xp6(1),s.Oqu(t.typeToSearchText)}}function el(e,n){}function nl(e,n){if(1&e&&(s.ynx(0),s.YNc(1,tl,2,1,"ng-template",null,33,s.W1O),s.YNc(3,el,0,0,"ng-template",18),s.BQk()),2&e){const t=s.MAs(2),i=s.oxw(2);s.xp6(3),s.Q6J("ngTemplateOutlet",i.typeToSearchTemplate||t)}}function il(e,n){if(1&e&&(s.TgZ(0,"div",32),s._uU(1),s.qZA()),2&e){const t=s.oxw(3);s.xp6(1),s.Oqu(t.loadingText)}}function rl(e,n){}function sl(e,n){if(1&e&&(s.ynx(0),s.YNc(1,il,2,1,"ng-template",null,34,s.W1O),s.YNc(3,rl,0,0,"ng-template",14),s.BQk()),2&e){const t=s.MAs(2),i=s.oxw(2);s.xp6(3),s.Q6J("ngTemplateOutlet",i.loadingTextTemplate||t)("ngTemplateOutletContext",s.VKq(2,Fe,i.searchTerm))}}function ol(e,n){if(1&e){const t=s.EpF();s.TgZ(0,"ng-dropdown-panel",22),s.NdJ("update",function(h){s.CHM(t);const x=s.oxw();return s.KtG(x.viewPortItems=h)})("scroll",function(h){s.CHM(t);const x=s.oxw();return s.KtG(x.scroll.emit(h))})("scrollToEnd",function(h){s.CHM(t);const x=s.oxw();return s.KtG(x.scrollToEnd.emit(h))})("outsideClick",function(){s.CHM(t);const h=s.oxw();return s.KtG(h.close())}),s.ynx(1),s.YNc(2,ju,4,22,"div",23),s.YNc(3,Ju,4,6,"div",24),s.BQk(),s.YNc(4,qu,4,4,"ng-container",3),s.YNc(5,nl,4,1,"ng-container",3),s.YNc(6,sl,4,4,"ng-container",3),s.qZA()}if(2&e){const t=s.oxw();s.ekj("ng-select-multiple",t.multiple),s.Q6J("virtualScroll",t.virtualScroll)("bufferAmount",t.bufferAmount)("appendTo",t.appendTo)("position",t.dropdownPosition)("headerTemplate",t.headerTemplate)("footerTemplate",t.footerTemplate)("filterValue",t.searchTerm)("items",t.itemsList.filteredItems)("markedItem",t.itemsList.markedItem)("ngClass",t.appendTo?t.classes:null)("id",t.dropdownId),s.xp6(2),s.Q6J("ngForOf",t.viewPortItems)("ngForTrackBy",t.trackByOption),s.xp6(1),s.Q6J("ngIf",t.showAddTag),s.xp6(1),s.Q6J("ngIf",t.showNoItemsFound()),s.xp6(1),s.Q6J("ngIf",t.showTypeToSearch()),s.xp6(1),s.Q6J("ngIf",t.loading&&0===t.itemsList.filteredItems.length)}}const rr=/[&<>"']/g,al=RegExp(rr.source),ul={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function bt(e){return null!=e}function Pe(e){return"object"==typeof e&&bt(e)}function rn(e){return e instanceof Function}let cl=(()=>{class e{constructor(t){this.element=t,this.escape=!0}ngOnChanges(t){this.element.nativeElement.innerHTML=this.escape?function ll(e){return e&&al.test(e)?e.replace(rr,n=>ul[n]):e}(this.ngItemLabel):this.ngItemLabel}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(s.SBq))},e.\u0275dir=s.lG2({type:e,selectors:[["","ngItemLabel",""]],inputs:{ngItemLabel:"ngItemLabel",escape:"escape"},features:[s.TTD]}),e})(),fl=(()=>{class e{constructor(t){this.template=t}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(s.Rgc))},e.\u0275dir=s.lG2({type:e,selectors:[["","ng-option-tmp",""]]}),e})(),dl=(()=>{class e{constructor(t){this.template=t}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(s.Rgc))},e.\u0275dir=s.lG2({type:e,selectors:[["","ng-optgroup-tmp",""]]}),e})(),pl=(()=>{class e{constructor(t){this.template=t}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(s.Rgc))},e.\u0275dir=s.lG2({type:e,selectors:[["","ng-label-tmp",""]]}),e})(),gl=(()=>{class e{constructor(t){this.template=t}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(s.Rgc))},e.\u0275dir=s.lG2({type:e,selectors:[["","ng-multi-label-tmp",""]]}),e})(),ml=(()=>{class e{constructor(t){this.template=t}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(s.Rgc))},e.\u0275dir=s.lG2({type:e,selectors:[["","ng-header-tmp",""]]}),e})(),vl=(()=>{class e{constructor(t){this.template=t}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(s.Rgc))},e.\u0275dir=s.lG2({type:e,selectors:[["","ng-footer-tmp",""]]}),e})(),yl=(()=>{class e{constructor(t){this.template=t}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(s.Rgc))},e.\u0275dir=s.lG2({type:e,selectors:[["","ng-notfound-tmp",""]]}),e})(),xl=(()=>{class e{constructor(t){this.template=t}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(s.Rgc))},e.\u0275dir=s.lG2({type:e,selectors:[["","ng-typetosearch-tmp",""]]}),e})(),_l=(()=>{class e{constructor(t){this.template=t}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(s.Rgc))},e.\u0275dir=s.lG2({type:e,selectors:[["","ng-loadingtext-tmp",""]]}),e})(),bl=(()=>{class e{constructor(t){this.template=t}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(s.Rgc))},e.\u0275dir=s.lG2({type:e,selectors:[["","ng-tag-tmp",""]]}),e})(),wl=(()=>{class e{constructor(t){this.template=t}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(s.Rgc))},e.\u0275dir=s.lG2({type:e,selectors:[["","ng-loadingspinner-tmp",""]]}),e})();function sr(){return"axxxxxxxxxxx".replace(/[x]/g,()=>(16*Math.random()|0).toString(16))}const El={"\u24b6":"A",\uff21:"A",\u00c0:"A",\u00c1:"A",\u00c2:"A",\u1ea6:"A",\u1ea4:"A",\u1eaa:"A",\u1ea8:"A",\u00c3:"A",\u0100:"A",\u0102:"A",\u1eb0:"A",\u1eae:"A",\u1eb4:"A",\u1eb2:"A",\u0226:"A",\u01e0:"A",\u00c4:"A",\u01de:"A",\u1ea2:"A",\u00c5:"A",\u01fa:"A",\u01cd:"A",\u0200:"A",\u0202:"A",\u1ea0:"A",\u1eac:"A",\u1eb6:"A",\u1e00:"A",\u0104:"A",\u023a:"A",\u2c6f:"A",\ua732:"AA",\u00c6:"AE",\u01fc:"AE",\u01e2:"AE",\ua734:"AO",\ua736:"AU",\ua738:"AV",\ua73a:"AV",\ua73c:"AY","\u24b7":"B",\uff22:"B",\u1e02:"B",\u1e04:"B",\u1e06:"B",\u0243:"B",\u0182:"B",\u0181:"B","\u24b8":"C",\uff23:"C",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u00c7:"C",\u1e08:"C",\u0187:"C",\u023b:"C",\ua73e:"C","\u24b9":"D",\uff24:"D",\u1e0a:"D",\u010e:"D",\u1e0c:"D",\u1e10:"D",\u1e12:"D",\u1e0e:"D",\u0110:"D",\u018b:"D",\u018a:"D",\u0189:"D",\ua779:"D",\u01f1:"DZ",\u01c4:"DZ",\u01f2:"Dz",\u01c5:"Dz","\u24ba":"E",\uff25:"E",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u1ec0:"E",\u1ebe:"E",\u1ec4:"E",\u1ec2:"E",\u1ebc:"E",\u0112:"E",\u1e14:"E",\u1e16:"E",\u0114:"E",\u0116:"E",\u00cb:"E",\u1eba:"E",\u011a:"E",\u0204:"E",\u0206:"E",\u1eb8:"E",\u1ec6:"E",\u0228:"E",\u1e1c:"E",\u0118:"E",\u1e18:"E",\u1e1a:"E",\u0190:"E",\u018e:"E","\u24bb":"F",\uff26:"F",\u1e1e:"F",\u0191:"F",\ua77b:"F","\u24bc":"G",\uff27:"G",\u01f4:"G",\u011c:"G",\u1e20:"G",\u011e:"G",\u0120:"G",\u01e6:"G",\u0122:"G",\u01e4:"G",\u0193:"G",\ua7a0:"G",\ua77d:"G",\ua77e:"G","\u24bd":"H",\uff28:"H",\u0124:"H",\u1e22:"H",\u1e26:"H",\u021e:"H",\u1e24:"H",\u1e28:"H",\u1e2a:"H",\u0126:"H",\u2c67:"H",\u2c75:"H",\ua78d:"H","\u24be":"I",\uff29:"I",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u0128:"I",\u012a:"I",\u012c:"I",\u0130:"I",\u00cf:"I",\u1e2e:"I",\u1ec8:"I",\u01cf:"I",\u0208:"I",\u020a:"I",\u1eca:"I",\u012e:"I",\u1e2c:"I",\u0197:"I","\u24bf":"J",\uff2a:"J",\u0134:"J",\u0248:"J","\u24c0":"K",\uff2b:"K",\u1e30:"K",\u01e8:"K",\u1e32:"K",\u0136:"K",\u1e34:"K",\u0198:"K",\u2c69:"K",\ua740:"K",\ua742:"K",\ua744:"K",\ua7a2:"K","\u24c1":"L",\uff2c:"L",\u013f:"L",\u0139:"L",\u013d:"L",\u1e36:"L",\u1e38:"L",\u013b:"L",\u1e3c:"L",\u1e3a:"L",\u0141:"L",\u023d:"L",\u2c62:"L",\u2c60:"L",\ua748:"L",\ua746:"L",\ua780:"L",\u01c7:"LJ",\u01c8:"Lj","\u24c2":"M",\uff2d:"M",\u1e3e:"M",\u1e40:"M",\u1e42:"M",\u2c6e:"M",\u019c:"M","\u24c3":"N",\uff2e:"N",\u01f8:"N",\u0143:"N",\u00d1:"N",\u1e44:"N",\u0147:"N",\u1e46:"N",\u0145:"N",\u1e4a:"N",\u1e48:"N",\u0220:"N",\u019d:"N",\ua790:"N",\ua7a4:"N",\u01ca:"NJ",\u01cb:"Nj","\u24c4":"O",\uff2f:"O",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u1ed2:"O",\u1ed0:"O",\u1ed6:"O",\u1ed4:"O",\u00d5:"O",\u1e4c:"O",\u022c:"O",\u1e4e:"O",\u014c:"O",\u1e50:"O",\u1e52:"O",\u014e:"O",\u022e:"O",\u0230:"O",\u00d6:"O",\u022a:"O",\u1ece:"O",\u0150:"O",\u01d1:"O",\u020c:"O",\u020e:"O",\u01a0:"O",\u1edc:"O",\u1eda:"O",\u1ee0:"O",\u1ede:"O",\u1ee2:"O",\u1ecc:"O",\u1ed8:"O",\u01ea:"O",\u01ec:"O",\u00d8:"O",\u01fe:"O",\u0186:"O",\u019f:"O",\ua74a:"O",\ua74c:"O",\u01a2:"OI",\ua74e:"OO",\u0222:"OU","\u24c5":"P",\uff30:"P",\u1e54:"P",\u1e56:"P",\u01a4:"P",\u2c63:"P",\ua750:"P",\ua752:"P",\ua754:"P","\u24c6":"Q",\uff31:"Q",\ua756:"Q",\ua758:"Q",\u024a:"Q","\u24c7":"R",\uff32:"R",\u0154:"R",\u1e58:"R",\u0158:"R",\u0210:"R",\u0212:"R",\u1e5a:"R",\u1e5c:"R",\u0156:"R",\u1e5e:"R",\u024c:"R",\u2c64:"R",\ua75a:"R",\ua7a6:"R",\ua782:"R","\u24c8":"S",\uff33:"S",\u1e9e:"S",\u015a:"S",\u1e64:"S",\u015c:"S",\u1e60:"S",\u0160:"S",\u1e66:"S",\u1e62:"S",\u1e68:"S",\u0218:"S",\u015e:"S",\u2c7e:"S",\ua7a8:"S",\ua784:"S","\u24c9":"T",\uff34:"T",\u1e6a:"T",\u0164:"T",\u1e6c:"T",\u021a:"T",\u0162:"T",\u1e70:"T",\u1e6e:"T",\u0166:"T",\u01ac:"T",\u01ae:"T",\u023e:"T",\ua786:"T",\ua728:"TZ","\u24ca":"U",\uff35:"U",\u00d9:"U",\u00da:"U",\u00db:"U",\u0168:"U",\u1e78:"U",\u016a:"U",\u1e7a:"U",\u016c:"U",\u00dc:"U",\u01db:"U",\u01d7:"U",\u01d5:"U",\u01d9:"U",\u1ee6:"U",\u016e:"U",\u0170:"U",\u01d3:"U",\u0214:"U",\u0216:"U",\u01af:"U",\u1eea:"U",\u1ee8:"U",\u1eee:"U",\u1eec:"U",\u1ef0:"U",\u1ee4:"U",\u1e72:"U",\u0172:"U",\u1e76:"U",\u1e74:"U",\u0244:"U","\u24cb":"V",\uff36:"V",\u1e7c:"V",\u1e7e:"V",\u01b2:"V",\ua75e:"V",\u0245:"V",\ua760:"VY","\u24cc":"W",\uff37:"W",\u1e80:"W",\u1e82:"W",\u0174:"W",\u1e86:"W",\u1e84:"W",\u1e88:"W",\u2c72:"W","\u24cd":"X",\uff38:"X",\u1e8a:"X",\u1e8c:"X","\u24ce":"Y",\uff39:"Y",\u1ef2:"Y",\u00dd:"Y",\u0176:"Y",\u1ef8:"Y",\u0232:"Y",\u1e8e:"Y",\u0178:"Y",\u1ef6:"Y",\u1ef4:"Y",\u01b3:"Y",\u024e:"Y",\u1efe:"Y","\u24cf":"Z",\uff3a:"Z",\u0179:"Z",\u1e90:"Z",\u017b:"Z",\u017d:"Z",\u1e92:"Z",\u1e94:"Z",\u01b5:"Z",\u0224:"Z",\u2c7f:"Z",\u2c6b:"Z",\ua762:"Z","\u24d0":"a",\uff41:"a",\u1e9a:"a",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u1ea7:"a",\u1ea5:"a",\u1eab:"a",\u1ea9:"a",\u00e3:"a",\u0101:"a",\u0103:"a",\u1eb1:"a",\u1eaf:"a",\u1eb5:"a",\u1eb3:"a",\u0227:"a",\u01e1:"a",\u00e4:"a",\u01df:"a",\u1ea3:"a",\u00e5:"a",\u01fb:"a",\u01ce:"a",\u0201:"a",\u0203:"a",\u1ea1:"a",\u1ead:"a",\u1eb7:"a",\u1e01:"a",\u0105:"a",\u2c65:"a",\u0250:"a",\ua733:"aa",\u00e6:"ae",\u01fd:"ae",\u01e3:"ae",\ua735:"ao",\ua737:"au",\ua739:"av",\ua73b:"av",\ua73d:"ay","\u24d1":"b",\uff42:"b",\u1e03:"b",\u1e05:"b",\u1e07:"b",\u0180:"b",\u0183:"b",\u0253:"b","\u24d2":"c",\uff43:"c",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u00e7:"c",\u1e09:"c",\u0188:"c",\u023c:"c",\ua73f:"c",\u2184:"c","\u24d3":"d",\uff44:"d",\u1e0b:"d",\u010f:"d",\u1e0d:"d",\u1e11:"d",\u1e13:"d",\u1e0f:"d",\u0111:"d",\u018c:"d",\u0256:"d",\u0257:"d",\ua77a:"d",\u01f3:"dz",\u01c6:"dz","\u24d4":"e",\uff45:"e",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u1ec1:"e",\u1ebf:"e",\u1ec5:"e",\u1ec3:"e",\u1ebd:"e",\u0113:"e",\u1e15:"e",\u1e17:"e",\u0115:"e",\u0117:"e",\u00eb:"e",\u1ebb:"e",\u011b:"e",\u0205:"e",\u0207:"e",\u1eb9:"e",\u1ec7:"e",\u0229:"e",\u1e1d:"e",\u0119:"e",\u1e19:"e",\u1e1b:"e",\u0247:"e",\u025b:"e",\u01dd:"e","\u24d5":"f",\uff46:"f",\u1e1f:"f",\u0192:"f",\ua77c:"f","\u24d6":"g",\uff47:"g",\u01f5:"g",\u011d:"g",\u1e21:"g",\u011f:"g",\u0121:"g",\u01e7:"g",\u0123:"g",\u01e5:"g",\u0260:"g",\ua7a1:"g",\u1d79:"g",\ua77f:"g","\u24d7":"h",\uff48:"h",\u0125:"h",\u1e23:"h",\u1e27:"h",\u021f:"h",\u1e25:"h",\u1e29:"h",\u1e2b:"h",\u1e96:"h",\u0127:"h",\u2c68:"h",\u2c76:"h",\u0265:"h",\u0195:"hv","\u24d8":"i",\uff49:"i",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u0129:"i",\u012b:"i",\u012d:"i",\u00ef:"i",\u1e2f:"i",\u1ec9:"i",\u01d0:"i",\u0209:"i",\u020b:"i",\u1ecb:"i",\u012f:"i",\u1e2d:"i",\u0268:"i",\u0131:"i","\u24d9":"j",\uff4a:"j",\u0135:"j",\u01f0:"j",\u0249:"j","\u24da":"k",\uff4b:"k",\u1e31:"k",\u01e9:"k",\u1e33:"k",\u0137:"k",\u1e35:"k",\u0199:"k",\u2c6a:"k",\ua741:"k",\ua743:"k",\ua745:"k",\ua7a3:"k","\u24db":"l",\uff4c:"l",\u0140:"l",\u013a:"l",\u013e:"l",\u1e37:"l",\u1e39:"l",\u013c:"l",\u1e3d:"l",\u1e3b:"l",\u017f:"l",\u0142:"l",\u019a:"l",\u026b:"l",\u2c61:"l",\ua749:"l",\ua781:"l",\ua747:"l",\u01c9:"lj","\u24dc":"m",\uff4d:"m",\u1e3f:"m",\u1e41:"m",\u1e43:"m",\u0271:"m",\u026f:"m","\u24dd":"n",\uff4e:"n",\u01f9:"n",\u0144:"n",\u00f1:"n",\u1e45:"n",\u0148:"n",\u1e47:"n",\u0146:"n",\u1e4b:"n",\u1e49:"n",\u019e:"n",\u0272:"n",\u0149:"n",\ua791:"n",\ua7a5:"n",\u01cc:"nj","\u24de":"o",\uff4f:"o",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u1ed3:"o",\u1ed1:"o",\u1ed7:"o",\u1ed5:"o",\u00f5:"o",\u1e4d:"o",\u022d:"o",\u1e4f:"o",\u014d:"o",\u1e51:"o",\u1e53:"o",\u014f:"o",\u022f:"o",\u0231:"o",\u00f6:"o",\u022b:"o",\u1ecf:"o",\u0151:"o",\u01d2:"o",\u020d:"o",\u020f:"o",\u01a1:"o",\u1edd:"o",\u1edb:"o",\u1ee1:"o",\u1edf:"o",\u1ee3:"o",\u1ecd:"o",\u1ed9:"o",\u01eb:"o",\u01ed:"o",\u00f8:"o",\u01ff:"o",\u0254:"o",\ua74b:"o",\ua74d:"o",\u0275:"o",\u01a3:"oi",\u0223:"ou",\ua74f:"oo","\u24df":"p",\uff50:"p",\u1e55:"p",\u1e57:"p",\u01a5:"p",\u1d7d:"p",\ua751:"p",\ua753:"p",\ua755:"p","\u24e0":"q",\uff51:"q",\u024b:"q",\ua757:"q",\ua759:"q","\u24e1":"r",\uff52:"r",\u0155:"r",\u1e59:"r",\u0159:"r",\u0211:"r",\u0213:"r",\u1e5b:"r",\u1e5d:"r",\u0157:"r",\u1e5f:"r",\u024d:"r",\u027d:"r",\ua75b:"r",\ua7a7:"r",\ua783:"r","\u24e2":"s",\uff53:"s",\u00df:"s",\u015b:"s",\u1e65:"s",\u015d:"s",\u1e61:"s",\u0161:"s",\u1e67:"s",\u1e63:"s",\u1e69:"s",\u0219:"s",\u015f:"s",\u023f:"s",\ua7a9:"s",\ua785:"s",\u1e9b:"s","\u24e3":"t",\uff54:"t",\u1e6b:"t",\u1e97:"t",\u0165:"t",\u1e6d:"t",\u021b:"t",\u0163:"t",\u1e71:"t",\u1e6f:"t",\u0167:"t",\u01ad:"t",\u0288:"t",\u2c66:"t",\ua787:"t",\ua729:"tz","\u24e4":"u",\uff55:"u",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u0169:"u",\u1e79:"u",\u016b:"u",\u1e7b:"u",\u016d:"u",\u00fc:"u",\u01dc:"u",\u01d8:"u",\u01d6:"u",\u01da:"u",\u1ee7:"u",\u016f:"u",\u0171:"u",\u01d4:"u",\u0215:"u",\u0217:"u",\u01b0:"u",\u1eeb:"u",\u1ee9:"u",\u1eef:"u",\u1eed:"u",\u1ef1:"u",\u1ee5:"u",\u1e73:"u",\u0173:"u",\u1e77:"u",\u1e75:"u",\u0289:"u","\u24e5":"v",\uff56:"v",\u1e7d:"v",\u1e7f:"v",\u028b:"v",\ua75f:"v",\u028c:"v",\ua761:"vy","\u24e6":"w",\uff57:"w",\u1e81:"w",\u1e83:"w",\u0175:"w",\u1e87:"w",\u1e85:"w",\u1e98:"w",\u1e89:"w",\u2c73:"w","\u24e7":"x",\uff58:"x",\u1e8b:"x",\u1e8d:"x","\u24e8":"y",\uff59:"y",\u1ef3:"y",\u00fd:"y",\u0177:"y",\u1ef9:"y",\u0233:"y",\u1e8f:"y",\u00ff:"y",\u1ef7:"y",\u1e99:"y",\u1ef5:"y",\u01b4:"y",\u024f:"y",\u1eff:"y","\u24e9":"z",\uff5a:"z",\u017a:"z",\u1e91:"z",\u017c:"z",\u017e:"z",\u1e93:"z",\u1e95:"z",\u01b6:"z",\u0225:"z",\u0240:"z",\u2c6c:"z",\ua763:"z",\u0386:"\u0391",\u0388:"\u0395",\u0389:"\u0397",\u038a:"\u0399",\u03aa:"\u0399",\u038c:"\u039f",\u038e:"\u03a5",\u03ab:"\u03a5",\u038f:"\u03a9",\u03ac:"\u03b1",\u03ad:"\u03b5",\u03ae:"\u03b7",\u03af:"\u03b9",\u03ca:"\u03b9",\u0390:"\u03b9",\u03cc:"\u03bf",\u03cd:"\u03c5",\u03cb:"\u03c5",\u03b0:"\u03c5",\u03c9:"\u03c9",\u03c2:"\u03c3"};function sn(e){return e.replace(/[^\u0000-\u007E]/g,t=>El[t]||t)}class Tl{constructor(n,t){this._ngSelect=n,this._selectionModel=t,this._items=[],this._filteredItems=[],this._markedIndex=-1}get items(){return this._items}get filteredItems(){return this._filteredItems}get markedIndex(){return this._markedIndex}get selectedItems(){return this._selectionModel.value}get markedItem(){return this._filteredItems[this._markedIndex]}get noItemsToSelect(){return this._ngSelect.hideSelected&&this._items.length===this.selectedItems.length}get maxItemsSelected(){return this._ngSelect.multiple&&this._ngSelect.maxSelectedItems<=this.selectedItems.length}get lastSelectedItem(){let n=this.selectedItems.length-1;for(;n>=0;n--){const t=this.selectedItems[n];if(!t.disabled)return t}return null}setItems(n){this._items=n.map((t,i)=>this.mapItem(t,i)),this._ngSelect.groupBy?(this._groups=this._groupBy(this._items,this._ngSelect.groupBy),this._items=this._flatten(this._groups)):(this._groups=new Map,this._groups.set(void 0,this._items)),this._filteredItems=[...this._items]}select(n){if(n.selected||this.maxItemsSelected)return;const t=this._ngSelect.multiple;t||this.clearSelected(),this._selectionModel.select(n,t,this._ngSelect.selectableGroupAsModel),this._ngSelect.hideSelected&&this._hideSelected(n)}unselect(n){!n.selected||(this._selectionModel.unselect(n,this._ngSelect.multiple),this._ngSelect.hideSelected&&bt(n.index)&&this._ngSelect.multiple&&this._showSelected(n))}findItem(n){let t;return t=this._ngSelect.compareWith?i=>this._ngSelect.compareWith(i.value,n):this._ngSelect.bindValue?i=>!i.children&&this.resolveNested(i.value,this._ngSelect.bindValue)===n:i=>i.value===n||!i.children&&i.label&&i.label===this.resolveNested(n,this._ngSelect.bindLabel),this._items.find(i=>t(i))}addItem(n){const t=this.mapItem(n,this._items.length);return this._items.push(t),this._filteredItems.push(t),t}clearSelected(n=!1){this._selectionModel.clear(n),this._items.forEach(t=>{t.selected=n&&t.selected&&t.disabled,t.marked=!1}),this._ngSelect.hideSelected&&this.resetFilteredItems()}findByLabel(n){return n=sn(n).toLocaleLowerCase(),this.filteredItems.find(t=>sn(t.label).toLocaleLowerCase().substr(0,n.length)===n)}filter(n){if(!n)return void this.resetFilteredItems();this._filteredItems=[],n=this._ngSelect.searchFn?n:sn(n).toLocaleLowerCase();const t=this._ngSelect.searchFn||this._defaultSearchFn,i=this._ngSelect.hideSelected;for(const h of Array.from(this._groups.keys())){const x=[];for(const T of this._groups.get(h))i&&(T.parent&&T.parent.selected||T.selected)||t(n,this._ngSelect.searchFn?T.value:T)&&x.push(T);if(x.length>0){const[T]=x.slice(-1);if(T.parent){const C=this._items.find(I=>I===T.parent);this._filteredItems.push(C)}this._filteredItems.push(...x)}}}resetFilteredItems(){this._filteredItems.length!==this._items.length&&(this._filteredItems=this._ngSelect.hideSelected&&this.selectedItems.length>0?this._items.filter(n=>!n.selected):this._items)}unmarkItem(){this._markedIndex=-1}markNextItem(){this._stepToItem(1)}markPreviousItem(){this._stepToItem(-1)}markItem(n){this._markedIndex=this._filteredItems.indexOf(n)}markSelectedOrDefault(n){if(0===this._filteredItems.length)return;const t=this._getLastMarkedIndex();this._markedIndex=t>-1?t:n?this.filteredItems.findIndex(i=>!i.disabled):-1}resolveNested(n,t){if(!Pe(n))return n;if(-1===t.indexOf("."))return n[t];{const i=t.split(".");let h=n;for(let x=0,T=i.length;x<T;++x){if(null==h)return null;h=h[i[x]]}return h}}mapItem(n,t){const i=bt(n.$ngOptionLabel)?n.$ngOptionLabel:this.resolveNested(n,this._ngSelect.bindLabel),h=bt(n.$ngOptionValue)?n.$ngOptionValue:n;return{index:t,label:bt(i)?i.toString():"",value:h,disabled:n.disabled,htmlId:`${this._ngSelect.dropdownId}-${t}`}}mapSelectedItems(){const n=this._ngSelect.multiple;for(const t of this.selectedItems){const i=this._ngSelect.bindValue?this.resolveNested(t.value,this._ngSelect.bindValue):t.value,h=bt(i)?this.findItem(i):null;this._selectionModel.unselect(t,n),this._selectionModel.select(h||t,n,this._ngSelect.selectableGroupAsModel)}this._ngSelect.hideSelected&&(this._filteredItems=this.filteredItems.filter(t=>-1===this.selectedItems.indexOf(t)))}_showSelected(n){if(this._filteredItems.push(n),n.parent){const t=n.parent;this._filteredItems.find(h=>h===t)||this._filteredItems.push(t)}else if(n.children)for(const t of n.children)t.selected=!1,this._filteredItems.push(t);this._filteredItems=[...this._filteredItems.sort((t,i)=>t.index-i.index)]}_hideSelected(n){this._filteredItems=this._filteredItems.filter(t=>t!==n),n.parent?n.parent.children.every(i=>i.selected)&&(this._filteredItems=this._filteredItems.filter(i=>i!==n.parent)):n.children&&(this._filteredItems=this.filteredItems.filter(t=>t.parent!==n))}_defaultSearchFn(n,t){return sn(t.label).toLocaleLowerCase().indexOf(n)>-1}_getNextItemIndex(n){return n>0?this._markedIndex>=this._filteredItems.length-1?0:this._markedIndex+1:this._markedIndex<=0?this._filteredItems.length-1:this._markedIndex-1}_stepToItem(n){0===this._filteredItems.length||this._filteredItems.every(t=>t.disabled)||(this._markedIndex=this._getNextItemIndex(n),this.markedItem.disabled&&this._stepToItem(n))}_getLastMarkedIndex(){if(this._ngSelect.hideSelected||this._markedIndex>-1&&void 0===this.markedItem)return-1;const n=this._filteredItems.indexOf(this.lastSelectedItem);return this.lastSelectedItem&&n<0?-1:Math.max(this.markedIndex,n)}_groupBy(n,t){const i=new Map;if(0===n.length)return i;if(Array.isArray(n[0].value[t])){for(const T of n){const C=(T.value[t]||[]).map((I,P)=>this.mapItem(I,P));i.set(T,C)}return i}const h=rn(this._ngSelect.groupBy),x=T=>{const C=h?t(T.value):T.value[t];return bt(C)?C:void 0};for(const T of n){const C=x(T),I=i.get(C);I?I.push(T):i.set(C,[T])}return i}_flatten(n){const t=rn(this._ngSelect.groupBy),i=[];for(const h of Array.from(n.keys())){let x=i.length;if(void 0===h){const Z=n.get(void 0)||[];i.push(...Z.map($=>($.index=x++,$)));continue}const T=Pe(h),C={label:T?"":String(h),children:void 0,parent:null,index:x++,disabled:!this._ngSelect.selectableGroup,htmlId:sr()},I=t?this._ngSelect.bindLabel:this._ngSelect.groupBy,P=this._ngSelect.groupValue||(()=>T?h.value:{[I]:h}),z=n.get(h).map(Z=>(Z.parent=C,Z.children=void 0,Z.index=x++,Z));C.children=z,C.value=P(h,z.map(Z=>Z.value)),i.push(C),i.push(...z)}return i}}var Gt=(()=>{return(e=Gt||(Gt={}))[e.Tab=9]="Tab",e[e.Enter=13]="Enter",e[e.Esc=27]="Esc",e[e.Space=32]="Space",e[e.ArrowUp=38]="ArrowUp",e[e.ArrowDown=40]="ArrowDown",e[e.Backspace=8]="Backspace",Gt;var e})();let or=(()=>{class e{constructor(){this._dimensions={itemHeight:0,panelHeight:0,itemsPerViewport:0}}get dimensions(){return this._dimensions}calculateItems(t,i,h){const x=this._dimensions,T=x.itemHeight*i,I=Math.max(0,t)/T*i;let P=Math.min(i,Math.ceil(I)+(x.itemsPerViewport+1));const Z=Math.max(0,P-x.itemsPerViewport);let $=Math.min(Z,Math.floor(I)),q=x.itemHeight*Math.ceil($)-x.itemHeight*Math.min($,h);return q=isNaN(q)?0:q,$=isNaN($)?-1:$,P=isNaN(P)?-1:P,$-=h,$=Math.max(0,$),P+=h,P=Math.min(i,P),{topPadding:q,scrollHeight:T,start:$,end:P}}setDimensions(t,i){const h=Math.max(1,Math.floor(i/t));this._dimensions={itemHeight:t,panelHeight:i,itemsPerViewport:h}}getScrollTo(t,i,h){const{panelHeight:x}=this.dimensions,T=t+i,I=h+x;return x>=T&&h===t?null:T>I?h+T-I:t<=h?t:null}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e})();const ar=["top","right","bottom","left"],Cl=typeof requestAnimationFrame<"u"?Tu.Z:Cu.E;let ur=(()=>{class e{constructor(t,i,h,x,T){this._renderer=t,this._zone=i,this._panelService=h,this._document=T,this.items=[],this.position="auto",this.virtualScroll=!1,this.filterValue=null,this.update=new s.vpe,this.scroll=new s.vpe,this.scrollToEnd=new s.vpe,this.outsideClick=new s.vpe,this._destroy$=new de.x,this._scrollToEndFired=!1,this._updateScrollHeight=!1,this._lastScrollPosition=0,this._dropdown=x.nativeElement}get currentPosition(){return this._currentPosition}get itemsLength(){return this._itemsLength}set itemsLength(t){t!==this._itemsLength&&(this._itemsLength=t,this._onItemsLengthChanged())}get _startOffset(){if(this.markedItem){const{itemHeight:t,panelHeight:i}=this._panelService.dimensions,h=this.markedItem.index*t;return i>h?0:h}return 0}ngOnInit(){this._select=this._dropdown.parentElement,this._virtualPadding=this.paddingElementRef.nativeElement,this._scrollablePanel=this.scrollElementRef.nativeElement,this._contentPanel=this.contentElementRef.nativeElement,this._handleScroll(),this._handleOutsideClick(),this._appendDropdown(),this._setupMousedownListener()}ngOnChanges(t){if(t.items){const i=t.items;this._onItemsChange(i.currentValue,i.firstChange)}}ngOnDestroy(){this._destroy$.next(),this._destroy$.complete(),this._destroy$.unsubscribe(),this.appendTo&&this._renderer.removeChild(this._dropdown.parentNode,this._dropdown)}scrollTo(t,i=!1){if(!t)return;const h=this.items.indexOf(t);if(h<0||h>=this.itemsLength)return;let x;if(this.virtualScroll){const T=this._panelService.dimensions.itemHeight;x=this._panelService.getScrollTo(h*T,T,this._lastScrollPosition)}else{const T=this._dropdown.querySelector(`#${t.htmlId}`);x=this._panelService.getScrollTo(T.offsetTop,T.clientHeight,i?T.offsetTop:this._lastScrollPosition)}bt(x)&&(this._scrollablePanel.scrollTop=x)}scrollToTag(){const t=this._scrollablePanel;t.scrollTop=t.scrollHeight-t.clientHeight}adjustPosition(){this._updateYPosition()}_handleDropdownPosition(){this._currentPosition=this._calculateCurrentPosition(this._dropdown),ar.includes(this._currentPosition)?this._updateDropdownClass(this._currentPosition):this._updateDropdownClass("bottom"),this.appendTo&&this._updateYPosition(),this._dropdown.style.opacity="1"}_updateDropdownClass(t){ar.forEach(h=>{const x=`ng-select-${h}`;this._renderer.removeClass(this._dropdown,x),this._renderer.removeClass(this._select,x)});const i=`ng-select-${t}`;this._renderer.addClass(this._dropdown,i),this._renderer.addClass(this._select,i)}_handleScroll(){this._zone.runOutsideAngular(()=>{(0,Ne.R)(this.scrollElementRef.nativeElement,"scroll").pipe((0,xe.R)(this._destroy$),(0,xu.e)(0,Cl)).subscribe(t=>{const i=t.path||t.composedPath&&t.composedPath();this._onContentScrolled(i&&0!==i.length?i[0].scrollTop:t.target.scrollTop)})})}_handleOutsideClick(){!this._document||this._zone.runOutsideAngular(()=>{(0,Nn.T)((0,Ne.R)(this._document,"touchstart",{capture:!0}),(0,Ne.R)(this._document,"mousedown",{capture:!0})).pipe((0,xe.R)(this._destroy$)).subscribe(t=>this._checkToClose(t))})}_checkToClose(t){if(this._select.contains(t.target)||this._dropdown.contains(t.target))return;const i=t.path||t.composedPath&&t.composedPath();t.target&&t.target.shadowRoot&&i&&i[0]&&this._select.contains(i[0])||this._zone.run(()=>this.outsideClick.emit())}_onItemsChange(t,i){this.items=t||[],this._scrollToEndFired=!1,this.itemsLength=t.length,this.virtualScroll?this._updateItemsRange(i):(this._setVirtualHeight(),this._updateItems(i))}_updateItems(t){this.update.emit(this.items),!1!==t&&this._zone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._panelService.setDimensions(0,this._scrollablePanel.clientHeight),this._handleDropdownPosition(),this.scrollTo(this.markedItem,t)})})}_updateItemsRange(t){this._zone.runOutsideAngular(()=>{this._measureDimensions().then(()=>{t?(this._renderItemsRange(this._startOffset),this._handleDropdownPosition()):this._renderItemsRange()})})}_onContentScrolled(t){this.virtualScroll&&this._renderItemsRange(t),this._lastScrollPosition=t,this._fireScrollToEnd(t)}_updateVirtualHeight(t){this._updateScrollHeight&&(this._virtualPadding.style.height=`${t}px`,this._updateScrollHeight=!1)}_setVirtualHeight(){!this._virtualPadding||(this._virtualPadding.style.height="0px")}_onItemsLengthChanged(){this._updateScrollHeight=!0}_renderItemsRange(t=null){if(t&&this._lastScrollPosition===t)return;const i=this._panelService.calculateItems(t=t||this._scrollablePanel.scrollTop,this.itemsLength,this.bufferAmount);this._updateVirtualHeight(i.scrollHeight),this._contentPanel.style.transform=`translateY(${i.topPadding}px)`,this._zone.run(()=>{this.update.emit(this.items.slice(i.start,i.end)),this.scroll.emit({start:i.start,end:i.end})}),bt(t)&&0===this._lastScrollPosition&&(this._scrollablePanel.scrollTop=t,this._lastScrollPosition=t)}_measureDimensions(){if(this._panelService.dimensions.itemHeight>0||0===this.itemsLength)return Promise.resolve(this._panelService.dimensions);const[t]=this.items;return this.update.emit([t]),Promise.resolve().then(()=>{const h=this._dropdown.querySelector(`#${t.htmlId}`).clientHeight;return this._virtualPadding.style.height=h*this.itemsLength+"px",this._panelService.setDimensions(h,this._scrollablePanel.clientHeight),this._panelService.dimensions})}_fireScrollToEnd(t){this._scrollToEndFired||0===t||t+this._dropdown.clientHeight>=(this.virtualScroll?this._virtualPadding:this._contentPanel).clientHeight-1&&(this._zone.run(()=>this.scrollToEnd.emit()),this._scrollToEndFired=!0)}_calculateCurrentPosition(t){if("auto"!==this.position)return this.position;const i=this._select.getBoundingClientRect(),h=document.documentElement.scrollTop||document.body.scrollTop;return i.top+window.pageYOffset+i.height+t.getBoundingClientRect().height>h+document.documentElement.clientHeight?"top":"bottom"}_appendDropdown(){if(this.appendTo){if(this._parent=document.querySelector(this.appendTo),!this._parent)throw new Error(`appendTo selector ${this.appendTo} did not found any parent element`);this._updateXPosition(),this._parent.appendChild(this._dropdown)}}_updateXPosition(){const t=this._select.getBoundingClientRect(),i=this._parent.getBoundingClientRect();this._dropdown.style.left=t.left-i.left+"px",this._dropdown.style.width=t.width+"px",this._dropdown.style.minWidth=t.width+"px"}_updateYPosition(){const t=this._select.getBoundingClientRect(),i=this._parent.getBoundingClientRect(),h=t.height;"top"===this._currentPosition?(this._dropdown.style.bottom=i.bottom-t.bottom+h+"px",this._dropdown.style.top="auto"):"bottom"===this._currentPosition&&(this._dropdown.style.top=t.top-i.top+h+"px",this._dropdown.style.bottom="auto")}_setupMousedownListener(){this._zone.runOutsideAngular(()=>{(0,Ne.R)(this._dropdown,"mousedown").pipe((0,xe.R)(this._destroy$)).subscribe(t=>{"INPUT"!==t.target.tagName&&t.preventDefault()})})}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(s.Qsj),s.Y36(s.R0b),s.Y36(or),s.Y36(s.SBq),s.Y36(v.K0,8))},e.\u0275cmp=s.Xpm({type:e,selectors:[["ng-dropdown-panel"]],viewQuery:function(t,i){if(1&t&&(s.Gf(Au,7,s.SBq),s.Gf(Su,7,s.SBq),s.Gf(Ou,7,s.SBq)),2&t){let h;s.iGM(h=s.CRH())&&(i.contentElementRef=h.first),s.iGM(h=s.CRH())&&(i.scrollElementRef=h.first),s.iGM(h=s.CRH())&&(i.paddingElementRef=h.first)}},inputs:{items:"items",markedItem:"markedItem",position:"position",appendTo:"appendTo",bufferAmount:"bufferAmount",virtualScroll:"virtualScroll",headerTemplate:"headerTemplate",footerTemplate:"footerTemplate",filterValue:"filterValue"},outputs:{update:"update",scroll:"scroll",scrollToEnd:"scrollToEnd",outsideClick:"outsideClick"},features:[s.TTD],ngContentSelectors:ir,decls:9,vars:6,consts:[["class","ng-dropdown-header",4,"ngIf"],[1,"ng-dropdown-panel-items","scroll-host"],["scroll",""],["padding",""],["content",""],["class","ng-dropdown-footer",4,"ngIf"],[1,"ng-dropdown-header"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"ng-dropdown-footer"]],template:function(t,i){1&t&&(s.F$t(),s.YNc(0,Iu,2,4,"div",0),s.TgZ(1,"div",1,2),s._UZ(3,"div",null,3),s.TgZ(5,"div",null,4),s.Hsn(7),s.qZA()(),s.YNc(8,Mu,2,4,"div",5)),2&t&&(s.Q6J("ngIf",i.headerTemplate),s.xp6(3),s.ekj("total-padding",i.virtualScroll),s.xp6(2),s.ekj("scrollable-content",i.virtualScroll&&i.items.length),s.xp6(3),s.Q6J("ngIf",i.footerTemplate))},dependencies:[v.O5,v.tP],encapsulation:2,changeDetection:0}),e})(),Al=(()=>{class e{constructor(t){this.elementRef=t,this.stateChange$=new de.x,this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=this._isDisabled(t)}get label(){return(this.elementRef.nativeElement.textContent||"").trim()}ngOnChanges(t){t.disabled&&this.stateChange$.next({value:this.value,disabled:this._disabled})}ngAfterViewChecked(){this.label!==this._previousLabel&&(this._previousLabel=this.label,this.stateChange$.next({value:this.value,disabled:this._disabled,label:this.elementRef.nativeElement.innerHTML}))}ngOnDestroy(){this.stateChange$.complete()}_isDisabled(t){return null!=t&&"false"!=`${t}`}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(s.SBq))},e.\u0275cmp=s.Xpm({type:e,selectors:[["ng-option"]],inputs:{value:"value",disabled:"disabled"},features:[s.TTD],ngContentSelectors:ir,decls:1,vars:0,template:function(t,i){1&t&&(s.F$t(),s.Hsn(0))},encapsulation:2,changeDetection:0}),e})(),Sl=(()=>{class e{constructor(){this.notFoundText="No items found",this.typeToSearchText="Type to search",this.addTagText="Add item",this.loadingText="Loading...",this.clearAllText="Clear all",this.disableVirtualScroll=!0,this.openOnEnter=!0,this.appearance="underline"}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),Ol=(()=>{class e{warn(t){console.warn(t)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const lr=new s.OlP("ng-select-selection-model");let Il=(()=>{class e{constructor(t,i,h,x,T,C,I){this.classes=t,this.autoFocus=i,this.config=h,this._cd=C,this._console=I,this.markFirst=!0,this.dropdownPosition="auto",this.loading=!1,this.closeOnSelect=!0,this.hideSelected=!1,this.selectOnTab=!1,this.bufferAmount=4,this.selectableGroup=!1,this.selectableGroupAsModel=!0,this.searchFn=null,this.trackByFn=null,this.clearOnBackspace=!0,this.labelForId=null,this.inputAttrs={},this.readonly=!1,this.searchWhileComposing=!0,this.minTermLength=0,this.editableSearchTerm=!1,this.keyDownFn=P=>!0,this.multiple=!1,this.addTag=!1,this.searchable=!0,this.clearable=!0,this.isOpen=!1,this.blurEvent=new s.vpe,this.focusEvent=new s.vpe,this.changeEvent=new s.vpe,this.openEvent=new s.vpe,this.closeEvent=new s.vpe,this.searchEvent=new s.vpe,this.clearEvent=new s.vpe,this.addEvent=new s.vpe,this.removeEvent=new s.vpe,this.scroll=new s.vpe,this.scrollToEnd=new s.vpe,this.useDefaultClass=!0,this.viewPortItems=[],this.searchTerm=null,this.dropdownId=sr(),this.escapeHTML=!0,this._items=[],this._defaultLabel="label",this._pressedKeys=[],this._isComposing=!1,this._destroy$=new de.x,this._keyPress$=new de.x,this._onChange=P=>{},this._onTouched=()=>{},this.clearItem=P=>{const z=this.selectedItems.find(Z=>Z.value===P);this.unselect(z)},this.trackByOption=(P,z)=>this.trackByFn?this.trackByFn(z.value):z,this._mergeGlobalConfig(h),this.itemsList=new Tl(this,x()),this.element=T.nativeElement}get items(){return this._items}set items(t){null===t&&(t=[]),this._itemsAreUsed=!0,this._items=t}get compareWith(){return this._compareWith}set compareWith(t){if(null!=t&&!rn(t))throw Error("`compareWith` must be a function.");this._compareWith=t}get clearSearchOnAdd(){return bt(this._clearSearchOnAdd)?this._clearSearchOnAdd:bt(this.config.clearSearchOnAdd)?this.config.clearSearchOnAdd:this.closeOnSelect}set clearSearchOnAdd(t){this._clearSearchOnAdd=t}get disabled(){return this.readonly||this._disabled}get filtered(){return!!this.searchTerm&&this.searchable||this._isComposing}get single(){return!this.multiple}get _editableSearchTerm(){return this.editableSearchTerm&&!this.multiple}get selectedItems(){return this.itemsList.selectedItems}get selectedValues(){return this.selectedItems.map(t=>t.value)}get hasValue(){return this.selectedItems.length>0}get currentPanelPosition(){if(this.dropdownPanel)return this.dropdownPanel.currentPosition}ngOnInit(){this._handleKeyPresses(),this._setInputAttributes()}ngOnChanges(t){t.multiple&&this.itemsList.clearSelected(),t.items&&this._setItems(t.items.currentValue||[]),t.isOpen&&(this._manualOpen=bt(t.isOpen.currentValue))}ngAfterViewInit(){this._itemsAreUsed||(this.escapeHTML=!1,this._setItemsFromNgOptions()),bt(this.autoFocus)&&this.focus()}ngOnDestroy(){this._destroy$.next(),this._destroy$.complete()}handleKeyDown(t){if(Gt[t.which]){if(!1===this.keyDownFn(t))return;this.handleKeyCode(t)}else t.key&&1===t.key.length&&this._keyPress$.next(t.key.toLocaleLowerCase())}handleKeyCode(t){switch(t.which){case Gt.ArrowDown:this._handleArrowDown(t);break;case Gt.ArrowUp:this._handleArrowUp(t);break;case Gt.Space:this._handleSpace(t);break;case Gt.Enter:this._handleEnter(t);break;case Gt.Tab:this._handleTab(t);break;case Gt.Esc:this.close(),t.preventDefault();break;case Gt.Backspace:this._handleBackspace()}}handleMousedown(t){const i=t.target;"INPUT"!==i.tagName&&t.preventDefault(),i.classList.contains("ng-clear-wrapper")?this.handleClearClick():i.classList.contains("ng-arrow-wrapper")?this.handleArrowClick():i.classList.contains("ng-value-icon")||(this.focused||this.focus(),this.searchable?this.open():this.toggle())}handleArrowClick(){this.isOpen?this.close():this.open()}handleClearClick(){this.hasValue&&(this.itemsList.clearSelected(!0),this._updateNgModel()),this._clearSearch(),this.focus(),this.clearEvent.emit(),this._onSelectionChanged()}clearModel(){!this.clearable||(this.itemsList.clearSelected(),this._updateNgModel())}writeValue(t){this.itemsList.clearSelected(),this._handleWriteValue(t),this._cd.markForCheck()}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this._disabled=t,this._cd.markForCheck()}toggle(){this.isOpen?this.close():this.open()}open(){this.disabled||this.isOpen||this._manualOpen||!this._isTypeahead&&!this.addTag&&this.itemsList.noItemsToSelect||(this.isOpen=!0,this.itemsList.markSelectedOrDefault(this.markFirst),this.openEvent.emit(),this.searchTerm||this.focus(),this.detectChanges())}close(){!this.isOpen||this._manualOpen||(this.isOpen=!1,this._isComposing=!1,this._editableSearchTerm?this.itemsList.resetFilteredItems():this._clearSearch(),this.itemsList.unmarkItem(),this._onTouched(),this.closeEvent.emit(),this._cd.markForCheck())}toggleItem(t){!t||t.disabled||this.disabled||(this.multiple&&t.selected?this.unselect(t):this.select(t),this._editableSearchTerm&&this._setSearchTermFromItems(),this._onSelectionChanged())}select(t){t.selected||(this.itemsList.select(t),this.clearSearchOnAdd&&!this._editableSearchTerm&&this._clearSearch(),this._updateNgModel(),this.multiple&&this.addEvent.emit(t.value)),(this.closeOnSelect||this.itemsList.noItemsToSelect)&&this.close()}focus(){this.searchInput.nativeElement.focus()}blur(){this.searchInput.nativeElement.blur()}unselect(t){!t||(this.itemsList.unselect(t),this.focus(),this._updateNgModel(),this.removeEvent.emit(t))}selectTag(){let t;t=rn(this.addTag)?this.addTag(this.searchTerm):this._primitive?this.searchTerm:{[this.bindLabel]:this.searchTerm};const i=h=>this._isTypeahead||!this.isOpen?this.itemsList.mapItem(h,null):this.itemsList.addItem(h);!function hl(e){return e instanceof Promise}(t)?t&&this.select(i(t)):t.then(h=>this.select(i(h))).catch(()=>{})}showClear(){return this.clearable&&(this.hasValue||this.searchTerm)&&!this.disabled}get showAddTag(){if(!this._validTerm)return!1;const t=this.searchTerm.toLowerCase().trim();return this.addTag&&!this.itemsList.filteredItems.some(i=>i.label.toLowerCase()===t)&&(!this.hideSelected&&this.isOpen||!this.selectedItems.some(i=>i.label.toLowerCase()===t))&&!this.loading}showNoItemsFound(){const t=0===this.itemsList.filteredItems.length;return(t&&!this._isTypeahead&&!this.loading||t&&this._isTypeahead&&this._validTerm&&!this.loading)&&!this.showAddTag}showTypeToSearch(){return 0===this.itemsList.filteredItems.length&&this._isTypeahead&&!this._validTerm&&!this.loading}onCompositionStart(){this._isComposing=!0}onCompositionEnd(t){this._isComposing=!1,!this.searchWhileComposing&&this.filter(t)}filter(t){this._isComposing&&!this.searchWhileComposing||(this.searchTerm=t,this._isTypeahead&&(this._validTerm||0===this.minTermLength)&&this.typeahead.next(t),this._isTypeahead||(this.itemsList.filter(this.searchTerm),this.isOpen&&this.itemsList.markSelectedOrDefault(this.markFirst)),this.searchEvent.emit({term:t,items:this.itemsList.filteredItems.map(i=>i.value)}),this.open())}onInputFocus(t){this.focused||(this._editableSearchTerm&&this._setSearchTermFromItems(),this.element.classList.add("ng-select-focused"),this.focusEvent.emit(t),this.focused=!0)}onInputBlur(t){this.element.classList.remove("ng-select-focused"),this.blurEvent.emit(t),!this.isOpen&&!this.disabled&&this._onTouched(),this._editableSearchTerm&&this._setSearchTermFromItems(),this.focused=!1}onItemHover(t){t.disabled||this.itemsList.markItem(t)}detectChanges(){this._cd.destroyed||this._cd.detectChanges()}_setSearchTermFromItems(){const t=this.selectedItems&&this.selectedItems[0];this.searchTerm=t&&t.label||null}_setItems(t){const i=t[0];this.bindLabel=this.bindLabel||this._defaultLabel,this._primitive=bt(i)?!Pe(i):this._primitive||this.bindLabel===this._defaultLabel,this.itemsList.setItems(t),t.length>0&&this.hasValue&&this.itemsList.mapSelectedItems(),this.isOpen&&bt(this.searchTerm)&&!this._isTypeahead&&this.itemsList.filter(this.searchTerm),(this._isTypeahead||this.isOpen)&&this.itemsList.markSelectedOrDefault(this.markFirst)}_setItemsFromNgOptions(){const t=h=>{this.items=h.map(x=>({$ngOptionValue:x.value,$ngOptionLabel:x.elementRef.nativeElement.innerHTML,disabled:x.disabled})),this.itemsList.setItems(this.items),this.hasValue&&this.itemsList.mapSelectedItems(),this.detectChanges()},i=()=>{const h=(0,Nn.T)(this.ngOptions.changes,this._destroy$);(0,Nn.T)(...this.ngOptions.map(x=>x.stateChange$)).pipe((0,xe.R)(h)).subscribe(x=>{const T=this.itemsList.findItem(x.value);T.disabled=x.disabled,T.label=x.label||T.label,this._cd.detectChanges()})};this.ngOptions.changes.pipe((0,_u.O)(this.ngOptions),(0,xe.R)(this._destroy$)).subscribe(h=>{this.bindLabel=this._defaultLabel,t(h),i()})}_isValidWriteValue(t){if(!bt(t)||this.multiple&&""===t||Array.isArray(t)&&0===t.length)return!1;const i=h=>!(!bt(this.compareWith)&&Pe(h)&&this.bindValue&&(this._console.warn(`Setting object(${JSON.stringify(h)}) as your model with bindValue is not allowed unless [compareWith] is used.`),1));return this.multiple?Array.isArray(t)?t.every(h=>i(h)):(this._console.warn("Multiple select ngModel should be array."),!1):i(t)}_handleWriteValue(t){if(!this._isValidWriteValue(t))return;const i=h=>{let x=this.itemsList.findItem(h);if(x)this.itemsList.select(x);else{const T=Pe(h),C=!T&&!this.bindValue;T||C?this.itemsList.select(this.itemsList.mapItem(h,null)):this.bindValue&&(x={[this.bindLabel]:null,[this.bindValue]:h},this.itemsList.select(this.itemsList.mapItem(x,null)))}};this.multiple?t.forEach(h=>i(h)):i(t)}_handleKeyPresses(){this.searchable||this._keyPress$.pipe((0,xe.R)(this._destroy$),(0,bu.b)(t=>this._pressedKeys.push(t)),(0,Mi.b)(200),(0,wu.h)(()=>this._pressedKeys.length>0),(0,Eu.U)(()=>this._pressedKeys.join(""))).subscribe(t=>{const i=this.itemsList.findByLabel(t);i&&(this.isOpen?(this.itemsList.markItem(i),this._scrollToMarked(),this._cd.markForCheck()):this.select(i)),this._pressedKeys=[]})}_setInputAttributes(){const t=this.searchInput.nativeElement,i={type:"text",autocorrect:"off",autocapitalize:"off",autocomplete:this.labelForId?"off":this.dropdownId,...this.inputAttrs};for(const h of Object.keys(i))t.setAttribute(h,i[h])}_updateNgModel(){const t=[];for(const h of this.selectedItems)if(this.bindValue){let x=null;x=h.children?h.value[(this.groupValue?this.bindValue:this.groupBy)||this.groupBy]:this.itemsList.resolveNested(h.value,this.bindValue),t.push(x)}else t.push(h.value);const i=this.selectedItems.map(h=>h.value);this.multiple?(this._onChange(t),this.changeEvent.emit(i)):(this._onChange(bt(t[0])?t[0]:null),this.changeEvent.emit(i[0])),this._cd.markForCheck()}_clearSearch(){!this.searchTerm||(this._changeSearch(null),this.itemsList.resetFilteredItems())}_changeSearch(t){this.searchTerm=t,this._isTypeahead&&this.typeahead.next(t)}_scrollToMarked(){!this.isOpen||!this.dropdownPanel||this.dropdownPanel.scrollTo(this.itemsList.markedItem)}_scrollToTag(){!this.isOpen||!this.dropdownPanel||this.dropdownPanel.scrollToTag()}_onSelectionChanged(){this.isOpen&&this.multiple&&this.appendTo&&(this._cd.detectChanges(),this.dropdownPanel.adjustPosition())}_handleTab(t){!1===this.isOpen&&!this.addTag||(this.selectOnTab?this.itemsList.markedItem?(this.toggleItem(this.itemsList.markedItem),t.preventDefault()):this.showAddTag?(this.selectTag(),t.preventDefault()):this.close():this.close())}_handleEnter(t){if(this.isOpen||this._manualOpen)this.itemsList.markedItem?this.toggleItem(this.itemsList.markedItem):this.showAddTag&&this.selectTag();else{if(!this.openOnEnter)return;this.open()}t.preventDefault()}_handleSpace(t){this.isOpen||this._manualOpen||(this.open(),t.preventDefault())}_handleArrowDown(t){this._nextItemIsTag(1)?(this.itemsList.unmarkItem(),this._scrollToTag()):(this.itemsList.markNextItem(),this._scrollToMarked()),this.open(),t.preventDefault()}_handleArrowUp(t){!this.isOpen||(this._nextItemIsTag(-1)?(this.itemsList.unmarkItem(),this._scrollToTag()):(this.itemsList.markPreviousItem(),this._scrollToMarked()),t.preventDefault())}_nextItemIsTag(t){const i=this.itemsList.markedIndex+t;return this.addTag&&this.searchTerm&&this.itemsList.markedItem&&(i<0||i===this.itemsList.filteredItems.length)}_handleBackspace(){this.searchTerm||!this.clearable||!this.clearOnBackspace||!this.hasValue||(this.multiple?this.unselect(this.itemsList.lastSelectedItem):this.clearModel())}get _isTypeahead(){return this.typeahead&&this.typeahead.observers.length>0}get _validTerm(){const t=this.searchTerm&&this.searchTerm.trim();return t&&t.length>=this.minTermLength}_mergeGlobalConfig(t){this.placeholder=this.placeholder||t.placeholder,this.notFoundText=this.notFoundText||t.notFoundText,this.typeToSearchText=this.typeToSearchText||t.typeToSearchText,this.addTagText=this.addTagText||t.addTagText,this.loadingText=this.loadingText||t.loadingText,this.clearAllText=this.clearAllText||t.clearAllText,this.virtualScroll=bt(this.virtualScroll)?this.virtualScroll:!!bt(t.disableVirtualScroll)&&!t.disableVirtualScroll,this.openOnEnter=bt(this.openOnEnter)?this.openOnEnter:t.openOnEnter,this.appendTo=this.appendTo||t.appendTo,this.bindValue=this.bindValue||t.bindValue,this.bindLabel=this.bindLabel||t.bindLabel,this.appearance=this.appearance||t.appearance}}return e.\u0275fac=function(t){return new(t||e)(s.$8M("class"),s.$8M("autofocus"),s.Y36(Sl),s.Y36(lr),s.Y36(s.SBq),s.Y36(s.sBO),s.Y36(Ol))},e.\u0275cmp=s.Xpm({type:e,selectors:[["ng-select"]],contentQueries:function(t,i,h){if(1&t&&(s.Suo(h,fl,5,s.Rgc),s.Suo(h,dl,5,s.Rgc),s.Suo(h,pl,5,s.Rgc),s.Suo(h,gl,5,s.Rgc),s.Suo(h,ml,5,s.Rgc),s.Suo(h,vl,5,s.Rgc),s.Suo(h,yl,5,s.Rgc),s.Suo(h,xl,5,s.Rgc),s.Suo(h,_l,5,s.Rgc),s.Suo(h,bl,5,s.Rgc),s.Suo(h,wl,5,s.Rgc),s.Suo(h,Al,5)),2&t){let x;s.iGM(x=s.CRH())&&(i.optionTemplate=x.first),s.iGM(x=s.CRH())&&(i.optgroupTemplate=x.first),s.iGM(x=s.CRH())&&(i.labelTemplate=x.first),s.iGM(x=s.CRH())&&(i.multiLabelTemplate=x.first),s.iGM(x=s.CRH())&&(i.headerTemplate=x.first),s.iGM(x=s.CRH())&&(i.footerTemplate=x.first),s.iGM(x=s.CRH())&&(i.notFoundTemplate=x.first),s.iGM(x=s.CRH())&&(i.typeToSearchTemplate=x.first),s.iGM(x=s.CRH())&&(i.loadingTextTemplate=x.first),s.iGM(x=s.CRH())&&(i.tagTemplate=x.first),s.iGM(x=s.CRH())&&(i.loadingSpinnerTemplate=x.first),s.iGM(x=s.CRH())&&(i.ngOptions=x)}},viewQuery:function(t,i){if(1&t&&(s.Gf(ur,5),s.Gf(Nu,7)),2&t){let h;s.iGM(h=s.CRH())&&(i.dropdownPanel=h.first),s.iGM(h=s.CRH())&&(i.searchInput=h.first)}},hostVars:20,hostBindings:function(t,i){1&t&&s.NdJ("keydown",function(x){return i.handleKeyDown(x)}),2&t&&s.ekj("ng-select-typeahead",i.typeahead)("ng-select-multiple",i.multiple)("ng-select-taggable",i.addTag)("ng-select-searchable",i.searchable)("ng-select-clearable",i.clearable)("ng-select-opened",i.isOpen)("ng-select",i.useDefaultClass)("ng-select-disabled",i.disabled)("ng-select-filtered",i.filtered)("ng-select-single",i.single)},inputs:{bindLabel:"bindLabel",bindValue:"bindValue",markFirst:"markFirst",placeholder:"placeholder",notFoundText:"notFoundText",typeToSearchText:"typeToSearchText",addTagText:"addTagText",loadingText:"loadingText",clearAllText:"clearAllText",appearance:"appearance",dropdownPosition:"dropdownPosition",appendTo:"appendTo",loading:"loading",closeOnSelect:"closeOnSelect",hideSelected:"hideSelected",selectOnTab:"selectOnTab",openOnEnter:"openOnEnter",maxSelectedItems:"maxSelectedItems",groupBy:"groupBy",groupValue:"groupValue",bufferAmount:"bufferAmount",virtualScroll:"virtualScroll",selectableGroup:"selectableGroup",selectableGroupAsModel:"selectableGroupAsModel",searchFn:"searchFn",trackByFn:"trackByFn",clearOnBackspace:"clearOnBackspace",labelForId:"labelForId",inputAttrs:"inputAttrs",tabIndex:"tabIndex",readonly:"readonly",searchWhileComposing:"searchWhileComposing",minTermLength:"minTermLength",editableSearchTerm:"editableSearchTerm",keyDownFn:"keyDownFn",typeahead:"typeahead",multiple:"multiple",addTag:"addTag",searchable:"searchable",clearable:"clearable",isOpen:"isOpen",items:"items",compareWith:"compareWith",clearSearchOnAdd:"clearSearchOnAdd"},outputs:{blurEvent:"blur",focusEvent:"focus",changeEvent:"change",openEvent:"open",closeEvent:"close",searchEvent:"search",clearEvent:"clear",addEvent:"add",removeEvent:"remove",scroll:"scroll",scrollToEnd:"scrollToEnd"},features:[s._Bn([{provide:nr.JU,useExisting:(0,s.Gpc)(()=>e),multi:!0},or]),s.TTD],decls:14,vars:19,consts:[[1,"ng-select-container",3,"mousedown"],[1,"ng-value-container"],[1,"ng-placeholder"],[4,"ngIf"],["role","combobox","aria-haspopup","listbox",1,"ng-input"],["aria-autocomplete","list",3,"readOnly","disabled","value","input","compositionstart","compositionend","focus","blur","change"],["searchInput",""],["class","ng-clear-wrapper",3,"title",4,"ngIf"],[1,"ng-arrow-wrapper"],[1,"ng-arrow"],["class","ng-dropdown-panel","role","listbox","aria-label","Options list",3,"virtualScroll","bufferAmount","appendTo","position","headerTemplate","footerTemplate","filterValue","items","markedItem","ng-select-multiple","ngClass","id","update","scroll","scrollToEnd","outsideClick",4,"ngIf"],["class","ng-value",3,"ng-value-disabled",4,"ngFor","ngForOf","ngForTrackBy"],[1,"ng-value"],["defaultLabelTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["aria-hidden","true",1,"ng-value-icon","left",3,"click"],[1,"ng-value-label",3,"ngItemLabel","escape"],["defaultLoadingSpinnerTemplate",""],[3,"ngTemplateOutlet"],[1,"ng-spinner-loader"],[1,"ng-clear-wrapper",3,"title"],["aria-hidden","true",1,"ng-clear"],["role","listbox","aria-label","Options list",1,"ng-dropdown-panel",3,"virtualScroll","bufferAmount","appendTo","position","headerTemplate","footerTemplate","filterValue","items","markedItem","ngClass","id","update","scroll","scrollToEnd","outsideClick"],["class","ng-option",3,"ng-option-disabled","ng-option-selected","ng-optgroup","ng-option","ng-option-child","ng-option-marked","click","mouseover",4,"ngFor","ngForOf","ngForTrackBy"],["class","ng-option","role","option",3,"ng-option-marked","mouseover","click",4,"ngIf"],[1,"ng-option",3,"click","mouseover"],["defaultOptionTemplate",""],[1,"ng-option-label",3,"ngItemLabel","escape"],["role","option",1,"ng-option",3,"mouseover","click"],["defaultTagTemplate",""],[1,"ng-tag-label"],["defaultNotFoundTemplate",""],[1,"ng-option","ng-option-disabled"],["defaultTypeToSearchTemplate",""],["defaultLoadingTextTemplate",""]],template:function(t,i){if(1&t){const h=s.EpF();s.TgZ(0,"div",0),s.NdJ("mousedown",function(T){return i.handleMousedown(T)}),s.TgZ(1,"div",1)(2,"div",2),s._uU(3),s.qZA(),s.YNc(4,ku,2,2,"ng-container",3),s.YNc(5,Ru,1,5,null,3),s.TgZ(6,"div",4)(7,"input",5,6),s.NdJ("input",function(){s.CHM(h);const T=s.MAs(8);return s.KtG(i.filter(T.value))})("compositionstart",function(){return i.onCompositionStart()})("compositionend",function(){s.CHM(h);const T=s.MAs(8);return s.KtG(i.onCompositionEnd(T.value))})("focus",function(T){return i.onInputFocus(T)})("blur",function(T){return i.onInputBlur(T)})("change",function(T){return T.stopPropagation()}),s.qZA()()(),s.YNc(9,Yu,4,1,"ng-container",3),s.YNc(10,Vu,3,1,"span",7),s.TgZ(11,"span",8),s._UZ(12,"span",9),s.qZA()(),s.YNc(13,ol,7,19,"ng-dropdown-panel",10)}2&t&&(s.ekj("ng-appearance-outline","outline"===i.appearance)("ng-has-value",i.hasValue),s.xp6(3),s.Oqu(i.placeholder),s.xp6(1),s.Q6J("ngIf",(!i.multiLabelTemplate||!i.multiple)&&i.selectedItems.length>0),s.xp6(1),s.Q6J("ngIf",i.multiple&&i.multiLabelTemplate&&i.selectedValues.length>0),s.xp6(1),s.uIk("aria-expanded",i.isOpen)("aria-owns",i.isOpen?i.dropdownId:null),s.xp6(1),s.Q6J("readOnly",!i.searchable||i.itemsList.maxItemsSelected)("disabled",i.disabled)("value",i.searchTerm?i.searchTerm:""),s.uIk("id",i.labelForId)("tabindex",i.tabIndex)("aria-activedescendant",i.isOpen?null==i.itemsList||null==i.itemsList.markedItem?null:i.itemsList.markedItem.htmlId:null)("aria-controls",i.isOpen?i.dropdownId:null),s.xp6(2),s.Q6J("ngIf",i.loading),s.xp6(1),s.Q6J("ngIf",i.showClear()),s.xp6(3),s.Q6J("ngIf",i.isOpen))},dependencies:[v.mk,v.sg,v.O5,v.tP,ur,cl],styles:['@charset "UTF-8";.ng-select{position:relative;display:block;box-sizing:border-box}.ng-select div,.ng-select input,.ng-select span{box-sizing:border-box}.ng-select [hidden]{display:none}.ng-select.ng-select-searchable .ng-select-container .ng-value-container .ng-input{opacity:1}.ng-select.ng-select-opened .ng-select-container{z-index:1001}.ng-select.ng-select-disabled .ng-select-container .ng-value-container .ng-placeholder,.ng-select.ng-select-disabled .ng-select-container .ng-value-container .ng-value{-webkit-user-select:none;user-select:none;cursor:default}.ng-select.ng-select-disabled .ng-arrow-wrapper{cursor:default}.ng-select.ng-select-filtered .ng-placeholder{display:none}.ng-select .ng-select-container{cursor:default;display:flex;outline:none;overflow:hidden;position:relative;width:100%}.ng-select .ng-select-container .ng-value-container{display:flex;flex:1}.ng-select .ng-select-container .ng-value-container .ng-input{opacity:0}.ng-select .ng-select-container .ng-value-container .ng-input>input{box-sizing:content-box;background:none transparent;border:0 none;box-shadow:none;outline:none;padding:0;cursor:default;width:100%}.ng-select .ng-select-container .ng-value-container .ng-input>input::-ms-clear{display:none}.ng-select .ng-select-container .ng-value-container .ng-input>input[readonly]{-webkit-user-select:none;user-select:none;width:0;padding:0}.ng-select.ng-select-single.ng-select-filtered .ng-select-container .ng-value-container .ng-value{visibility:hidden}.ng-select.ng-select-single .ng-select-container .ng-value-container,.ng-select.ng-select-single .ng-select-container .ng-value-container .ng-value{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ng-select.ng-select-single .ng-select-container .ng-value-container .ng-value .ng-value-icon{display:none}.ng-select.ng-select-single .ng-select-container .ng-value-container .ng-input{position:absolute;left:0;width:100%}.ng-select.ng-select-multiple.ng-select-disabled>.ng-select-container .ng-value-container .ng-value .ng-value-icon{display:none}.ng-select.ng-select-multiple .ng-select-container .ng-value-container{flex-wrap:wrap}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-placeholder{position:absolute}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value{white-space:nowrap}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value.ng-value-disabled .ng-value-icon{display:none}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value .ng-value-icon{cursor:pointer}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-input{flex:1;z-index:2}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-placeholder{z-index:1}.ng-select .ng-clear-wrapper{cursor:pointer;position:relative;width:17px;-webkit-user-select:none;user-select:none}.ng-select .ng-clear-wrapper .ng-clear{display:inline-block;font-size:18px;line-height:1;pointer-events:none}.ng-select .ng-spinner-loader{border-radius:50%;width:17px;height:17px;margin-right:5px;font-size:10px;position:relative;text-indent:-9999em;border-top:2px solid rgba(66,66,66,.2);border-right:2px solid rgba(66,66,66,.2);border-bottom:2px solid rgba(66,66,66,.2);border-left:2px solid #424242;transform:translateZ(0);animation:load8 .8s infinite linear}.ng-select .ng-spinner-loader:after{border-radius:50%;width:17px;height:17px}@keyframes load8{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.ng-select .ng-arrow-wrapper{cursor:pointer;position:relative;text-align:center;-webkit-user-select:none;user-select:none}.ng-select .ng-arrow-wrapper .ng-arrow{pointer-events:none;display:inline-block;height:0;width:0;position:relative}.ng-dropdown-panel{box-sizing:border-box;position:absolute;opacity:0;width:100%;z-index:1050;-webkit-overflow-scrolling:touch}.ng-dropdown-panel .ng-dropdown-panel-items{display:block;height:auto;box-sizing:border-box;max-height:240px;overflow-y:auto}.ng-dropdown-panel .ng-dropdown-panel-items .ng-optgroup{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option{box-sizing:border-box;cursor:pointer;display:block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option .ng-option-label:empty:before{content:"\\200b"}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option .highlighted{font-weight:700;text-decoration:underline}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option.disabled{cursor:default}.ng-dropdown-panel .scroll-host{overflow:hidden;overflow-y:auto;position:relative;display:block;-webkit-overflow-scrolling:touch}.ng-dropdown-panel .scrollable-content{top:0;left:0;width:100%;height:100%;position:absolute}.ng-dropdown-panel .total-padding{width:1px;opacity:0}\n'],encapsulation:2,changeDetection:0}),e})();function Ml(){return new Nl}class Nl{constructor(){this._selected=[]}get value(){return this._selected}select(n,t,i){if(n.selected=!0,(!n.children||!t&&i)&&this._selected.push(n),t)if(n.parent){const h=n.parent.children.length,x=n.parent.children.filter(T=>T.selected).length;n.parent.selected=h===x}else n.children&&(this._setChildrenSelectedState(n.children,!0),this._removeChildren(n),this._selected=i&&this._activeChildren(n)?[...this._selected.filter(h=>h.parent!==n),n]:[...this._selected,...n.children.filter(h=>!h.disabled)])}unselect(n,t){if(this._selected=this._selected.filter(i=>i!==n),n.selected=!1,t)if(n.parent&&n.parent.selected){const i=n.parent.children;this._removeParent(n.parent),this._removeChildren(n.parent),this._selected.push(...i.filter(h=>h!==n&&!h.disabled)),n.parent.selected=!1}else n.children&&(this._setChildrenSelectedState(n.children,!1),this._removeChildren(n))}clear(n){this._selected=n?this._selected.filter(t=>t.disabled):[]}_setChildrenSelectedState(n,t){for(const i of n)i.disabled||(i.selected=t)}_removeChildren(n){this._selected=[...this._selected.filter(t=>t.parent!==n),...n.children.filter(t=>t.parent===n&&t.disabled&&t.selected)]}_removeParent(n){this._selected=this._selected.filter(t=>t!==n)}_activeChildren(n){return n.children.every(t=>!t.disabled||t.selected)}}let Ll=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({providers:[{provide:lr,useValue:Ml}],imports:[v.ez]}),e})();var ke=r(9671),hr=r(7392);function Dl(e,n){if(1&e&&(s.TgZ(0,"mat-icon"),s._uU(1),s.qZA()),2&e){const t=s.oxw();s.xp6(1),s.Oqu(null==t.dataIn||null==t.dataIn.data?null:t.dataIn.data.icon)}}const Fl=function(e){return{"background-color":e}};let Pl=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s.Xpm({type:e,selectors:[["app-card-node"]],inputs:{dataIn:"dataIn"},decls:11,vars:7,consts:[["fxFill","","fxLayout","column",1,"animate__animated","animate__bounceIn"],[1,"node-template",3,"ngStyle"],[1,"node-template-header"],[1,"node-template-body"],[2,"display","flex","flex-direction","row","align-items","center"],[4,"ngIf"],[3,"innerHTML"]],template:function(t,i){1&t&&(s.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"span"),s._uU(4),s.qZA()(),s.TgZ(5,"div",3)(6,"div",4),s.YNc(7,Dl,2,1,"mat-icon",5),s.TgZ(8,"span"),s._uU(9),s.qZA()(),s._UZ(10,"div",6),s.qZA()()()),2&t&&(s.xp6(1),s.Q6J("ngStyle",s.VKq(5,Fl,null==i.dataIn||null==i.dataIn.data?null:i.dataIn.data.colorBox)),s.xp6(3),s.Oqu(null==i.dataIn?null:i.dataIn.label),s.xp6(3),s.Q6J("ngIf",null==i.dataIn||null==i.dataIn.data?null:i.dataIn.data.hasIcon),s.xp6(2),s.Oqu(null==i.dataIn||null==i.dataIn.data?null:i.dataIn.data.title),s.xp6(1),s.Q6J("innerHTML",null==i.dataIn||null==i.dataIn.data?null:i.dataIn.data.text,s.oJD))},dependencies:[v.O5,v.PC,ke.xw,ke.s9,hr.Hw],styles:[".wrapper-node[_ngcontent-%COMP%]{display:flex;min-height:100px;width:98%}.node-template[_ngcontent-%COMP%]{color:#f2f2f2;margin:0;padding:0 3px;cursor:pointer;width:100%;height:100px;display:flex;box-shadow:0 0 8px 2px #0000006b;flex-direction:column;justify-content:center}.node-template[_ngcontent-%COMP%]   .node-template-header[_ngcontent-%COMP%]{font-weight:500;vertical-align:middle}.node-template[_ngcontent-%COMP%]   .node-template-body[_ngcontent-%COMP%]{font-weight:500;color:var(--color-1);border-radius:var(--border-radius)}"]}),e})();function kl(e,n){1&e&&(s.O4$(),s.TgZ(0,"marker",9),s._UZ(1,"path",10),s.qZA())}function Gl(e,n){1&e&&(s.O4$(),s.TgZ(0,"g",11),s._UZ(1,"path",12)(2,"text",13),s.qZA())}function Bl(e,n){if(1&e&&(s.O4$(),s.TgZ(0,"g",14)(1,"foreignObject",15),s.kcU(),s.TgZ(2,"div",16),s._UZ(3,"app-card-node",17),s.qZA()()()),2&e){const t=n.$implicit;s.xp6(3),s.Q6J("dataIn",t)}}function Rl(e,n){if(1&e&&(s.TgZ(0,"ngx-graph",4,5),s.YNc(2,kl,2,0,"ng-template",null,6,s.W1O),s.YNc(4,Gl,3,0,"ng-template",null,7,s.W1O),s.YNc(6,Bl,4,1,"ng-template",null,8,s.W1O),s.qZA()),2&e){const t=s.oxw();s.Q6J("layout",t.layout)("autoCenter",!0)("curve",t.curve)("links",t.graph.links)("nodes",t.graph.nodes)}}let Hl=(()=>{class e{constructor(t,i,h){this.dialog=t,this.service=i,this.cd=h,this.families=[],this.curve=g,this.layout=new V,this.init=new c({nodes:[{id:"start",label:"start",data:{hasIcon:!0,icon:"star",colorBox:"#ff9999",text:"texto",title:"titulo"}},{id:"end",label:"End",data:{hasIcon:!0,icon:"star",colorBox:"#66ffcc",text:"texto",title:"titulo"}}],links:[{source:"start",target:"end"}]}),this.graph=this.init}ngOnInit(){var t=this;return p(function*(){t.families=yield a(t.service.getFamily())})()}selectFamily(t){var i=this;return p(function*(){if(t){const T=yield a(i.service.getNodes(t.id));return i.graph.nodes=[...T.nodes.map(C=>({id:C.id,label:C.label,data:{hasIcon:C.data.hasIcon,icon:C.data.icon,title:C.data.title,colorBox:C.data.colorBox,text:C.data.text}}))],i.graph.links=[...T.links],void i.cd.detectChanges()}const h=new b.i({type:b.X.Alert,message:"Debes seleccionar al menos un registro",title:"Advertencia"}),x=new w.vA;x.disableClose=!0,x.autoFocus=!0,x.data=h,i.dialog.open(A.a,x),i.graph=i.init})()}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(w.uw),s.Y36(j.d),s.Y36(s.sBO))},e.\u0275cmp=s.Xpm({type:e,selectors:[["app-family"]],decls:4,vars:2,consts:[["appearance","outline","placeholder","Selecciona una item","bindLabel","description","bindValue","id",3,"items","change"],[1,"container"],["fxLayout","column","fxFill",""],["class","chart-container",3,"layout","autoCenter","curve","links","nodes",4,"ngIf"],[1,"chart-container",3,"layout","autoCenter","curve","links","nodes"],["myChart",""],["defsTemplate",""],["linkTemplate",""],["nodeTemplate",""],["id","arrow","fill","#3CCFA0","viewBox","0 -5 10 10","refX","8","refY","0","markerWidth","4","markerHeight","4","orient","auto"],["d","M0,-5L10,0L0,5",1,"arrow-head"],[1,"edge"],["stroke-width","4","marker-end","url(#arrow)",1,"line"],["text-anchor","middle",1,"edge-label"],[1,"node"],["width","180","height","100"],["xmlns","http://www.w3.org/1999/xhtml"],[3,"dataIn"]],template:function(t,i){1&t&&(s.TgZ(0,"ng-select",0),s.NdJ("change",function(x){return i.selectFamily(x)}),s.qZA(),s.TgZ(1,"div",1)(2,"div",2),s.YNc(3,Rl,8,5,"ngx-graph",3),s.qZA()()),2&t&&(s.Q6J("items",i.families),s.xp6(3),s.Q6J("ngIf",i.graph))},dependencies:[v.O5,mu,Il,ke.xw,ke.s9,Pl],styles:["[_nghost-%COMP%]   .container[_ngcontent-%COMP%]{height:90%}[_nghost-%COMP%]   .chart-container[_ngcontent-%COMP%]{background-image:repeating-linear-gradient(90deg,hsla(206deg,0%,65%,.05) 0px,hsla(206deg,0%,65%,.05) 1px,transparent 1px,transparent 104px),repeating-linear-gradient(0deg,hsla(206deg,0%,65%,.05) 0px,hsla(206deg,0%,65%,.05) 1px,transparent 1px,transparent 104px),repeating-linear-gradient(0deg,hsla(206deg,0%,65%,.07) 0px,hsla(206deg,0%,65%,.07) 1px,transparent 1px,transparent 52px),repeating-linear-gradient(90deg,hsla(206deg,0%,65%,.07) 0px,hsla(206deg,0%,65%,.07) 1px,transparent 1px,transparent 52px),linear-gradient(45deg,rgb(242,235,235),rgb(242,235,235))}.node[_ngcontent-%COMP%]{border:5px solid red}"],changeDetection:0}),e})();var zl=r(6962),Yl=r(2253),Vl=r(6370);const cr=[{path:"home",component:Hl},{path:"",redirectTo:"home",pathMatch:"full"}];let Ul=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({providers:[Yl.$,j.d],imports:[zl.Bz.forChild(cr),v.ez,yu,Ll,nr.u5,ke.ae,Vl.a,hr.Ps]}),e})()},9695:(_,E,r)=>{_.exports={graphlib:r(6456),layout:r(4850),debug:r(1914),util:{time:r(1510).time,notime:r(1510).notime},version:r(8126)}},2234:(_,E,r)=>{"use strict";var o=r(5760),y=r(7365);_.exports={run:function m(p){var u="greedy"===p.graph().acyclicer?y(p,function a(c){return function(f){return c.edge(f).weight}}(p)):function v(p){var u=[],a={},c={};return o.forEach(p.nodes(),function f(l){o.has(c,l)||(c[l]=!0,a[l]=!0,o.forEach(p.outEdges(l),function(g){o.has(a,g.w)?u.push(g):f(g.w)}),delete a[l])}),u}(p);o.forEach(u,function(c){var f=p.edge(c);p.removeEdge(c),f.forwardName=c.name,f.reversed=!0,p.setEdge(c.w,c.v,f,o.uniqueId("rev"))})},undo:function d(p){o.forEach(p.edges(),function(u){var a=p.edge(u);if(a.reversed){p.removeEdge(u);var c=a.forwardName;delete a.reversed,delete a.forwardName,p.setEdge(u.w,u.v,a,c)}})}}},9999:(_,E,r)=>{var o=r(5760),y=r(1510);function v(d,p,u,a,c,f){var g=c[p][f-1],b=y.addDummyNode(d,"border",{width:0,height:0,rank:f,borderType:p},u);c[p][f]=b,d.setParent(b,a),g&&d.setEdge(g,b,{weight:1})}_.exports=function m(d){o.forEach(d.children(),function p(u){var a=d.children(u),c=d.node(u);if(a.length&&o.forEach(a,p),o.has(c,"minRank")){c.borderLeft=[],c.borderRight=[];for(var f=c.minRank,l=c.maxRank+1;f<l;++f)v(d,"borderLeft","_bl",u,c,f),v(d,"borderRight","_br",u,c,f)}})}},3870:(_,E,r)=>{"use strict";var o=r(5760);function v(f){o.forEach(f.nodes(),function(l){d(f.node(l))}),o.forEach(f.edges(),function(l){d(f.edge(l))})}function d(f){var l=f.width;f.width=f.height,f.height=l}function u(f){f.y=-f.y}function c(f){var l=f.x;f.x=f.y,f.y=l}_.exports={adjust:function y(f){var l=f.graph().rankdir.toLowerCase();("lr"===l||"rl"===l)&&v(f)},undo:function m(f){var l=f.graph().rankdir.toLowerCase();("bt"===l||"rl"===l)&&function p(f){o.forEach(f.nodes(),function(l){u(f.node(l))}),o.forEach(f.edges(),function(l){var g=f.edge(l);o.forEach(g.points,u),o.has(g,"y")&&u(g)})}(f),("lr"===l||"rl"===l)&&(function a(f){o.forEach(f.nodes(),function(l){c(f.node(l))}),o.forEach(f.edges(),function(l){var g=f.edge(l);o.forEach(g.points,c),o.has(g,"x")&&c(g)})}(f),v(f))}}},3226:_=>{function E(){var y={};y._next=y._prev=y,this._sentinel=y}function r(y){y._prev._next=y._next,y._next._prev=y._prev,delete y._next,delete y._prev}function o(y,m){if("_next"!==y&&"_prev"!==y)return m}_.exports=E,E.prototype.dequeue=function(){var y=this._sentinel,m=y._prev;if(m!==y)return r(m),m},E.prototype.enqueue=function(y){var m=this._sentinel;y._prev&&y._next&&r(y),y._next=m._next,m._next._prev=y,m._next=y,y._prev=m},E.prototype.toString=function(){for(var y=[],m=this._sentinel,v=m._prev;v!==m;)y.push(JSON.stringify(v,o)),v=v._prev;return"["+y.join(", ")+"]"}},1914:(_,E,r)=>{var o=r(5760),y=r(1510),m=r(6456).Graph;_.exports={debugOrdering:function v(d){var p=y.buildLayerMatrix(d),u=new m({compound:!0,multigraph:!0}).setGraph({});return o.forEach(d.nodes(),function(a){u.setNode(a,{label:a}),u.setParent(a,"layer"+d.node(a).rank)}),o.forEach(d.edges(),function(a){u.setEdge(a.v,a.w,{},a.name)}),o.forEach(p,function(a,c){u.setNode("layer"+c,{rank:"same"}),o.reduce(a,function(l,g){return u.setEdge(l,g,{style:"invis"}),g})}),u}}},6456:(_,E,r)=>{var o;try{o=r(5510)}catch{}o||(o=window.graphlib),_.exports=o},7365:(_,E,r)=>{var o=r(5760),y=r(6456).Graph,m=r(3226);_.exports=function d(f,l){if(f.nodeCount()<=1)return[];var g=function a(f,l){var g=new y,b=0,w=0;o.forEach(f.nodes(),function(O){g.setNode(O,{v:O,in:0,out:0})}),o.forEach(f.edges(),function(O){var N=g.edge(O.v,O.w)||0,M=l(O);g.setEdge(O.v,O.w,N+M),w=Math.max(w,g.node(O.v).out+=M),b=Math.max(b,g.node(O.w).in+=M)});var A=o.range(w+b+3).map(function(){return new m}),S=b+1;return o.forEach(g.nodes(),function(O){c(A,S,g.node(O))}),{graph:g,buckets:A,zeroIdx:S}}(f,l||v),b=function p(f,l,g){for(var S,b=[],w=l[l.length-1],A=l[0];f.nodeCount();){for(;S=A.dequeue();)u(f,l,g,S);for(;S=w.dequeue();)u(f,l,g,S);if(f.nodeCount())for(var O=l.length-2;O>0;--O)if(S=l[O].dequeue()){b=b.concat(u(f,l,g,S,!0));break}}return b}(g.graph,g.buckets,g.zeroIdx);return o.flatten(o.map(b,function(w){return f.outEdges(w.v,w.w)}),!0)};var v=o.constant(1);function u(f,l,g,b,w){var A=w?[]:void 0;return o.forEach(f.inEdges(b.v),function(S){var O=f.edge(S),N=f.node(S.v);w&&A.push({v:S.v,w:S.w}),N.out-=O,c(l,g,N)}),o.forEach(f.outEdges(b.v),function(S){var O=f.edge(S),M=f.node(S.w);M.in-=O,c(l,g,M)}),f.removeNode(b.v),A}function c(f,l,g){g.out?g.in?f[g.out-g.in+l].enqueue(g):f[f.length-1].enqueue(g):f[0].enqueue(g)}},4850:(_,E,r)=>{"use strict";var o=r(5760),y=r(2234),m=r(1496),v=r(4124),d=r(1510).normalizeRanks,p=r(162),u=r(1510).removeEmptyRanks,a=r(1230),c=r(9999),f=r(3870),l=r(2974),g=r(8226),b=r(1510),w=r(6456).Graph;_.exports=function A(W,Q){var it=Q&&Q.debugTiming?b.time:b.notime;it("layout",function(){var at=it("  buildLayoutGraph",function(){return function D(W){var Q=new w({multigraph:!0,compound:!0}),it=pt(W.graph());return Q.setGraph(o.merge({},M,ut(it,N),o.pick(it,G))),o.forEach(W.nodes(),function(at){var ft=pt(W.node(at));Q.setNode(at,o.defaults(ut(ft,Y),V)),Q.setParent(at,W.parent(at))}),o.forEach(W.edges(),function(at){var ft=pt(W.edge(at));Q.setEdge(at,o.merge({},j,ut(ft,s),o.pick(ft,L)))}),Q}(W)});it("  runLayout",function(){!function S(W,Q){Q("    makeSpaceForEdgeLabels",function(){!function F(W){var Q=W.graph();Q.ranksep/=2,o.forEach(W.edges(),function(it){var at=W.edge(it);at.minlen*=2,"c"!==at.labelpos.toLowerCase()&&("TB"===Q.rankdir||"BT"===Q.rankdir?at.width+=at.labeloffset:at.height+=at.labeloffset)})}(W)}),Q("    removeSelfEdges",function(){!function rt(W){o.forEach(W.edges(),function(Q){if(Q.v===Q.w){var it=W.node(Q.v);it.selfEdges||(it.selfEdges=[]),it.selfEdges.push({e:Q,label:W.edge(Q)}),W.removeEdge(Q)}})}(W)}),Q("    acyclic",function(){y.run(W)}),Q("    nestingGraph.run",function(){a.run(W)}),Q("    rank",function(){v(b.asNonCompoundGraph(W))}),Q("    injectEdgeLabelProxies",function(){!function k(W){o.forEach(W.edges(),function(Q){var it=W.edge(Q);if(it.width&&it.height){var at=W.node(Q.v),ft=W.node(Q.w);b.addDummyNode(W,"edge-proxy",{rank:(ft.rank-at.rank)/2+at.rank,e:Q},"_ep")}})}(W)}),Q("    removeEmptyRanks",function(){u(W)}),Q("    nestingGraph.cleanup",function(){a.cleanup(W)}),Q("    normalizeRanks",function(){d(W)}),Q("    assignRankMinMax",function(){!function B(W){var Q=0;o.forEach(W.nodes(),function(it){var at=W.node(it);at.borderTop&&(at.minRank=W.node(at.borderTop).rank,at.maxRank=W.node(at.borderBottom).rank,Q=o.max(Q,at.maxRank))}),W.graph().maxRank=Q}(W)}),Q("    removeEdgeLabelProxies",function(){!function U(W){o.forEach(W.nodes(),function(Q){var it=W.node(Q);"edge-proxy"===it.dummy&&(W.edge(it.e).labelRank=it.rank,W.removeNode(Q))})}(W)}),Q("    normalize.run",function(){m.run(W)}),Q("    parentDummyChains",function(){p(W)}),Q("    addBorderSegments",function(){c(W)}),Q("    order",function(){l(W)}),Q("    insertSelfEdges",function(){!function tt(W){var Q=b.buildLayerMatrix(W);o.forEach(Q,function(it){var at=0;o.forEach(it,function(ft,ct){var gt=W.node(ft);gt.order=ct+at,o.forEach(gt.selfEdges,function(yt){b.addDummyNode(W,"selfedge",{width:yt.label.width,height:yt.label.height,rank:gt.rank,order:ct+ ++at,e:yt.e,label:yt.label},"_se")}),delete gt.selfEdges})})}(W)}),Q("    adjustCoordinateSystem",function(){f.adjust(W)}),Q("    position",function(){g(W)}),Q("    positionSelfEdges",function(){!function st(W){o.forEach(W.nodes(),function(Q){var it=W.node(Q);if("selfedge"===it.dummy){var at=W.node(it.e.v),ft=at.x+at.width/2,ct=at.y,gt=it.x-ft,yt=at.height/2;W.setEdge(it.e,it.label),W.removeNode(Q),it.label.points=[{x:ft+2*gt/3,y:ct-yt},{x:ft+5*gt/6,y:ct-yt},{x:ft+gt,y:ct},{x:ft+5*gt/6,y:ct+yt},{x:ft+2*gt/3,y:ct+yt}],it.label.x=it.x,it.label.y=it.y}})}(W)}),Q("    removeBorderNodes",function(){!function J(W){o.forEach(W.nodes(),function(Q){if(W.children(Q).length){var it=W.node(Q),at=W.node(it.borderTop),ft=W.node(it.borderBottom),ct=W.node(o.last(it.borderLeft)),gt=W.node(o.last(it.borderRight));it.width=Math.abs(gt.x-ct.x),it.height=Math.abs(ft.y-at.y),it.x=ct.x+it.width/2,it.y=at.y+it.height/2}}),o.forEach(W.nodes(),function(Q){"border"===W.node(Q).dummy&&W.removeNode(Q)})}(W)}),Q("    normalize.undo",function(){m.undo(W)}),Q("    fixupEdgeLabelCoords",function(){!function R(W){o.forEach(W.edges(),function(Q){var it=W.edge(Q);if(o.has(it,"x"))switch(("l"===it.labelpos||"r"===it.labelpos)&&(it.width-=it.labeloffset),it.labelpos){case"l":it.x-=it.width/2+it.labeloffset;break;case"r":it.x+=it.width/2+it.labeloffset}})}(W)}),Q("    undoCoordinateSystem",function(){f.undo(W)}),Q("    translateGraph",function(){!function K(W){var Q=Number.POSITIVE_INFINITY,it=0,at=Number.POSITIVE_INFINITY,ft=0,ct=W.graph(),gt=ct.marginx||0,yt=ct.marginy||0;function Pt(_t){var Tt=_t.x,mt=_t.y,Vt=_t.width,vt=_t.height;Q=Math.min(Q,Tt-Vt/2),it=Math.max(it,Tt+Vt/2),at=Math.min(at,mt-vt/2),ft=Math.max(ft,mt+vt/2)}o.forEach(W.nodes(),function(_t){Pt(W.node(_t))}),o.forEach(W.edges(),function(_t){var Tt=W.edge(_t);o.has(Tt,"x")&&Pt(Tt)}),Q-=gt,at-=yt,o.forEach(W.nodes(),function(_t){var Tt=W.node(_t);Tt.x-=Q,Tt.y-=at}),o.forEach(W.edges(),function(_t){var Tt=W.edge(_t);o.forEach(Tt.points,function(mt){mt.x-=Q,mt.y-=at}),o.has(Tt,"x")&&(Tt.x-=Q),o.has(Tt,"y")&&(Tt.y-=at)}),ct.width=it-Q+gt,ct.height=ft-at+yt}(W)}),Q("    assignNodeIntersects",function(){!function H(W){o.forEach(W.edges(),function(Q){var ct,gt,it=W.edge(Q),at=W.node(Q.v),ft=W.node(Q.w);it.points?(ct=it.points[0],gt=it.points[it.points.length-1]):(it.points=[],ct=ft,gt=at),it.points.unshift(b.intersectRect(at,ct)),it.points.push(b.intersectRect(ft,gt))})}(W)}),Q("    reversePoints",function(){!function X(W){o.forEach(W.edges(),function(Q){var it=W.edge(Q);it.reversed&&it.points.reverse()})}(W)}),Q("    acyclic.undo",function(){y.undo(W)})}(at,it)}),it("  updateInputGraph",function(){!function O(W,Q){o.forEach(W.nodes(),function(it){var at=W.node(it),ft=Q.node(it);at&&(at.x=ft.x,at.y=ft.y,Q.children(it).length&&(at.width=ft.width,at.height=ft.height))}),o.forEach(W.edges(),function(it){var at=W.edge(it),ft=Q.edge(it);at.points=ft.points,o.has(ft,"x")&&(at.x=ft.x,at.y=ft.y)}),W.graph().width=Q.graph().width,W.graph().height=Q.graph().height}(W,at)})})};var N=["nodesep","edgesep","ranksep","marginx","marginy"],M={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},G=["acyclicer","ranker","rankdir","align"],Y=["width","height"],V={width:0,height:0},s=["minlen","weight","width","height","labeloffset"],j={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},L=["labelpos"];function ut(W,Q){return o.mapValues(o.pick(W,Q),Number)}function pt(W){var Q={};return o.forEach(W,function(it,at){Q[at.toLowerCase()]=it}),Q}},5760:(_,E,r)=>{var o;try{o={cloneDeep:r(733),constant:r(6684),defaults:r(8800),each:r(5474),filter:r(5281),find:r(2516),flatten:r(2274),forEach:r(9851),forIn:r(1176),has:r(4842),isUndefined:r(4235),last:r(5809),map:r(9984),mapValues:r(203),max:r(8176),merge:r(567),min:r(9439),minBy:r(9525),now:r(1710),pick:r(6372),range:r(361),reduce:r(1337),sortBy:r(2906),uniqueId:r(1541),values:r(377),zipObject:r(1617)}}catch{}o||(o=window._),_.exports=o},1230:(_,E,r)=>{var o=r(5760),y=r(1510);function v(a,c,f,l,g,b,w){var A=a.children(w);if(A.length){var S=y.addBorderNode(a,"_bt"),O=y.addBorderNode(a,"_bb"),N=a.node(w);a.setParent(S,w),N.borderTop=S,a.setParent(O,w),N.borderBottom=O,o.forEach(A,function(M){v(a,c,f,l,g,b,M);var G=a.node(M),Y=G.borderTop?G.borderTop:M,V=G.borderBottom?G.borderBottom:M,s=G.borderTop?l:2*l,j=Y!==V?1:g-b[w]+1;a.setEdge(S,Y,{weight:s,minlen:j,nestingEdge:!0}),a.setEdge(V,O,{weight:s,minlen:j,nestingEdge:!0})}),a.parent(w)||a.setEdge(c,S,{weight:0,minlen:g+b[w]})}else w!==c&&a.setEdge(c,w,{weight:0,minlen:f})}_.exports={run:function m(a){var c=y.addDummyNode(a,"root",{},"_root"),f=function d(a){var c={};function f(l,g){var b=a.children(l);b&&b.length&&o.forEach(b,function(w){f(w,g+1)}),c[l]=g}return o.forEach(a.children(),function(l){f(l,1)}),c}(a),l=o.max(o.values(f))-1,g=2*l+1;a.graph().nestingRoot=c,o.forEach(a.edges(),function(w){a.edge(w).minlen*=g});var b=function p(a){return o.reduce(a.edges(),function(c,f){return c+a.edge(f).weight},0)}(a)+1;o.forEach(a.children(),function(w){v(a,c,g,b,l,f,w)}),a.graph().nodeRankFactor=g},cleanup:function u(a){var c=a.graph();a.removeNode(c.nestingRoot),delete c.nestingRoot,o.forEach(a.edges(),function(f){a.edge(f).nestingEdge&&a.removeEdge(f)})}}},1496:(_,E,r)=>{"use strict";var o=r(5760),y=r(1510);_.exports={run:function m(p){p.graph().dummyChains=[],o.forEach(p.edges(),function(u){!function v(p,u){var a=u.v,c=p.node(a).rank,f=u.w,l=p.node(f).rank,g=u.name,b=p.edge(u),w=b.labelRank;if(l!==c+1){var A,S,O;for(p.removeEdge(u),O=0,++c;c<l;++O,++c)b.points=[],A=y.addDummyNode(p,"edge",S={width:0,height:0,edgeLabel:b,edgeObj:u,rank:c},"_d"),c===w&&(S.width=b.width,S.height=b.height,S.dummy="edge-label",S.labelpos=b.labelpos),p.setEdge(a,A,{weight:b.weight},g),0===O&&p.graph().dummyChains.push(A),a=A;p.setEdge(a,f,{weight:b.weight},g)}}(p,u)})},undo:function d(p){o.forEach(p.graph().dummyChains,function(u){var f,a=p.node(u),c=a.edgeLabel;for(p.setEdge(a.edgeObj,c);a.dummy;)f=p.successors(u)[0],p.removeNode(u),c.points.push({x:a.x,y:a.y}),"edge-label"===a.dummy&&(c.x=a.x,c.y=a.y,c.width=a.width,c.height=a.height),a=p.node(u=f)})}}},3034:(_,E,r)=>{var o=r(5760);_.exports=function y(m,v,d){var u,p={};o.forEach(d,function(a){for(var f,l,c=m.parent(a);c;){if((f=m.parent(c))?(l=p[f],p[f]=c):(l=u,u=c),l&&l!==c)return void v.setEdge(l,c);c=f}})}},1323:(_,E,r)=>{var o=r(5760);_.exports=function y(m,v){return o.map(v,function(d){var p=m.inEdges(d);if(p.length){var u=o.reduce(p,function(a,c){var f=m.edge(c),l=m.node(c.v);return{sum:a.sum+f.weight*l.order,weight:a.weight+f.weight}},{sum:0,weight:0});return{v:d,barycenter:u.sum/u.weight,weight:u.weight}}return{v:d}})}},1686:(_,E,r)=>{var o=r(5760),y=r(6456).Graph;_.exports=function m(d,p,u){var a=function v(d){for(var p;d.hasNode(p=o.uniqueId("_root")););return p}(d),c=new y({compound:!0}).setGraph({root:a}).setDefaultNodeLabel(function(f){return d.node(f)});return o.forEach(d.nodes(),function(f){var l=d.node(f),g=d.parent(f);(l.rank===p||l.minRank<=p&&p<=l.maxRank)&&(c.setNode(f),c.setParent(f,g||a),o.forEach(d[u](f),function(b){var w=b.v===f?b.w:b.v,A=c.edge(w,f),S=o.isUndefined(A)?0:A.weight;c.setEdge(w,f,{weight:d.edge(b).weight+S})}),o.has(l,"minRank")&&c.setNode(f,{borderLeft:l.borderLeft[p],borderRight:l.borderRight[p]}))}),c}},8796:(_,E,r)=>{"use strict";var o=r(5760);function m(v,d,p){for(var u=o.zipObject(p,o.map(p,function(b,w){return w})),a=o.flatten(o.map(d,function(b){return o.sortBy(o.map(v.outEdges(b),function(w){return{pos:u[w.w],weight:v.edge(w).weight}}),"pos")}),!0),c=1;c<p.length;)c<<=1;var f=2*c-1;c-=1;var l=o.map(new Array(f),function(){return 0}),g=0;return o.forEach(a.forEach(function(b){var w=b.pos+c;l[w]+=b.weight;for(var A=0;w>0;)w%2&&(A+=l[w+1]),l[w=w-1>>1]+=b.weight;g+=b.weight*A})),g}_.exports=function y(v,d){for(var p=0,u=1;u<d.length;++u)p+=m(v,d[u-1],d[u]);return p}},2974:(_,E,r)=>{"use strict";var o=r(5760),y=r(9402),m=r(8796),v=r(1057),d=r(1686),p=r(3034),u=r(6456).Graph,a=r(1510);function f(b,w,A){return o.map(w,function(S){return d(b,S,A)})}function l(b,w){var A=new u;o.forEach(b,function(S){var O=S.graph().root,N=v(S,O,A,w);o.forEach(N.vs,function(M,G){S.node(M).order=G}),p(S,A,N.vs)})}function g(b,w){o.forEach(w,function(A){o.forEach(A,function(S,O){b.node(S).order=O})})}_.exports=function c(b){var w=a.maxRank(b),A=f(b,o.range(1,w+1),"inEdges"),S=f(b,o.range(w-1,-1,-1),"outEdges"),O=y(b);g(b,O);for(var M,N=Number.POSITIVE_INFINITY,G=0,Y=0;Y<4;++G,++Y){l(G%2?A:S,G%4>=2),O=a.buildLayerMatrix(b);var V=m(b,O);V<N&&(Y=0,M=o.cloneDeep(O),N=V)}g(b,M)}},9402:(_,E,r)=>{"use strict";var o=r(5760);_.exports=function y(m){var v={},d=o.filter(m.nodes(),function(f){return!m.children(f).length}),p=o.max(o.map(d,function(f){return m.node(f).rank})),u=o.map(o.range(p+1),function(){return[]}),c=o.sortBy(d,function(f){return m.node(f).rank});return o.forEach(c,function a(f){if(!o.has(v,f)){v[f]=!0;var l=m.node(f);u[l.rank].push(f),o.forEach(m.successors(f),a)}}),u}},3826:(_,E,r)=>{"use strict";var o=r(5760);_.exports=function y(d,p){var u={};return o.forEach(d,function(c,f){var l=u[c.v]={indegree:0,in:[],out:[],vs:[c.v],i:f};o.isUndefined(c.barycenter)||(l.barycenter=c.barycenter,l.weight=c.weight)}),o.forEach(p.edges(),function(c){var f=u[c.v],l=u[c.w];!o.isUndefined(f)&&!o.isUndefined(l)&&(l.indegree++,f.out.push(u[c.w]))}),function m(d){var p=[];function u(f){return function(l){l.merged||(o.isUndefined(l.barycenter)||o.isUndefined(f.barycenter)||l.barycenter>=f.barycenter)&&function v(d,p){var u=0,a=0;d.weight&&(u+=d.barycenter*d.weight,a+=d.weight),p.weight&&(u+=p.barycenter*p.weight,a+=p.weight),d.vs=p.vs.concat(d.vs),d.barycenter=u/a,d.weight=a,d.i=Math.min(p.i,d.i),p.merged=!0}(f,l)}}function a(f){return function(l){l.in.push(f),0==--l.indegree&&d.push(l)}}for(;d.length;){var c=d.pop();p.push(c),o.forEach(c.in.reverse(),u(c)),o.forEach(c.out,a(c))}return o.map(o.filter(p,function(f){return!f.merged}),function(f){return o.pick(f,["vs","i","barycenter","weight"])})}(o.filter(u,function(c){return!c.indegree}))}},1057:(_,E,r)=>{var o=r(5760),y=r(1323),m=r(3826),v=r(3803);_.exports=function d(a,c,f,l){var g=a.children(c),b=a.node(c),w=b?b.borderLeft:void 0,A=b?b.borderRight:void 0,S={};w&&(g=o.filter(g,function(V){return V!==w&&V!==A}));var O=y(a,g);o.forEach(O,function(V){if(a.children(V.v).length){var s=d(a,V.v,f,l);S[V.v]=s,o.has(s,"barycenter")&&function u(a,c){o.isUndefined(a.barycenter)?(a.barycenter=c.barycenter,a.weight=c.weight):(a.barycenter=(a.barycenter*a.weight+c.barycenter*c.weight)/(a.weight+c.weight),a.weight+=c.weight)}(V,s)}});var N=m(O,f);!function p(a,c){o.forEach(a,function(f){f.vs=o.flatten(f.vs.map(function(l){return c[l]?c[l].vs:l}),!0)})}(N,S);var M=v(N,l);if(w&&(M.vs=o.flatten([w,M.vs,A],!0),a.predecessors(w).length)){var G=a.node(a.predecessors(w)[0]),Y=a.node(a.predecessors(A)[0]);o.has(M,"barycenter")||(M.barycenter=0,M.weight=0),M.barycenter=(M.barycenter*M.weight+G.order+Y.order)/(M.weight+2),M.weight+=2}return M}},3803:(_,E,r)=>{var o=r(5760),y=r(1510);function v(p,u,a){for(var c;u.length&&(c=o.last(u)).i<=a;)u.pop(),p.push(c.vs),a++;return a}_.exports=function m(p,u){var a=y.partition(p,function(S){return o.has(S,"barycenter")}),c=a.lhs,f=o.sortBy(a.rhs,function(S){return-S.i}),l=[],g=0,b=0,w=0;c.sort(function d(p){return function(u,a){return u.barycenter<a.barycenter?-1:u.barycenter>a.barycenter?1:p?a.i-u.i:u.i-a.i}}(!!u)),w=v(l,f,w),o.forEach(c,function(S){w+=S.vs.length,l.push(S.vs),g+=S.barycenter*S.weight,b+=S.weight,w=v(l,f,w)});var A={vs:o.flatten(l,!0)};return b&&(A.barycenter=g/b,A.weight=b),A}},162:(_,E,r)=>{var o=r(5760);_.exports=function y(d){var p=function v(d){var p={},u=0;return o.forEach(d.children(),function a(c){var f=u;o.forEach(d.children(c),a),p[c]={low:f,lim:u++}}),p}(d);o.forEach(d.graph().dummyChains,function(u){for(var a=d.node(u),c=a.edgeObj,f=function m(d,p,u,a){var b,w,c=[],f=[],l=Math.min(p[u].low,p[a].low),g=Math.max(p[u].lim,p[a].lim);b=u;do{b=d.parent(b),c.push(b)}while(b&&(p[b].low>l||g>p[b].lim));for(w=b,b=a;(b=d.parent(b))!==w;)f.push(b);return{path:c.concat(f.reverse()),lca:w}}(d,p,c.v,c.w),l=f.path,g=f.lca,b=0,w=l[b],A=!0;u!==c.w;){if(a=d.node(u),A){for(;(w=l[b])!==g&&d.node(w).maxRank<a.rank;)b++;w===g&&(A=!1)}if(!A){for(;b<l.length-1&&d.node(w=l[b+1]).minRank<=a.rank;)b++;w=l[b]}d.setParent(u,w),u=d.successors(u)[0]}})}},4058:(_,E,r)=>{"use strict";var o=r(5760),y=r(6456).Graph,m=r(1510);function v(N,M){var G={};return o.reduce(M,function Y(V,s){var j=0,L=0,D=V.length,F=o.last(s);return o.forEach(s,function(k,B){var U=function p(N,M){if(N.node(M).dummy)return o.find(N.predecessors(M),function(G){return N.node(G).dummy})}(N,k),K=U?N.node(U).order:D;(U||k===F)&&(o.forEach(s.slice(L,B+1),function(H){o.forEach(N.predecessors(H),function(R){var X=N.node(R),J=X.order;(J<j||K<J)&&(!X.dummy||!N.node(H).dummy)&&u(G,R,H)})}),L=B+1,j=K)}),s}),G}function d(N,M){var G={};function Y(s,j,L,D,F){var k;o.forEach(o.range(j,L),function(B){N.node(k=s[B]).dummy&&o.forEach(N.predecessors(k),function(U){var K=N.node(U);K.dummy&&(K.order<D||K.order>F)&&u(G,U,k)})})}return o.reduce(M,function V(s,j){var D,L=-1,F=0;return o.forEach(j,function(k,B){if("border"===N.node(k).dummy){var U=N.predecessors(k);U.length&&(D=N.node(U[0]).order,Y(j,F,B,L,D),F=B,L=D)}Y(j,F,j.length,D,s.length)}),j}),G}function u(N,M,G){if(M>G){var Y=M;M=G,G=Y}var V=N[M];V||(N[M]=V={}),V[G]=!0}function a(N,M,G){if(M>G){var Y=M;M=G,G=Y}return o.has(N[M],G)}function c(N,M,G,Y){var V={},s={},j={};return o.forEach(M,function(L){o.forEach(L,function(D,F){V[D]=D,s[D]=D,j[D]=F})}),o.forEach(M,function(L){var D=-1;o.forEach(L,function(F){var k=Y(F);if(k.length)for(var B=((k=o.sortBy(k,function(R){return j[R]})).length-1)/2,U=Math.floor(B),K=Math.ceil(B);U<=K;++U){var H=k[U];s[F]===F&&D<j[H]&&!a(G,F,H)&&(s[H]=F,s[F]=V[F]=V[H],D=j[H])}})}),{root:V,align:s}}function f(N,M,G,Y,V){var s={},j=function l(N,M,G,Y){var V=new y,s=N.graph(),j=function S(N,M,G){return function(Y,V,s){var F,j=Y.node(V),L=Y.node(s),D=0;if(D+=j.width/2,o.has(j,"labelpos"))switch(j.labelpos.toLowerCase()){case"l":F=-j.width/2;break;case"r":F=j.width/2}if(F&&(D+=G?F:-F),F=0,D+=(j.dummy?M:N)/2,D+=(L.dummy?M:N)/2,D+=L.width/2,o.has(L,"labelpos"))switch(L.labelpos.toLowerCase()){case"l":F=L.width/2;break;case"r":F=-L.width/2}return F&&(D+=G?F:-F),F=0,D}}(s.nodesep,s.edgesep,Y);return o.forEach(M,function(L){var D;o.forEach(L,function(F){var k=G[F];if(V.setNode(k),D){var B=G[D],U=V.edge(B,k);V.setEdge(B,k,Math.max(j(N,F,D),U||0))}D=F})}),V}(N,M,G,V),L=V?"borderLeft":"borderRight";function D(B,U){for(var K=j.nodes(),H=K.pop(),R={};H;)R[H]?B(H):(R[H]=!0,K.push(H),K=K.concat(U(H))),H=K.pop()}return D(function F(B){s[B]=j.inEdges(B).reduce(function(U,K){return Math.max(U,s[K.v]+j.edge(K))},0)},j.predecessors.bind(j)),D(function k(B){var U=j.outEdges(B).reduce(function(H,R){return Math.min(H,s[R.w]-j.edge(R))},Number.POSITIVE_INFINITY),K=N.node(B);U!==Number.POSITIVE_INFINITY&&K.borderType!==L&&(s[B]=Math.max(s[B],U))},j.successors.bind(j)),o.forEach(Y,function(B){s[B]=s[G[B]]}),s}function g(N,M){return o.minBy(o.values(M),function(G){var Y=Number.NEGATIVE_INFINITY,V=Number.POSITIVE_INFINITY;return o.forIn(G,function(s,j){var L=function O(N,M){return N.node(M).width}(N,j)/2;Y=Math.max(s+L,Y),V=Math.min(s-L,V)}),Y-V})}function b(N,M){var G=o.values(M),Y=o.min(G),V=o.max(G);o.forEach(["u","d"],function(s){o.forEach(["l","r"],function(j){var F,L=s+j,D=N[L];if(D!==M){var k=o.values(D);(F="l"===j?Y-o.min(k):V-o.max(k))&&(N[L]=o.mapValues(D,function(B){return B+F}))}})})}function w(N,M){return o.mapValues(N.ul,function(G,Y){if(M)return N[M.toLowerCase()][Y];var V=o.sortBy(o.map(N,Y));return(V[1]+V[2])/2})}_.exports={positionX:function A(N){var V,M=m.buildLayerMatrix(N),G=o.merge(v(N,M),d(N,M)),Y={};o.forEach(["u","d"],function(j){V="u"===j?M:o.values(M).reverse(),o.forEach(["l","r"],function(L){"r"===L&&(V=o.map(V,function(B){return o.values(B).reverse()}));var D=("u"===j?N.predecessors:N.successors).bind(N),F=c(0,V,G,D),k=f(N,V,F.root,F.align,"r"===L);"r"===L&&(k=o.mapValues(k,function(B){return-B})),Y[j+L]=k})});var s=g(N,Y);return b(Y,s),w(Y,N.graph().align)},findType1Conflicts:v,findType2Conflicts:d,addConflict:u,hasConflict:a,verticalAlignment:c,horizontalCompaction:f,alignCoordinates:b,findSmallestWidthAlignment:g,balance:w}},8226:(_,E,r)=>{"use strict";var o=r(5760),y=r(1510),m=r(4058).positionX;_.exports=function v(p){(function d(p){var u=y.buildLayerMatrix(p),a=p.graph().ranksep,c=0;o.forEach(u,function(f){var l=o.max(o.map(f,function(g){return p.node(g).height}));o.forEach(f,function(g){p.node(g).y=c+l/2}),c+=l+a})})(p=y.asNonCompoundGraph(p)),o.forEach(m(p),function(u,a){p.node(a).x=u})}},6632:(_,E,r)=>{"use strict";var o=r(5760),y=r(6456).Graph,m=r(1916).slack;function d(a,c){return o.forEach(a.nodes(),function f(l){o.forEach(c.nodeEdges(l),function(g){var b=g.v,w=l===b?g.w:b;!a.hasNode(w)&&!m(c,g)&&(a.setNode(w,{}),a.setEdge(l,w,{}),f(w))})}),a.nodeCount()}function p(a,c){return o.minBy(c.edges(),function(f){if(a.hasNode(f.v)!==a.hasNode(f.w))return m(c,f)})}function u(a,c,f){o.forEach(a.nodes(),function(l){c.node(l).rank+=f})}_.exports=function v(a){var g,b,c=new y({directed:!1}),f=a.nodes()[0],l=a.nodeCount();for(c.setNode(f,{});d(c,a)<l;)g=p(c,a),b=c.hasNode(g.v)?m(a,g):-m(a,g),u(c,a,b);return c}},4124:(_,E,r)=>{"use strict";var y=r(1916).longestPath,m=r(6632),v=r(3804);_.exports=function d(c){switch(c.graph().ranker){case"network-simplex":default:!function a(c){v(c)}(c);break;case"tight-tree":!function u(c){y(c),m(c)}(c);break;case"longest-path":p(c)}};var p=y},3804:(_,E,r)=>{"use strict";var o=r(5760),y=r(6632),m=r(1916).slack,v=r(1916).longestPath,d=r(6456).alg.preorder,p=r(6456).alg.postorder,u=r(1510).simplify;function a(G){G=u(G),v(G);var V,Y=y(G);for(g(Y),c(Y,G);V=w(Y);)S(Y,G,V,A(Y,G,V))}function c(G,Y){var V=p(G,G.nodes());V=V.slice(0,V.length-1),o.forEach(V,function(s){!function f(G,Y,V){var s=G.node(V);G.edge(V,s.parent).cutvalue=l(G,Y,V)}(G,Y,s)})}function l(G,Y,V){var j=G.node(V).parent,L=!0,D=Y.edge(V,j),F=0;return D||(L=!1,D=Y.edge(j,V)),F=D.weight,o.forEach(Y.nodeEdges(V),function(k){var B=k.v===V,U=B?k.w:k.v;if(U!==j){var K=B===L,H=Y.edge(k).weight;if(F+=K?H:-H,function N(G,Y,V){return G.hasEdge(Y,V)}(G,V,U)){var R=G.edge(V,U).cutvalue;F+=K?-R:R}}}),F}function g(G,Y){arguments.length<2&&(Y=G.nodes()[0]),b(G,{},1,Y)}function b(G,Y,V,s,j){var L=V,D=G.node(s);return Y[s]=!0,o.forEach(G.neighbors(s),function(F){o.has(Y,F)||(V=b(G,Y,V,F,s))}),D.low=L,D.lim=V++,j?D.parent=j:delete D.parent,V}function w(G){return o.find(G.edges(),function(Y){return G.edge(Y).cutvalue<0})}function A(G,Y,V){var s=V.v,j=V.w;Y.hasEdge(s,j)||(s=V.w,j=V.v);var L=G.node(s),D=G.node(j),F=L,k=!1;L.lim>D.lim&&(F=D,k=!0);var B=o.filter(Y.edges(),function(U){return k===M(0,G.node(U.v),F)&&k!==M(0,G.node(U.w),F)});return o.minBy(B,function(U){return m(Y,U)})}function S(G,Y,V,s){G.removeEdge(V.v,V.w),G.setEdge(s.v,s.w,{}),g(G),c(G,Y),function O(G,Y){var V=o.find(G.nodes(),function(j){return!Y.node(j).parent}),s=d(G,V);s=s.slice(1),o.forEach(s,function(j){var L=G.node(j).parent,D=Y.edge(j,L),F=!1;D||(D=Y.edge(L,j),F=!0),Y.node(j).rank=Y.node(L).rank+(F?D.minlen:-D.minlen)})}(G,Y)}function M(G,Y,V){return V.low<=Y.lim&&Y.lim<=V.lim}_.exports=a,a.initLowLimValues=g,a.initCutValues=c,a.calcCutValue=l,a.leaveEdge=w,a.enterEdge=A,a.exchangeEdges=S},1916:(_,E,r)=>{"use strict";var o=r(5760);_.exports={longestPath:function y(v){var d={};o.forEach(v.sources(),function p(u){var a=v.node(u);if(o.has(d,u))return a.rank;d[u]=!0;var c=o.min(o.map(v.outEdges(u),function(f){return p(f.w)-v.edge(f).minlen}));return(c===Number.POSITIVE_INFINITY||null==c)&&(c=0),a.rank=c})},slack:function m(v,d){return v.node(d.w).rank-v.node(d.v).rank-v.edge(d).minlen}}},1510:(_,E,r)=>{"use strict";var o=r(5760),y=r(6456).Graph;function m(O,N,M,G){var Y;do{Y=o.uniqueId(G)}while(O.hasNode(Y));return M.dummy=N,O.setNode(Y,M),Y}function b(O){return o.max(o.map(O.nodes(),function(N){var M=O.node(N).rank;if(!o.isUndefined(M))return M}))}_.exports={addDummyNode:m,simplify:function v(O){var N=(new y).setGraph(O.graph());return o.forEach(O.nodes(),function(M){N.setNode(M,O.node(M))}),o.forEach(O.edges(),function(M){var G=N.edge(M.v,M.w)||{weight:0,minlen:1},Y=O.edge(M);N.setEdge(M.v,M.w,{weight:G.weight+Y.weight,minlen:Math.max(G.minlen,Y.minlen)})}),N},asNonCompoundGraph:function d(O){var N=new y({multigraph:O.isMultigraph()}).setGraph(O.graph());return o.forEach(O.nodes(),function(M){O.children(M).length||N.setNode(M,O.node(M))}),o.forEach(O.edges(),function(M){N.setEdge(M,O.edge(M))}),N},successorWeights:function p(O){var N=o.map(O.nodes(),function(M){var G={};return o.forEach(O.outEdges(M),function(Y){G[Y.w]=(G[Y.w]||0)+O.edge(Y).weight}),G});return o.zipObject(O.nodes(),N)},predecessorWeights:function u(O){var N=o.map(O.nodes(),function(M){var G={};return o.forEach(O.inEdges(M),function(Y){G[Y.v]=(G[Y.v]||0)+O.edge(Y).weight}),G});return o.zipObject(O.nodes(),N)},intersectRect:function a(O,N){var L,D,M=O.x,G=O.y,Y=N.x-M,V=N.y-G,s=O.width/2,j=O.height/2;if(!Y&&!V)throw new Error("Not possible to find intersection inside of the rectangle");return Math.abs(V)*s>Math.abs(Y)*j?(V<0&&(j=-j),L=j*Y/V,D=j):(Y<0&&(s=-s),L=s,D=s*V/Y),{x:M+L,y:G+D}},buildLayerMatrix:function c(O){var N=o.map(o.range(b(O)+1),function(){return[]});return o.forEach(O.nodes(),function(M){var G=O.node(M),Y=G.rank;o.isUndefined(Y)||(N[Y][G.order]=M)}),N},normalizeRanks:function f(O){var N=o.min(o.map(O.nodes(),function(M){return O.node(M).rank}));o.forEach(O.nodes(),function(M){var G=O.node(M);o.has(G,"rank")&&(G.rank-=N)})},removeEmptyRanks:function l(O){var N=o.min(o.map(O.nodes(),function(V){return O.node(V).rank})),M=[];o.forEach(O.nodes(),function(V){var s=O.node(V).rank-N;M[s]||(M[s]=[]),M[s].push(V)});var G=0,Y=O.graph().nodeRankFactor;o.forEach(M,function(V,s){o.isUndefined(V)&&s%Y!=0?--G:G&&o.forEach(V,function(j){O.node(j).rank+=G})})},addBorderNode:function g(O,N,M,G){var Y={width:0,height:0};return arguments.length>=4&&(Y.rank=M,Y.order=G),m(O,"border",Y,N)},maxRank:b,partition:function w(O,N){var M={lhs:[],rhs:[]};return o.forEach(O,function(G){N(G)?M.lhs.push(G):M.rhs.push(G)}),M},time:function A(O,N){var M=o.now();try{return N()}finally{console.log(O+" time: "+(o.now()-M)+"ms")}},notime:function S(O,N){return N()}}},8126:_=>{_.exports="0.8.5"},5510:(_,E,r)=>{var o=r(1838);_.exports={Graph:o.Graph,json:r(1088),alg:r(3430),version:o.version}},6730:(_,E,r)=>{var o=r(9138);_.exports=function y(m){var p,v={},d=[];function u(a){o.has(v,a)||(v[a]=!0,p.push(a),o.each(m.successors(a),u),o.each(m.predecessors(a),u))}return o.each(m.nodes(),function(a){p=[],u(a),p.length&&d.push(p)}),d}},2163:(_,E,r)=>{var o=r(9138);function m(v,d,p,u,a,c){o.has(u,d)||(u[d]=!0,p||c.push(d),o.each(a(d),function(f){m(v,f,p,u,a,c)}),p&&c.push(d))}_.exports=function y(v,d,p){o.isArray(d)||(d=[d]);var u=(v.isDirected()?v.successors:v.neighbors).bind(v),a=[],c={};return o.each(d,function(f){if(!v.hasNode(f))throw new Error("Graph does not have node: "+f);m(v,f,"post"===p,c,u,a)}),a}},5668:(_,E,r)=>{var o=r(1718),y=r(9138);_.exports=function m(v,d,p){return y.transform(v.nodes(),function(u,a){u[a]=o(v,a,d,p)},{})}},1718:(_,E,r)=>{var o=r(9138),y=r(1919);_.exports=function v(p,u,a,c){return function d(p,u,a,c){var g,b,f={},l=new y,w=function(A){var S=A.v!==g?A.v:A.w,O=f[S],N=a(A),M=b.distance+N;if(N<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+A+" Weight: "+N);M<O.distance&&(O.distance=M,O.predecessor=g,l.decrease(S,M))};for(p.nodes().forEach(function(A){var S=A===u?0:Number.POSITIVE_INFINITY;f[A]={distance:S},l.add(A,S)});l.size()>0&&(g=l.removeMin(),(b=f[g]).distance!==Number.POSITIVE_INFINITY);)c(g).forEach(w);return f}(p,String(u),a||m,c||function(f){return p.outEdges(f)})};var m=o.constant(1)},9611:(_,E,r)=>{var o=r(9138),y=r(3585);_.exports=function m(v){return o.filter(y(v),function(d){return d.length>1||1===d.length&&v.hasEdge(d[0],d[0])})}},2881:(_,E,r)=>{var o=r(9138);_.exports=function m(d,p,u){return function v(d,p,u){var a={},c=d.nodes();return c.forEach(function(f){a[f]={},a[f][f]={distance:0},c.forEach(function(l){f!==l&&(a[f][l]={distance:Number.POSITIVE_INFINITY})}),u(f).forEach(function(l){var g=l.v===f?l.w:l.v,b=p(l);a[f][g]={distance:b,predecessor:f}})}),c.forEach(function(f){var l=a[f];c.forEach(function(g){var b=a[g];c.forEach(function(w){var S=l[w],O=b[w],N=b[f].distance+S.distance;N<O.distance&&(O.distance=N,O.predecessor=S.predecessor)})})}),a}(d,p||y,u||function(a){return d.outEdges(a)})};var y=o.constant(1)},3430:(_,E,r)=>{_.exports={components:r(6730),dijkstra:r(1718),dijkstraAll:r(5668),findCycles:r(9611),floydWarshall:r(2881),isAcyclic:r(6693),postorder:r(6694),preorder:r(5330),prim:r(6823),tarjan:r(3585),topsort:r(2180)}},6693:(_,E,r)=>{var o=r(2180);_.exports=function y(m){try{o(m)}catch(v){if(v instanceof o.CycleException)return!1;throw v}return!0}},6694:(_,E,r)=>{var o=r(2163);_.exports=function y(m,v){return o(m,v,"post")}},5330:(_,E,r)=>{var o=r(2163);_.exports=function y(m,v){return o(m,v,"pre")}},6823:(_,E,r)=>{var o=r(9138),y=r(6568),m=r(1919);_.exports=function v(d,p){var f,u=new y,a={},c=new m;function l(b){var w=b.v===f?b.w:b.v,A=c.priority(w);if(void 0!==A){var S=p(b);S<A&&(a[w]=f,c.decrease(w,S))}}if(0===d.nodeCount())return u;o.each(d.nodes(),function(b){c.add(b,Number.POSITIVE_INFINITY),u.setNode(b)}),c.decrease(d.nodes()[0],0);for(var g=!1;c.size()>0;){if(f=c.removeMin(),o.has(a,f))u.setEdge(f,a[f]);else{if(g)throw new Error("Input graph is not connected: "+d);g=!0}d.nodeEdges(f).forEach(l)}return u}},3585:(_,E,r)=>{var o=r(9138);_.exports=function y(m){var v=0,d=[],p={},u=[];function a(c){var f=p[c]={onStack:!0,lowlink:v,index:v++};if(d.push(c),m.successors(c).forEach(function(b){o.has(p,b)?p[b].onStack&&(f.lowlink=Math.min(f.lowlink,p[b].index)):(a(b),f.lowlink=Math.min(f.lowlink,p[b].lowlink))}),f.lowlink===f.index){var g,l=[];do{g=d.pop(),p[g].onStack=!1,l.push(g)}while(c!==g);u.push(l)}}return m.nodes().forEach(function(c){o.has(p,c)||a(c)}),u}},2180:(_,E,r)=>{var o=r(9138);function y(v){var d={},p={},u=[];if(o.each(v.sinks(),function a(c){if(o.has(p,c))throw new m;o.has(d,c)||(p[c]=!0,d[c]=!0,o.each(v.predecessors(c),a),delete p[c],u.push(c))}),o.size(d)!==v.nodeCount())throw new m;return u}function m(){}_.exports=y,y.CycleException=m,m.prototype=new Error},1919:(_,E,r)=>{var o=r(9138);function y(){this._arr=[],this._keyIndices={}}_.exports=y,y.prototype.size=function(){return this._arr.length},y.prototype.keys=function(){return this._arr.map(function(m){return m.key})},y.prototype.has=function(m){return o.has(this._keyIndices,m)},y.prototype.priority=function(m){var v=this._keyIndices[m];if(void 0!==v)return this._arr[v].priority},y.prototype.min=function(){if(0===this.size())throw new Error("Queue underflow");return this._arr[0].key},y.prototype.add=function(m,v){var d=this._keyIndices;if(m=String(m),!o.has(d,m)){var p=this._arr,u=p.length;return d[m]=u,p.push({key:m,priority:v}),this._decrease(u),!0}return!1},y.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var m=this._arr.pop();return delete this._keyIndices[m.key],this._heapify(0),m.key},y.prototype.decrease=function(m,v){var d=this._keyIndices[m];if(v>this._arr[d].priority)throw new Error("New priority is greater than current priority. Key: "+m+" Old: "+this._arr[d].priority+" New: "+v);this._arr[d].priority=v,this._decrease(d)},y.prototype._heapify=function(m){var v=this._arr,d=2*m,p=d+1,u=m;d<v.length&&(u=v[d].priority<v[u].priority?d:u,p<v.length&&(u=v[p].priority<v[u].priority?p:u),u!==m&&(this._swap(m,u),this._heapify(u)))},y.prototype._decrease=function(m){for(var p,v=this._arr,d=v[m].priority;0!==m&&!(v[p=m>>1].priority<d);)this._swap(m,p),m=p},y.prototype._swap=function(m,v){var d=this._arr,p=this._keyIndices,u=d[m],a=d[v];d[m]=a,d[v]=u,p[a.key]=m,p[u.key]=v}},6568:(_,E,r)=>{"use strict";var o=r(9138);_.exports=d;var m="\0";function d(l){this._isDirected=!o.has(l,"directed")||l.directed,this._isMultigraph=!!o.has(l,"multigraph")&&l.multigraph,this._isCompound=!!o.has(l,"compound")&&l.compound,this._label=void 0,this._defaultNodeLabelFn=o.constant(void 0),this._defaultEdgeLabelFn=o.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[m]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}function p(l,g){l[g]?l[g]++:l[g]=1}function u(l,g){--l[g]||delete l[g]}function a(l,g,b,w){var A=""+g,S=""+b;if(!l&&A>S){var O=A;A=S,S=O}return A+"\x01"+S+"\x01"+(o.isUndefined(w)?"\0":w)}function c(l,g,b,w){var A=""+g,S=""+b;if(!l&&A>S){var O=A;A=S,S=O}var N={v:A,w:S};return w&&(N.name=w),N}function f(l,g){return a(l,g.v,g.w,g.name)}d.prototype._nodeCount=0,d.prototype._edgeCount=0,d.prototype.isDirected=function(){return this._isDirected},d.prototype.isMultigraph=function(){return this._isMultigraph},d.prototype.isCompound=function(){return this._isCompound},d.prototype.setGraph=function(l){return this._label=l,this},d.prototype.graph=function(){return this._label},d.prototype.setDefaultNodeLabel=function(l){return o.isFunction(l)||(l=o.constant(l)),this._defaultNodeLabelFn=l,this},d.prototype.nodeCount=function(){return this._nodeCount},d.prototype.nodes=function(){return o.keys(this._nodes)},d.prototype.sources=function(){var l=this;return o.filter(this.nodes(),function(g){return o.isEmpty(l._in[g])})},d.prototype.sinks=function(){var l=this;return o.filter(this.nodes(),function(g){return o.isEmpty(l._out[g])})},d.prototype.setNodes=function(l,g){var b=arguments,w=this;return o.each(l,function(A){b.length>1?w.setNode(A,g):w.setNode(A)}),this},d.prototype.setNode=function(l,g){return o.has(this._nodes,l)?(arguments.length>1&&(this._nodes[l]=g),this):(this._nodes[l]=arguments.length>1?g:this._defaultNodeLabelFn(l),this._isCompound&&(this._parent[l]=m,this._children[l]={},this._children[m][l]=!0),this._in[l]={},this._preds[l]={},this._out[l]={},this._sucs[l]={},++this._nodeCount,this)},d.prototype.node=function(l){return this._nodes[l]},d.prototype.hasNode=function(l){return o.has(this._nodes,l)},d.prototype.removeNode=function(l){var g=this;if(o.has(this._nodes,l)){var b=function(w){g.removeEdge(g._edgeObjs[w])};delete this._nodes[l],this._isCompound&&(this._removeFromParentsChildList(l),delete this._parent[l],o.each(this.children(l),function(w){g.setParent(w)}),delete this._children[l]),o.each(o.keys(this._in[l]),b),delete this._in[l],delete this._preds[l],o.each(o.keys(this._out[l]),b),delete this._out[l],delete this._sucs[l],--this._nodeCount}return this},d.prototype.setParent=function(l,g){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(o.isUndefined(g))g=m;else{for(var b=g+="";!o.isUndefined(b);b=this.parent(b))if(b===l)throw new Error("Setting "+g+" as parent of "+l+" would create a cycle");this.setNode(g)}return this.setNode(l),this._removeFromParentsChildList(l),this._parent[l]=g,this._children[g][l]=!0,this},d.prototype._removeFromParentsChildList=function(l){delete this._children[this._parent[l]][l]},d.prototype.parent=function(l){if(this._isCompound){var g=this._parent[l];if(g!==m)return g}},d.prototype.children=function(l){if(o.isUndefined(l)&&(l=m),this._isCompound){var g=this._children[l];if(g)return o.keys(g)}else{if(l===m)return this.nodes();if(this.hasNode(l))return[]}},d.prototype.predecessors=function(l){var g=this._preds[l];if(g)return o.keys(g)},d.prototype.successors=function(l){var g=this._sucs[l];if(g)return o.keys(g)},d.prototype.neighbors=function(l){var g=this.predecessors(l);if(g)return o.union(g,this.successors(l))},d.prototype.isLeaf=function(l){return 0===(this.isDirected()?this.successors(l):this.neighbors(l)).length},d.prototype.filterNodes=function(l){var g=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});g.setGraph(this.graph());var b=this;o.each(this._nodes,function(S,O){l(O)&&g.setNode(O,S)}),o.each(this._edgeObjs,function(S){g.hasNode(S.v)&&g.hasNode(S.w)&&g.setEdge(S,b.edge(S))});var w={};function A(S){var O=b.parent(S);return void 0===O||g.hasNode(O)?(w[S]=O,O):O in w?w[O]:A(O)}return this._isCompound&&o.each(g.nodes(),function(S){g.setParent(S,A(S))}),g},d.prototype.setDefaultEdgeLabel=function(l){return o.isFunction(l)||(l=o.constant(l)),this._defaultEdgeLabelFn=l,this},d.prototype.edgeCount=function(){return this._edgeCount},d.prototype.edges=function(){return o.values(this._edgeObjs)},d.prototype.setPath=function(l,g){var b=this,w=arguments;return o.reduce(l,function(A,S){return w.length>1?b.setEdge(A,S,g):b.setEdge(A,S),S}),this},d.prototype.setEdge=function(){var l,g,b,w,A=!1,S=arguments[0];"object"==typeof S&&null!==S&&"v"in S?(l=S.v,g=S.w,b=S.name,2===arguments.length&&(w=arguments[1],A=!0)):(l=S,g=arguments[1],b=arguments[3],arguments.length>2&&(w=arguments[2],A=!0)),l=""+l,g=""+g,o.isUndefined(b)||(b=""+b);var O=a(this._isDirected,l,g,b);if(o.has(this._edgeLabels,O))return A&&(this._edgeLabels[O]=w),this;if(!o.isUndefined(b)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(l),this.setNode(g),this._edgeLabels[O]=A?w:this._defaultEdgeLabelFn(l,g,b);var N=c(this._isDirected,l,g,b);return l=N.v,g=N.w,Object.freeze(N),this._edgeObjs[O]=N,p(this._preds[g],l),p(this._sucs[l],g),this._in[g][O]=N,this._out[l][O]=N,this._edgeCount++,this},d.prototype.edge=function(l,g,b){var w=1===arguments.length?f(this._isDirected,arguments[0]):a(this._isDirected,l,g,b);return this._edgeLabels[w]},d.prototype.hasEdge=function(l,g,b){var w=1===arguments.length?f(this._isDirected,arguments[0]):a(this._isDirected,l,g,b);return o.has(this._edgeLabels,w)},d.prototype.removeEdge=function(l,g,b){var w=1===arguments.length?f(this._isDirected,arguments[0]):a(this._isDirected,l,g,b),A=this._edgeObjs[w];return A&&(l=A.v,g=A.w,delete this._edgeLabels[w],delete this._edgeObjs[w],u(this._preds[g],l),u(this._sucs[l],g),delete this._in[g][w],delete this._out[l][w],this._edgeCount--),this},d.prototype.inEdges=function(l,g){var b=this._in[l];if(b){var w=o.values(b);return g?o.filter(w,function(A){return A.v===g}):w}},d.prototype.outEdges=function(l,g){var b=this._out[l];if(b){var w=o.values(b);return g?o.filter(w,function(A){return A.w===g}):w}},d.prototype.nodeEdges=function(l,g){var b=this.inEdges(l,g);if(b)return b.concat(this.outEdges(l,g))}},1838:(_,E,r)=>{_.exports={Graph:r(6568),version:r(5089)}},1088:(_,E,r)=>{var o=r(9138),y=r(6568);function v(u){return o.map(u.nodes(),function(a){var c=u.node(a),f=u.parent(a),l={v:a};return o.isUndefined(c)||(l.value=c),o.isUndefined(f)||(l.parent=f),l})}function d(u){return o.map(u.edges(),function(a){var c=u.edge(a),f={v:a.v,w:a.w};return o.isUndefined(a.name)||(f.name=a.name),o.isUndefined(c)||(f.value=c),f})}_.exports={write:function m(u){var a={options:{directed:u.isDirected(),multigraph:u.isMultigraph(),compound:u.isCompound()},nodes:v(u),edges:d(u)};return o.isUndefined(u.graph())||(a.value=o.clone(u.graph())),a},read:function p(u){var a=new y(u.options).setGraph(u.value);return o.each(u.nodes,function(c){a.setNode(c.v,c.value),c.parent&&a.setParent(c.v,c.parent)}),o.each(u.edges,function(c){a.setEdge({v:c.v,w:c.w,name:c.name},c.value)}),a}}},9138:(_,E,r)=>{var o;try{o={clone:r(1094),constant:r(6684),each:r(5474),filter:r(5281),has:r(4842),isArray:r(1503),isEmpty:r(1973),isFunction:r(5946),isUndefined:r(4235),keys:r(118),map:r(9984),reduce:r(1337),size:r(5637),transform:r(9416),union:r(8921),values:r(377)}}catch{}o||(o=window._),_.exports=o},5089:_=>{_.exports="2.1.8"},7244:(_,E,r)=>{var m=r(3436)(r(2119),"DataView");_.exports=m},4994:(_,E,r)=>{var o=r(4312),y=r(6421),m=r(5764),v=r(8685),d=r(6676);function p(u){var a=-1,c=null==u?0:u.length;for(this.clear();++a<c;){var f=u[a];this.set(f[0],f[1])}}p.prototype.clear=o,p.prototype.delete=y,p.prototype.get=m,p.prototype.has=v,p.prototype.set=d,_.exports=p},9215:(_,E,r)=>{var o=r(1840),y=r(4378),m=r(4981),v=r(7343),d=r(8895);function p(u){var a=-1,c=null==u?0:u.length;for(this.clear();++a<c;){var f=u[a];this.set(f[0],f[1])}}p.prototype.clear=o,p.prototype.delete=y,p.prototype.get=m,p.prototype.has=v,p.prototype.set=d,_.exports=p},1501:(_,E,r)=>{var m=r(3436)(r(2119),"Map");_.exports=m},9850:(_,E,r)=>{var o=r(638),y=r(1184),m=r(866),v=r(3771),d=r(1772);function p(u){var a=-1,c=null==u?0:u.length;for(this.clear();++a<c;){var f=u[a];this.set(f[0],f[1])}}p.prototype.clear=o,p.prototype.delete=y,p.prototype.get=m,p.prototype.has=v,p.prototype.set=d,_.exports=p},4267:(_,E,r)=>{var m=r(3436)(r(2119),"Promise");_.exports=m},6323:(_,E,r)=>{var m=r(3436)(r(2119),"Set");_.exports=m},8849:(_,E,r)=>{var o=r(9850),y=r(4600),m=r(1387);function v(d){var p=-1,u=null==d?0:d.length;for(this.__data__=new o;++p<u;)this.add(d[p])}v.prototype.add=v.prototype.push=y,v.prototype.has=m,_.exports=v},2858:(_,E,r)=>{var o=r(9215),y=r(3720),m=r(4410),v=r(5576),d=r(2247),p=r(1585);function u(a){var c=this.__data__=new o(a);this.size=c.size}u.prototype.clear=y,u.prototype.delete=m,u.prototype.get=v,u.prototype.has=d,u.prototype.set=p,_.exports=u},443:(_,E,r)=>{var o=r(2119);_.exports=o.Symbol},3457:(_,E,r)=>{var o=r(2119);_.exports=o.Uint8Array},4243:(_,E,r)=>{var m=r(3436)(r(2119),"WeakMap");_.exports=m},6999:_=>{_.exports=function E(r,o,y){switch(y.length){case 0:return r.call(o);case 1:return r.call(o,y[0]);case 2:return r.call(o,y[0],y[1]);case 3:return r.call(o,y[0],y[1],y[2])}return r.apply(o,y)}},6837:_=>{_.exports=function E(r,o){for(var y=-1,m=null==r?0:r.length;++y<m&&!1!==o(r[y],y,r););return r}},9779:_=>{_.exports=function E(r,o){for(var y=-1,m=null==r?0:r.length,v=0,d=[];++y<m;){var p=r[y];o(p,y,r)&&(d[v++]=p)}return d}},1253:(_,E,r)=>{var o=r(4164);_.exports=function y(m,v){return!(null==m||!m.length)&&o(m,v,0)>-1}},177:_=>{_.exports=function E(r,o,y){for(var m=-1,v=null==r?0:r.length;++m<v;)if(y(o,r[m]))return!0;return!1}},2271:(_,E,r)=>{var o=r(5334),y=r(7151),m=r(1503),v=r(891),d=r(8442),p=r(8159),a=Object.prototype.hasOwnProperty;_.exports=function c(f,l){var g=m(f),b=!g&&y(f),w=!g&&!b&&v(f),A=!g&&!b&&!w&&p(f),S=g||b||w||A,O=S?o(f.length,String):[],N=O.length;for(var M in f)(l||a.call(f,M))&&(!S||!("length"==M||w&&("offset"==M||"parent"==M)||A&&("buffer"==M||"byteLength"==M||"byteOffset"==M)||d(M,N)))&&O.push(M);return O}},4633:_=>{_.exports=function E(r,o){for(var y=-1,m=null==r?0:r.length,v=Array(m);++y<m;)v[y]=o(r[y],y,r);return v}},5059:_=>{_.exports=function E(r,o){for(var y=-1,m=o.length,v=r.length;++y<m;)r[v+y]=o[y];return r}},8745:_=>{_.exports=function E(r,o,y,m){var v=-1,d=null==r?0:r.length;for(m&&d&&(y=r[++v]);++v<d;)y=o(y,r[v],v,r);return y}},9503:_=>{_.exports=function E(r,o){for(var y=-1,m=null==r?0:r.length;++y<m;)if(o(r[y],y,r))return!0;return!1}},5481:(_,E,r)=>{var y=r(1847)("length");_.exports=y},9276:(_,E,r)=>{var o=r(5683),y=r(217);_.exports=function m(v,d,p){(void 0!==p&&!y(v[d],p)||void 0===p&&!(d in v))&&o(v,d,p)}},9719:(_,E,r)=>{var o=r(5683),y=r(217),v=Object.prototype.hasOwnProperty;_.exports=function d(p,u,a){var c=p[u];(!v.call(p,u)||!y(c,a)||void 0===a&&!(u in p))&&o(p,u,a)}},3503:(_,E,r)=>{var o=r(217);_.exports=function y(m,v){for(var d=m.length;d--;)if(o(m[d][0],v))return d;return-1}},4121:(_,E,r)=>{var o=r(1989),y=r(118);_.exports=function m(v,d){return v&&o(d,y(d),v)}},9287:(_,E,r)=>{var o=r(1989),y=r(6555);_.exports=function m(v,d){return v&&o(d,y(d),v)}},5683:(_,E,r)=>{var o=r(6713);_.exports=function y(m,v,d){"__proto__"==v&&o?o(m,v,{configurable:!0,enumerable:!0,value:d,writable:!0}):m[v]=d}},4462:(_,E,r)=>{var o=r(2858),y=r(6837),m=r(9719),v=r(4121),d=r(9287),p=r(9292),u=r(9454),a=r(4444),c=r(9905),f=r(7597),l=r(6967),g=r(8794),b=r(6782),w=r(7878),A=r(4264),S=r(1503),O=r(891),N=r(3222),M=r(5940),G=r(799),Y=r(118),V=r(6555),D="[object Arguments]",K="[object Function]",J="[object Object]",mt={};mt[D]=mt["[object Array]"]=mt["[object ArrayBuffer]"]=mt["[object DataView]"]=mt["[object Boolean]"]=mt["[object Date]"]=mt["[object Float32Array]"]=mt["[object Float64Array]"]=mt["[object Int8Array]"]=mt["[object Int16Array]"]=mt["[object Int32Array]"]=mt["[object Map]"]=mt["[object Number]"]=mt[J]=mt["[object RegExp]"]=mt["[object Set]"]=mt["[object String]"]=mt["[object Symbol]"]=mt["[object Uint8Array]"]=mt["[object Uint8ClampedArray]"]=mt["[object Uint16Array]"]=mt["[object Uint32Array]"]=!0,mt["[object Error]"]=mt[K]=mt["[object WeakMap]"]=!1,_.exports=function Vt(vt,Rt,Ut,se,oe,Ht){var St,ae=1&Rt,ue=2&Rt,on=4&Rt;if(Ut&&(St=oe?Ut(vt,se,oe,Ht):Ut(vt)),void 0!==St)return St;if(!M(vt))return vt;var Ge=S(vt);if(Ge){if(St=b(vt),!ae)return u(vt,St)}else{var Zt=g(vt),Be=Zt==K||"[object GeneratorFunction]"==Zt;if(O(vt))return p(vt,ae);if(Zt==J||Zt==D||Be&&!oe){if(St=ue||Be?{}:A(vt),!ae)return ue?c(vt,d(St,vt)):a(vt,v(St,vt))}else{if(!mt[Zt])return oe?vt:{};St=w(vt,Zt,ae)}}Ht||(Ht=new o);var Re=Ht.get(vt);if(Re)return Re;Ht.set(vt,St),G(vt)?vt.forEach(function(Ot){St.add(Vt(Ot,Rt,Ut,Ot,vt,Ht))}):N(vt)&&vt.forEach(function(Ot,$t){St.set($t,Vt(Ot,Rt,Ut,$t,vt,Ht))});var He=Ge?void 0:(on?ue?l:f:ue?V:Y)(vt);return y(He||vt,function(Ot,$t){He&&(Ot=vt[$t=Ot]),m(St,$t,Vt(Ot,Rt,Ut,$t,vt,Ht))}),St}},8858:(_,E,r)=>{var o=r(5940),y=Object.create,m=function(){function v(){}return function(d){if(!o(d))return{};if(y)return y(d);v.prototype=d;var p=new v;return v.prototype=void 0,p}}();_.exports=m},3132:(_,E,r)=>{var o=r(5184),m=r(6539)(o);_.exports=m},7308:(_,E,r)=>{var o=r(4129);_.exports=function y(m,v,d){for(var p=-1,u=m.length;++p<u;){var a=m[p],c=v(a);if(null!=c&&(void 0===f?c==c&&!o(c):d(c,f)))var f=c,l=a}return l}},3609:(_,E,r)=>{var o=r(3132);_.exports=function y(m,v){var d=[];return o(m,function(p,u,a){v(p,u,a)&&d.push(p)}),d}},5317:_=>{_.exports=function E(r,o,y,m){for(var v=r.length,d=y+(m?1:-1);m?d--:++d<v;)if(o(r[d],d,r))return d;return-1}},686:(_,E,r)=>{var o=r(5059),y=r(5039);_.exports=function m(v,d,p,u,a){var c=-1,f=v.length;for(p||(p=y),a||(a=[]);++c<f;){var l=v[c];d>0&&p(l)?d>1?m(l,d-1,p,u,a):o(a,l):u||(a[a.length]=l)}return a}},755:(_,E,r)=>{var y=r(456)();_.exports=y},5184:(_,E,r)=>{var o=r(755),y=r(118);_.exports=function m(v,d){return v&&o(v,d,y)}},5456:(_,E,r)=>{var o=r(6884),y=r(8533);_.exports=function m(v,d){for(var p=0,u=(d=o(d,v)).length;null!=v&&p<u;)v=v[y(d[p++])];return p&&p==u?v:void 0}},8247:(_,E,r)=>{var o=r(5059),y=r(1503);_.exports=function m(v,d,p){var u=d(v);return y(v)?u:o(u,p(v))}},3337:(_,E,r)=>{var o=r(443),y=r(1318),m=r(2902),p=o?o.toStringTag:void 0;_.exports=function u(a){return null==a?void 0===a?"[object Undefined]":"[object Null]":p&&p in Object(a)?y(a):m(a)}},1100:_=>{_.exports=function E(r,o){return r>o}},4781:_=>{var r=Object.prototype.hasOwnProperty;_.exports=function o(y,m){return null!=y&&r.call(y,m)}},9989:_=>{_.exports=function E(r,o){return null!=r&&o in Object(r)}},4164:(_,E,r)=>{var o=r(5317),y=r(968),m=r(4977);_.exports=function v(d,p,u){return p==p?m(d,p,u):o(d,y,u)}},186:(_,E,r)=>{var o=r(3337),y=r(2671);_.exports=function v(d){return y(d)&&"[object Arguments]"==o(d)}},5740:(_,E,r)=>{var o=r(8325),y=r(2671);_.exports=function m(v,d,p,u,a){return v===d||(null==v||null==d||!y(v)&&!y(d)?v!=v&&d!=d:o(v,d,p,u,m,a))}},8325:(_,E,r)=>{var o=r(2858),y=r(3914),m=r(7058),v=r(2286),d=r(8794),p=r(1503),u=r(891),a=r(8159),f="[object Arguments]",l="[object Array]",g="[object Object]",w=Object.prototype.hasOwnProperty;_.exports=function A(S,O,N,M,G,Y){var V=p(S),s=p(O),j=V?l:d(S),L=s?l:d(O),D=(j=j==f?g:j)==g,F=(L=L==f?g:L)==g,k=j==L;if(k&&u(S)){if(!u(O))return!1;V=!0,D=!1}if(k&&!D)return Y||(Y=new o),V||a(S)?y(S,O,N,M,G,Y):m(S,O,j,N,M,G,Y);if(!(1&N)){var B=D&&w.call(S,"__wrapped__"),U=F&&w.call(O,"__wrapped__");if(B||U){var K=B?S.value():S,H=U?O.value():O;return Y||(Y=new o),G(K,H,N,M,Y)}}return!!k&&(Y||(Y=new o),v(S,O,N,M,G,Y))}},7021:(_,E,r)=>{var o=r(8794),y=r(2671);_.exports=function v(d){return y(d)&&"[object Map]"==o(d)}},431:(_,E,r)=>{var o=r(2858),y=r(5740);_.exports=function d(p,u,a,c){var f=a.length,l=f,g=!c;if(null==p)return!l;for(p=Object(p);f--;){var b=a[f];if(g&&b[2]?b[1]!==p[b[0]]:!(b[0]in p))return!1}for(;++f<l;){var w=(b=a[f])[0],A=p[w],S=b[1];if(g&&b[2]){if(void 0===A&&!(w in p))return!1}else{var O=new o;if(c)var N=c(A,S,w,p,u,O);if(!(void 0===N?y(S,A,3,c,O):N))return!1}}return!0}},968:_=>{_.exports=function E(r){return r!=r}},7304:(_,E,r)=>{var o=r(5946),y=r(1943),m=r(5940),v=r(2827),p=/^\[object .+?Constructor\]$/,l=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");_.exports=function g(b){return!(!m(b)||y(b))&&(o(b)?l:p).test(v(b))}},771:(_,E,r)=>{var o=r(8794),y=r(2671);_.exports=function v(d){return y(d)&&"[object Set]"==o(d)}},1083:(_,E,r)=>{var o=r(3337),y=r(6231),m=r(2671),k={};k["[object Float32Array]"]=k["[object Float64Array]"]=k["[object Int8Array]"]=k["[object Int16Array]"]=k["[object Int32Array]"]=k["[object Uint8Array]"]=k["[object Uint8ClampedArray]"]=k["[object Uint16Array]"]=k["[object Uint32Array]"]=!0,k["[object Arguments]"]=k["[object Array]"]=k["[object ArrayBuffer]"]=k["[object Boolean]"]=k["[object DataView]"]=k["[object Date]"]=k["[object Error]"]=k["[object Function]"]=k["[object Map]"]=k["[object Number]"]=k["[object Object]"]=k["[object RegExp]"]=k["[object Set]"]=k["[object String]"]=k["[object WeakMap]"]=!1,_.exports=function B(U){return m(U)&&y(U.length)&&!!k[o(U)]}},6517:(_,E,r)=>{var o=r(8133),y=r(9458),m=r(2608),v=r(1503),d=r(7495);_.exports=function p(u){return"function"==typeof u?u:null==u?m:"object"==typeof u?v(u)?y(u[0],u[1]):o(u):d(u)}},1172:(_,E,r)=>{var o=r(5488),y=r(5491),v=Object.prototype.hasOwnProperty;_.exports=function d(p){if(!o(p))return y(p);var u=[];for(var a in Object(p))v.call(p,a)&&"constructor"!=a&&u.push(a);return u}},2809:(_,E,r)=>{var o=r(5940),y=r(5488),m=r(2158),d=Object.prototype.hasOwnProperty;_.exports=function p(u){if(!o(u))return m(u);var a=y(u),c=[];for(var f in u)"constructor"==f&&(a||!d.call(u,f))||c.push(f);return c}},9069:_=>{_.exports=function E(r,o){return r<o}},2046:(_,E,r)=>{var o=r(3132),y=r(6507);_.exports=function m(v,d){var p=-1,u=y(v)?Array(v.length):[];return o(v,function(a,c,f){u[++p]=d(a,c,f)}),u}},8133:(_,E,r)=>{var o=r(431),y=r(2379),m=r(642);_.exports=function v(d){var p=y(d);return 1==p.length&&p[0][2]?m(p[0][0],p[0][1]):function(u){return u===d||o(u,d,p)}}},9458:(_,E,r)=>{var o=r(5740),y=r(8817),m=r(8492),v=r(5352),d=r(2442),p=r(642),u=r(8533);_.exports=function f(l,g){return v(l)&&d(g)?p(u(l),g):function(b){var w=y(b,l);return void 0===w&&w===g?m(b,l):o(g,w,3)}}},3842:(_,E,r)=>{var o=r(2858),y=r(9276),m=r(755),v=r(3675),d=r(5940),p=r(6555),u=r(9351);_.exports=function a(c,f,l,g,b){c!==f&&m(f,function(w,A){if(b||(b=new o),d(w))v(c,f,A,l,a,g,b);else{var S=g?g(u(c,A),w,A+"",c,f,b):void 0;void 0===S&&(S=w),y(c,A,S)}},p)}},3675:(_,E,r)=>{var o=r(9276),y=r(9292),m=r(5208),v=r(9454),d=r(4264),p=r(7151),u=r(1503),a=r(1330),c=r(891),f=r(5946),l=r(5940),g=r(7614),b=r(8159),w=r(9351),A=r(8067);_.exports=function S(O,N,M,G,Y,V,s){var j=w(O,M),L=w(N,M),D=s.get(L);if(D)o(O,M,D);else{var F=V?V(j,L,M+"",O,N,s):void 0,k=void 0===F;if(k){var B=u(L),U=!B&&c(L),K=!B&&!U&&b(L);F=L,B||U||K?u(j)?F=j:a(j)?F=v(j):U?(k=!1,F=y(L,!0)):K?(k=!1,F=m(L,!0)):F=[]:g(L)||p(L)?(F=j,p(j)?F=A(j):(!l(j)||f(j))&&(F=d(L))):k=!1}k&&(s.set(L,F),Y(F,L,G,V,s),s.delete(L)),o(O,M,F)}}},6119:(_,E,r)=>{var o=r(4633),y=r(5456),m=r(6517),v=r(2046),d=r(8750),p=r(5647),u=r(1215),a=r(2608),c=r(1503);_.exports=function f(l,g,b){g=g.length?o(g,function(S){return c(S)?function(O){return y(O,1===S.length?S[0]:S)}:S}):[a];var w=-1;g=o(g,p(m));var A=v(l,function(S,O,N){return{criteria:o(g,function(G){return G(S)}),index:++w,value:S}});return d(A,function(S,O){return u(S,O,b)})}},3021:(_,E,r)=>{var o=r(5495),y=r(8492);_.exports=function m(v,d){return o(v,d,function(p,u){return y(v,u)})}},5495:(_,E,r)=>{var o=r(5456),y=r(6600),m=r(6884);_.exports=function v(d,p,u){for(var a=-1,c=p.length,f={};++a<c;){var l=p[a],g=o(d,l);u(g,l)&&y(f,m(l,d),g)}return f}},1847:_=>{_.exports=function E(r){return function(o){return o?.[r]}}},9222:(_,E,r)=>{var o=r(5456);_.exports=function y(m){return function(v){return o(v,m)}}},6307:_=>{var E=Math.ceil,r=Math.max;_.exports=function o(y,m,v,d){for(var p=-1,u=r(E((m-y)/(v||1)),0),a=Array(u);u--;)a[d?u:++p]=y,y+=v;return a}},3570:_=>{_.exports=function E(r,o,y,m,v){return v(r,function(d,p,u){y=m?(m=!1,d):o(y,d,p,u)}),y}},6652:(_,E,r)=>{var o=r(2608),y=r(3983),m=r(2185);_.exports=function v(d,p){return m(y(d,p,o),d+"")}},6600:(_,E,r)=>{var o=r(9719),y=r(6884),m=r(8442),v=r(5940),d=r(8533);_.exports=function p(u,a,c,f){if(!v(u))return u;for(var l=-1,g=(a=y(a,u)).length,b=g-1,w=u;null!=w&&++l<g;){var A=d(a[l]),S=c;if("__proto__"===A||"constructor"===A||"prototype"===A)return u;if(l!=b){var O=w[A];void 0===(S=f?f(O,A,w):void 0)&&(S=v(O)?O:m(a[l+1])?[]:{})}o(w,A,S),w=w[A]}return u}},9510:(_,E,r)=>{var o=r(6684),y=r(6713),m=r(2608);_.exports=y?function(d,p){return y(d,"toString",{configurable:!0,enumerable:!1,value:o(p),writable:!0})}:m},8750:_=>{_.exports=function E(r,o){var y=r.length;for(r.sort(o);y--;)r[y]=r[y].value;return r}},5334:_=>{_.exports=function E(r,o){for(var y=-1,m=Array(r);++y<r;)m[y]=o(y);return m}},3935:(_,E,r)=>{var o=r(443),y=r(4633),m=r(1503),v=r(4129),p=o?o.prototype:void 0,u=p?p.toString:void 0;_.exports=function a(c){if("string"==typeof c)return c;if(m(c))return y(c,a)+"";if(v(c))return u?u.call(c):"";var f=c+"";return"0"==f&&1/c==-1/0?"-0":f}},3348:(_,E,r)=>{var o=r(2760),y=/^\s+/;_.exports=function m(v){return v&&v.slice(0,o(v)+1).replace(y,"")}},5647:_=>{_.exports=function E(r){return function(o){return r(o)}}},707:(_,E,r)=>{var o=r(8849),y=r(1253),m=r(177),v=r(5972),d=r(4575),p=r(4174);_.exports=function a(c,f,l){var g=-1,b=y,w=c.length,A=!0,S=[],O=S;if(l)A=!1,b=m;else if(w>=200){var N=f?null:d(c);if(N)return p(N);A=!1,b=v,O=new o}else O=f?[]:S;t:for(;++g<w;){var M=c[g],G=f?f(M):M;if(M=l||0!==M?M:0,A&&G==G){for(var Y=O.length;Y--;)if(O[Y]===G)continue t;f&&O.push(G),S.push(M)}else b(O,G,l)||(O!==S&&O.push(G),S.push(M))}return S}},9179:(_,E,r)=>{var o=r(4633);_.exports=function y(m,v){return o(v,function(d){return m[d]})}},8645:_=>{_.exports=function E(r,o,y){for(var m=-1,v=r.length,d=o.length,p={};++m<v;)y(p,r[m],m<d?o[m]:void 0);return p}},5972:_=>{_.exports=function E(r,o){return r.has(o)}},2132:(_,E,r)=>{var o=r(2608);_.exports=function y(m){return"function"==typeof m?m:o}},6884:(_,E,r)=>{var o=r(1503),y=r(5352),m=r(2855),v=r(3943);_.exports=function d(p,u){return o(p)?p:y(p,u)?[p]:m(v(p))}},3362:(_,E,r)=>{var o=r(3457);_.exports=function y(m){var v=new m.constructor(m.byteLength);return new o(v).set(new o(m)),v}},9292:(_,E,r)=>{_=r.nmd(_);var o=r(2119),y=E&&!E.nodeType&&E,m=y&&_&&!_.nodeType&&_,d=m&&m.exports===y?o.Buffer:void 0,p=d?d.allocUnsafe:void 0;_.exports=function u(a,c){if(c)return a.slice();var f=a.length,l=p?p(f):new a.constructor(f);return a.copy(l),l}},7e3:(_,E,r)=>{var o=r(3362);_.exports=function y(m,v){var d=v?o(m.buffer):m.buffer;return new m.constructor(d,m.byteOffset,m.byteLength)}},4098:_=>{var E=/\w*$/;_.exports=function r(o){var y=new o.constructor(o.source,E.exec(o));return y.lastIndex=o.lastIndex,y}},2533:(_,E,r)=>{var o=r(443),y=o?o.prototype:void 0,m=y?y.valueOf:void 0;_.exports=function v(d){return m?Object(m.call(d)):{}}},5208:(_,E,r)=>{var o=r(3362);_.exports=function y(m,v){var d=v?o(m.buffer):m.buffer;return new m.constructor(d,m.byteOffset,m.length)}},3443:(_,E,r)=>{var o=r(4129);_.exports=function y(m,v){if(m!==v){var d=void 0!==m,p=null===m,u=m==m,a=o(m),c=void 0!==v,f=null===v,l=v==v,g=o(v);if(!f&&!g&&!a&&m>v||a&&c&&l&&!f&&!g||p&&c&&l||!d&&l||!u)return 1;if(!p&&!a&&!g&&m<v||g&&d&&u&&!p&&!a||f&&d&&u||!c&&u||!l)return-1}return 0}},1215:(_,E,r)=>{var o=r(3443);_.exports=function y(m,v,d){for(var p=-1,u=m.criteria,a=v.criteria,c=u.length,f=d.length;++p<c;){var l=o(u[p],a[p]);if(l)return p>=f?l:l*("desc"==d[p]?-1:1)}return m.index-v.index}},9454:_=>{_.exports=function E(r,o){var y=-1,m=r.length;for(o||(o=Array(m));++y<m;)o[y]=r[y];return o}},1989:(_,E,r)=>{var o=r(9719),y=r(5683);_.exports=function m(v,d,p,u){var a=!p;p||(p={});for(var c=-1,f=d.length;++c<f;){var l=d[c],g=u?u(p[l],v[l],l,p,v):void 0;void 0===g&&(g=v[l]),a?y(p,l,g):o(p,l,g)}return p}},4444:(_,E,r)=>{var o=r(1989),y=r(9383);_.exports=function m(v,d){return o(v,y(v),d)}},9905:(_,E,r)=>{var o=r(1989),y=r(3051);_.exports=function m(v,d){return o(v,y(v),d)}},4610:(_,E,r)=>{var o=r(2119);_.exports=o["__core-js_shared__"]},4944:(_,E,r)=>{var o=r(6652),y=r(3342);_.exports=function m(v){return o(function(d,p){var u=-1,a=p.length,c=a>1?p[a-1]:void 0,f=a>2?p[2]:void 0;for(c=v.length>3&&"function"==typeof c?(a--,c):void 0,f&&y(p[0],p[1],f)&&(c=a<3?void 0:c,a=1),d=Object(d);++u<a;){var l=p[u];l&&v(d,l,u,c)}return d})}},6539:(_,E,r)=>{var o=r(6507);_.exports=function y(m,v){return function(d,p){if(null==d)return d;if(!o(d))return m(d,p);for(var u=d.length,a=v?u:-1,c=Object(d);(v?a--:++a<u)&&!1!==p(c[a],a,c););return d}}},456:_=>{_.exports=function E(r){return function(o,y,m){for(var v=-1,d=Object(o),p=m(o),u=p.length;u--;){var a=p[r?u:++v];if(!1===y(d[a],a,d))break}return o}}},4653:(_,E,r)=>{var o=r(6517),y=r(6507),m=r(118);_.exports=function v(d){return function(p,u,a){var c=Object(p);if(!y(p)){var f=o(u,3);p=m(p),u=function(g){return f(c[g],g,c)}}var l=d(p,u,a);return l>-1?c[f?p[l]:l]:void 0}}},7509:(_,E,r)=>{var o=r(6307),y=r(3342),m=r(2232);_.exports=function v(d){return function(p,u,a){return a&&"number"!=typeof a&&y(p,u,a)&&(u=a=void 0),p=m(p),void 0===u?(u=p,p=0):u=m(u),a=void 0===a?p<u?1:-1:m(a),o(p,u,a,d)}}},4575:(_,E,r)=>{var o=r(6323),y=r(2552),m=r(4174),d=o&&1/m(new o([,-0]))[1]==1/0?function(p){return new o(p)}:y;_.exports=d},6713:(_,E,r)=>{var o=r(3436),y=function(){try{var m=o(Object,"defineProperty");return m({},"",{}),m}catch{}}();_.exports=y},3914:(_,E,r)=>{var o=r(8849),y=r(9503),m=r(5972);_.exports=function p(u,a,c,f,l,g){var b=1&c,w=u.length,A=a.length;if(w!=A&&!(b&&A>w))return!1;var S=g.get(u),O=g.get(a);if(S&&O)return S==a&&O==u;var N=-1,M=!0,G=2&c?new o:void 0;for(g.set(u,a),g.set(a,u);++N<w;){var Y=u[N],V=a[N];if(f)var s=b?f(V,Y,N,a,u,g):f(Y,V,N,u,a,g);if(void 0!==s){if(s)continue;M=!1;break}if(G){if(!y(a,function(j,L){if(!m(G,L)&&(Y===j||l(Y,j,c,f,g)))return G.push(L)})){M=!1;break}}else if(Y!==V&&!l(Y,V,c,f,g)){M=!1;break}}return g.delete(u),g.delete(a),M}},7058:(_,E,r)=>{var o=r(443),y=r(3457),m=r(217),v=r(3914),d=r(3205),p=r(4174),G=o?o.prototype:void 0,Y=G?G.valueOf:void 0;_.exports=function V(s,j,L,D,F,k,B){switch(L){case"[object DataView]":if(s.byteLength!=j.byteLength||s.byteOffset!=j.byteOffset)return!1;s=s.buffer,j=j.buffer;case"[object ArrayBuffer]":return!(s.byteLength!=j.byteLength||!k(new y(s),new y(j)));case"[object Boolean]":case"[object Date]":case"[object Number]":return m(+s,+j);case"[object Error]":return s.name==j.name&&s.message==j.message;case"[object RegExp]":case"[object String]":return s==j+"";case"[object Map]":var U=d;case"[object Set]":if(U||(U=p),s.size!=j.size&&!(1&D))return!1;var H=B.get(s);if(H)return H==j;D|=2,B.set(s,j);var R=v(U(s),U(j),D,F,k,B);return B.delete(s),R;case"[object Symbol]":if(Y)return Y.call(s)==Y.call(j)}return!1}},2286:(_,E,r)=>{var o=r(7597),v=Object.prototype.hasOwnProperty;_.exports=function d(p,u,a,c,f,l){var g=1&a,b=o(p),w=b.length;if(w!=o(u).length&&!g)return!1;for(var O=w;O--;){var N=b[O];if(!(g?N in u:v.call(u,N)))return!1}var M=l.get(p),G=l.get(u);if(M&&G)return M==u&&G==p;var Y=!0;l.set(p,u),l.set(u,p);for(var V=g;++O<w;){var s=p[N=b[O]],j=u[N];if(c)var L=g?c(j,s,N,u,p,l):c(s,j,N,p,u,l);if(!(void 0===L?s===j||f(s,j,a,c,l):L)){Y=!1;break}V||(V="constructor"==N)}if(Y&&!V){var D=p.constructor,F=u.constructor;D!=F&&"constructor"in p&&"constructor"in u&&!("function"==typeof D&&D instanceof D&&"function"==typeof F&&F instanceof F)&&(Y=!1)}return l.delete(p),l.delete(u),Y}},3975:(_,E,r)=>{var o=r(2274),y=r(3983),m=r(2185);_.exports=function v(d){return m(y(d,void 0,o),d+"")}},9122:_=>{var E="object"==typeof global&&global&&global.Object===Object&&global;_.exports=E},7597:(_,E,r)=>{var o=r(8247),y=r(9383),m=r(118);_.exports=function v(d){return o(d,m,y)}},6967:(_,E,r)=>{var o=r(8247),y=r(3051),m=r(6555);_.exports=function v(d){return o(d,m,y)}},4537:(_,E,r)=>{var o=r(3819);_.exports=function y(m,v){var d=m.__data__;return o(v)?d["string"==typeof v?"string":"hash"]:d.map}},2379:(_,E,r)=>{var o=r(2442),y=r(118);_.exports=function m(v){for(var d=y(v),p=d.length;p--;){var u=d[p],a=v[u];d[p]=[u,a,o(a)]}return d}},3436:(_,E,r)=>{var o=r(7304),y=r(1990);_.exports=function m(v,d){var p=y(v,d);return o(p)?p:void 0}},9519:(_,E,r)=>{var y=r(9385)(Object.getPrototypeOf,Object);_.exports=y},1318:(_,E,r)=>{var o=r(443),y=Object.prototype,m=y.hasOwnProperty,v=y.toString,d=o?o.toStringTag:void 0;_.exports=function p(u){var a=m.call(u,d),c=u[d];try{u[d]=void 0;var f=!0}catch{}var l=v.call(u);return f&&(a?u[d]=c:delete u[d]),l}},9383:(_,E,r)=>{var o=r(9779),y=r(9975),v=Object.prototype.propertyIsEnumerable,d=Object.getOwnPropertySymbols;_.exports=d?function(u){return null==u?[]:(u=Object(u),o(d(u),function(a){return v.call(u,a)}))}:y},3051:(_,E,r)=>{var o=r(5059),y=r(9519),m=r(9383),v=r(9975);_.exports=Object.getOwnPropertySymbols?function(u){for(var a=[];u;)o(a,m(u)),u=y(u);return a}:v},8794:(_,E,r)=>{var o=r(7244),y=r(1501),m=r(4267),v=r(6323),d=r(4243),p=r(3337),u=r(2827),a="[object Map]",f="[object Promise]",l="[object Set]",g="[object WeakMap]",b="[object DataView]",w=u(o),A=u(y),S=u(m),O=u(v),N=u(d),M=p;(o&&M(new o(new ArrayBuffer(1)))!=b||y&&M(new y)!=a||m&&M(m.resolve())!=f||v&&M(new v)!=l||d&&M(new d)!=g)&&(M=function(G){var Y=p(G),V="[object Object]"==Y?G.constructor:void 0,s=V?u(V):"";if(s)switch(s){case w:return b;case A:return a;case S:return f;case O:return l;case N:return g}return Y}),_.exports=M},1990:_=>{_.exports=function E(r,o){return r?.[o]}},7283:(_,E,r)=>{var o=r(6884),y=r(7151),m=r(1503),v=r(8442),d=r(6231),p=r(8533);_.exports=function u(a,c,f){for(var l=-1,g=(c=o(c,a)).length,b=!1;++l<g;){var w=p(c[l]);if(!(b=null!=a&&f(a,w)))break;a=a[w]}return b||++l!=g?b:!!(g=null==a?0:a.length)&&d(g)&&v(w,g)&&(m(a)||y(a))}},7609:_=>{var p=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");_.exports=function u(a){return p.test(a)}},4312:(_,E,r)=>{var o=r(862);_.exports=function y(){this.__data__=o?o(null):{},this.size=0}},6421:_=>{_.exports=function E(r){var o=this.has(r)&&delete this.__data__[r];return this.size-=o?1:0,o}},5764:(_,E,r)=>{var o=r(862),v=Object.prototype.hasOwnProperty;_.exports=function d(p){var u=this.__data__;if(o){var a=u[p];return"__lodash_hash_undefined__"===a?void 0:a}return v.call(u,p)?u[p]:void 0}},8685:(_,E,r)=>{var o=r(862),m=Object.prototype.hasOwnProperty;_.exports=function v(d){var p=this.__data__;return o?void 0!==p[d]:m.call(p,d)}},6676:(_,E,r)=>{var o=r(862);_.exports=function m(v,d){var p=this.__data__;return this.size+=this.has(v)?0:1,p[v]=o&&void 0===d?"__lodash_hash_undefined__":d,this}},6782:_=>{var r=Object.prototype.hasOwnProperty;_.exports=function o(y){var m=y.length,v=new y.constructor(m);return m&&"string"==typeof y[0]&&r.call(y,"index")&&(v.index=y.index,v.input=y.input),v}},7878:(_,E,r)=>{var o=r(3362),y=r(7e3),m=r(4098),v=r(2533),d=r(5208);_.exports=function L(D,F,k){var B=D.constructor;switch(F){case"[object ArrayBuffer]":return o(D);case"[object Boolean]":case"[object Date]":return new B(+D);case"[object DataView]":return y(D,k);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return d(D,k);case"[object Map]":case"[object Set]":return new B;case"[object Number]":case"[object String]":return new B(D);case"[object RegExp]":return m(D);case"[object Symbol]":return v(D)}}},4264:(_,E,r)=>{var o=r(8858),y=r(9519),m=r(5488);_.exports=function v(d){return"function"!=typeof d.constructor||m(d)?{}:o(y(d))}},5039:(_,E,r)=>{var o=r(443),y=r(7151),m=r(1503),v=o?o.isConcatSpreadable:void 0;_.exports=function d(p){return m(p)||y(p)||!!(v&&p&&p[v])}},8442:_=>{var r=/^(?:0|[1-9]\d*)$/;_.exports=function o(y,m){var v=typeof y;return!!(m=m??9007199254740991)&&("number"==v||"symbol"!=v&&r.test(y))&&y>-1&&y%1==0&&y<m}},3342:(_,E,r)=>{var o=r(217),y=r(6507),m=r(8442),v=r(5940);_.exports=function d(p,u,a){if(!v(a))return!1;var c=typeof u;return!!("number"==c?y(a)&&m(u,a.length):"string"==c&&u in a)&&o(a[u],p)}},5352:(_,E,r)=>{var o=r(1503),y=r(4129),m=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,v=/^\w*$/;_.exports=function d(p,u){if(o(p))return!1;var a=typeof p;return!("number"!=a&&"symbol"!=a&&"boolean"!=a&&null!=p&&!y(p))||v.test(p)||!m.test(p)||null!=u&&p in Object(u)}},3819:_=>{_.exports=function E(r){var o=typeof r;return"string"==o||"number"==o||"symbol"==o||"boolean"==o?"__proto__"!==r:null===r}},1943:(_,E,r)=>{var v,o=r(4610),y=(v=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||""))?"Symbol(src)_1."+v:"";_.exports=function m(v){return!!y&&y in v}},5488:_=>{var E=Object.prototype;_.exports=function r(o){var y=o&&o.constructor;return o===("function"==typeof y&&y.prototype||E)}},2442:(_,E,r)=>{var o=r(5940);_.exports=function y(m){return m==m&&!o(m)}},1840:_=>{_.exports=function E(){this.__data__=[],this.size=0}},4378:(_,E,r)=>{var o=r(3503),m=Array.prototype.splice;_.exports=function v(d){var p=this.__data__,u=o(p,d);return!(u<0||(u==p.length-1?p.pop():m.call(p,u,1),--this.size,0))}},4981:(_,E,r)=>{var o=r(3503);_.exports=function y(m){var v=this.__data__,d=o(v,m);return d<0?void 0:v[d][1]}},7343:(_,E,r)=>{var o=r(3503);_.exports=function y(m){return o(this.__data__,m)>-1}},8895:(_,E,r)=>{var o=r(3503);_.exports=function y(m,v){var d=this.__data__,p=o(d,m);return p<0?(++this.size,d.push([m,v])):d[p][1]=v,this}},638:(_,E,r)=>{var o=r(4994),y=r(9215),m=r(1501);_.exports=function v(){this.size=0,this.__data__={hash:new o,map:new(m||y),string:new o}}},1184:(_,E,r)=>{var o=r(4537);_.exports=function y(m){var v=o(this,m).delete(m);return this.size-=v?1:0,v}},866:(_,E,r)=>{var o=r(4537);_.exports=function y(m){return o(this,m).get(m)}},3771:(_,E,r)=>{var o=r(4537);_.exports=function y(m){return o(this,m).has(m)}},1772:(_,E,r)=>{var o=r(4537);_.exports=function y(m,v){var d=o(this,m),p=d.size;return d.set(m,v),this.size+=d.size==p?0:1,this}},3205:_=>{_.exports=function E(r){var o=-1,y=Array(r.size);return r.forEach(function(m,v){y[++o]=[v,m]}),y}},642:_=>{_.exports=function E(r,o){return function(y){return null!=y&&y[r]===o&&(void 0!==o||r in Object(y))}}},719:(_,E,r)=>{var o=r(535);_.exports=function m(v){var d=o(v,function(u){return 500===p.size&&p.clear(),u}),p=d.cache;return d}},862:(_,E,r)=>{var y=r(3436)(Object,"create");_.exports=y},5491:(_,E,r)=>{var y=r(9385)(Object.keys,Object);_.exports=y},2158:_=>{_.exports=function E(r){var o=[];if(null!=r)for(var y in Object(r))o.push(y);return o}},3597:(_,E,r)=>{_=r.nmd(_);var o=r(9122),y=E&&!E.nodeType&&E,m=y&&_&&!_.nodeType&&_,d=m&&m.exports===y&&o.process,p=function(){try{return m&&m.require&&m.require("util").types||d&&d.binding&&d.binding("util")}catch{}}();_.exports=p},2902:_=>{var r=Object.prototype.toString;_.exports=function o(y){return r.call(y)}},9385:_=>{_.exports=function E(r,o){return function(y){return r(o(y))}}},3983:(_,E,r)=>{var o=r(6999),y=Math.max;_.exports=function m(v,d,p){return d=y(void 0===d?v.length-1:d,0),function(){for(var u=arguments,a=-1,c=y(u.length-d,0),f=Array(c);++a<c;)f[a]=u[d+a];a=-1;for(var l=Array(d+1);++a<d;)l[a]=u[a];return l[d]=p(f),o(v,this,l)}}},2119:(_,E,r)=>{var o=r(9122),y="object"==typeof self&&self&&self.Object===Object&&self,m=o||y||Function("return this")();_.exports=m},9351:_=>{_.exports=function E(r,o){if(("constructor"!==o||"function"!=typeof r[o])&&"__proto__"!=o)return r[o]}},4600:_=>{_.exports=function r(o){return this.__data__.set(o,"__lodash_hash_undefined__"),this}},1387:_=>{_.exports=function E(r){return this.__data__.has(r)}},4174:_=>{_.exports=function E(r){var o=-1,y=Array(r.size);return r.forEach(function(m){y[++o]=m}),y}},2185:(_,E,r)=>{var o=r(9510),m=r(29)(o);_.exports=m},29:_=>{var o=Date.now;_.exports=function y(m){var v=0,d=0;return function(){var p=o(),u=16-(p-d);if(d=p,u>0){if(++v>=800)return arguments[0]}else v=0;return m.apply(void 0,arguments)}}},3720:(_,E,r)=>{var o=r(9215);_.exports=function y(){this.__data__=new o,this.size=0}},4410:_=>{_.exports=function E(r){var o=this.__data__,y=o.delete(r);return this.size=o.size,y}},5576:_=>{_.exports=function E(r){return this.__data__.get(r)}},2247:_=>{_.exports=function E(r){return this.__data__.has(r)}},1585:(_,E,r)=>{var o=r(9215),y=r(1501),m=r(9850);_.exports=function d(p,u){var a=this.__data__;if(a instanceof o){var c=a.__data__;if(!y||c.length<199)return c.push([p,u]),this.size=++a.size,this;a=this.__data__=new m(c)}return a.set(p,u),this.size=a.size,this}},4977:_=>{_.exports=function E(r,o,y){for(var m=y-1,v=r.length;++m<v;)if(r[m]===o)return m;return-1}},2315:(_,E,r)=>{var o=r(5481),y=r(7609),m=r(1149);_.exports=function v(d){return y(d)?m(d):o(d)}},2855:(_,E,r)=>{var o=r(719),y=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,m=/\\(\\)?/g,v=o(function(d){var p=[];return 46===d.charCodeAt(0)&&p.push(""),d.replace(y,function(u,a,c,f){p.push(c?f.replace(m,"$1"):a||u)}),p});_.exports=v},8533:(_,E,r)=>{var o=r(4129);_.exports=function m(v){if("string"==typeof v||o(v))return v;var d=v+"";return"0"==d&&1/v==-1/0?"-0":d}},2827:_=>{var r=Function.prototype.toString;_.exports=function o(y){if(null!=y){try{return r.call(y)}catch{}try{return y+""}catch{}}return""}},2760:_=>{var E=/\s/;_.exports=function r(o){for(var y=o.length;y--&&E.test(o.charAt(y)););return y}},1149:_=>{var E="\\ud800-\\udfff",d="["+E+"]",p="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",u="\\ud83c[\\udffb-\\udfff]",c="[^"+E+"]",f="(?:\\ud83c[\\udde6-\\uddff]){2}",l="[\\ud800-\\udbff][\\udc00-\\udfff]",b="(?:"+p+"|"+u+")?",w="[\\ufe0e\\ufe0f]?",S=w+b+"(?:\\u200d(?:"+[c,f,l].join("|")+")"+w+b+")*",O="(?:"+[c+p+"?",p,f,l,d].join("|")+")",N=RegExp(u+"(?="+u+")|"+O+S,"g");_.exports=function M(G){for(var Y=N.lastIndex=0;N.test(G);)++Y;return Y}},1094:(_,E,r)=>{var o=r(4462);_.exports=function m(v){return o(v,4)}},733:(_,E,r)=>{var o=r(4462);_.exports=function v(d){return o(d,5)}},6684:_=>{_.exports=function E(r){return function(){return r}}},8800:(_,E,r)=>{var o=r(6652),y=r(217),m=r(3342),v=r(6555),d=Object.prototype,p=d.hasOwnProperty,u=o(function(a,c){a=Object(a);var f=-1,l=c.length,g=l>2?c[2]:void 0;for(g&&m(c[0],c[1],g)&&(l=1);++f<l;)for(var b=c[f],w=v(b),A=-1,S=w.length;++A<S;){var O=w[A],N=a[O];(void 0===N||y(N,d[O])&&!p.call(a,O))&&(a[O]=b[O])}return a});_.exports=u},5474:(_,E,r)=>{_.exports=r(9851)},217:_=>{_.exports=function E(r,o){return r===o||r!=r&&o!=o}},5281:(_,E,r)=>{var o=r(9779),y=r(3609),m=r(6517),v=r(1503);_.exports=function d(p,u){return(v(p)?o:y)(p,m(u,3))}},2516:(_,E,r)=>{var m=r(4653)(r(6397));_.exports=m},6397:(_,E,r)=>{var o=r(5317),y=r(6517),m=r(4401),v=Math.max;_.exports=function d(p,u,a){var c=null==p?0:p.length;if(!c)return-1;var f=null==a?0:m(a);return f<0&&(f=v(c+f,0)),o(p,y(u,3),f)}},2274:(_,E,r)=>{var o=r(686);_.exports=function y(m){return null!=m&&m.length?o(m,1):[]}},9851:(_,E,r)=>{var o=r(6837),y=r(3132),m=r(2132),v=r(1503);_.exports=function d(p,u){return(v(p)?o:y)(p,m(u))}},1176:(_,E,r)=>{var o=r(755),y=r(2132),m=r(6555);_.exports=function v(d,p){return null==d?d:o(d,y(p),m)}},8817:(_,E,r)=>{var o=r(5456);_.exports=function y(m,v,d){var p=null==m?void 0:o(m,v);return void 0===p?d:p}},4842:(_,E,r)=>{var o=r(4781),y=r(7283);_.exports=function m(v,d){return null!=v&&y(v,d,o)}},8492:(_,E,r)=>{var o=r(9989),y=r(7283);_.exports=function m(v,d){return null!=v&&y(v,d,o)}},2608:_=>{_.exports=function E(r){return r}},7151:(_,E,r)=>{var o=r(186),y=r(2671),m=Object.prototype,v=m.hasOwnProperty,d=m.propertyIsEnumerable,p=o(function(){return arguments}())?o:function(u){return y(u)&&v.call(u,"callee")&&!d.call(u,"callee")};_.exports=p},1503:_=>{_.exports=Array.isArray},6507:(_,E,r)=>{var o=r(5946),y=r(6231);_.exports=function m(v){return null!=v&&y(v.length)&&!o(v)}},1330:(_,E,r)=>{var o=r(6507),y=r(2671);_.exports=function m(v){return y(v)&&o(v)}},891:(_,E,r)=>{_=r.nmd(_);var o=r(2119),y=r(3580),m=E&&!E.nodeType&&E,v=m&&_&&!_.nodeType&&_,p=v&&v.exports===m?o.Buffer:void 0;_.exports=(p?p.isBuffer:void 0)||y},1973:(_,E,r)=>{var o=r(1172),y=r(8794),m=r(7151),v=r(1503),d=r(6507),p=r(891),u=r(5488),a=r(8159),g=Object.prototype.hasOwnProperty;_.exports=function b(w){if(null==w)return!0;if(d(w)&&(v(w)||"string"==typeof w||"function"==typeof w.splice||p(w)||a(w)||m(w)))return!w.length;var A=y(w);if("[object Map]"==A||"[object Set]"==A)return!w.size;if(u(w))return!o(w).length;for(var S in w)if(g.call(w,S))return!1;return!0}},5946:(_,E,r)=>{var o=r(3337),y=r(5940);_.exports=function u(a){if(!y(a))return!1;var c=o(a);return"[object Function]"==c||"[object GeneratorFunction]"==c||"[object AsyncFunction]"==c||"[object Proxy]"==c}},6231:_=>{_.exports=function r(o){return"number"==typeof o&&o>-1&&o%1==0&&o<=9007199254740991}},3222:(_,E,r)=>{var o=r(7021),y=r(5647),m=r(3597),v=m&&m.isMap,d=v?y(v):o;_.exports=d},5940:_=>{_.exports=function E(r){var o=typeof r;return null!=r&&("object"==o||"function"==o)}},2671:_=>{_.exports=function E(r){return null!=r&&"object"==typeof r}},7614:(_,E,r)=>{var o=r(3337),y=r(9519),m=r(2671),u=Function.prototype.toString,a=Object.prototype.hasOwnProperty,c=u.call(Object);_.exports=function f(l){if(!m(l)||"[object Object]"!=o(l))return!1;var g=y(l);if(null===g)return!0;var b=a.call(g,"constructor")&&g.constructor;return"function"==typeof b&&b instanceof b&&u.call(b)==c}},799:(_,E,r)=>{var o=r(771),y=r(5647),m=r(3597),v=m&&m.isSet,d=v?y(v):o;_.exports=d},248:(_,E,r)=>{var o=r(3337),y=r(1503),m=r(2671);_.exports=function d(p){return"string"==typeof p||!y(p)&&m(p)&&"[object String]"==o(p)}},4129:(_,E,r)=>{var o=r(3337),y=r(2671);_.exports=function v(d){return"symbol"==typeof d||y(d)&&"[object Symbol]"==o(d)}},8159:(_,E,r)=>{var o=r(1083),y=r(5647),m=r(3597),v=m&&m.isTypedArray,d=v?y(v):o;_.exports=d},4235:_=>{_.exports=function E(r){return void 0===r}},118:(_,E,r)=>{var o=r(2271),y=r(1172),m=r(6507);_.exports=function v(d){return m(d)?o(d):y(d)}},6555:(_,E,r)=>{var o=r(2271),y=r(2809),m=r(6507);_.exports=function v(d){return m(d)?o(d,!0):y(d)}},5809:_=>{_.exports=function E(r){var o=null==r?0:r.length;return o?r[o-1]:void 0}},9984:(_,E,r)=>{var o=r(4633),y=r(6517),m=r(2046),v=r(1503);_.exports=function d(p,u){return(v(p)?o:m)(p,y(u,3))}},203:(_,E,r)=>{var o=r(5683),y=r(5184),m=r(6517);_.exports=function v(d,p){var u={};return p=m(p,3),y(d,function(a,c,f){o(u,c,p(a,c,f))}),u}},8176:(_,E,r)=>{var o=r(7308),y=r(1100),m=r(2608);_.exports=function v(d){return d&&d.length?o(d,m,y):void 0}},535:(_,E,r)=>{var o=r(9850);function m(v,d){if("function"!=typeof v||null!=d&&"function"!=typeof d)throw new TypeError("Expected a function");var p=function(){var u=arguments,a=d?d.apply(this,u):u[0],c=p.cache;if(c.has(a))return c.get(a);var f=v.apply(this,u);return p.cache=c.set(a,f)||c,f};return p.cache=new(m.Cache||o),p}m.Cache=o,_.exports=m},567:(_,E,r)=>{var o=r(3842),m=r(4944)(function(v,d,p){o(v,d,p)});_.exports=m},9439:(_,E,r)=>{var o=r(7308),y=r(9069),m=r(2608);_.exports=function v(d){return d&&d.length?o(d,m,y):void 0}},9525:(_,E,r)=>{var o=r(7308),y=r(6517),m=r(9069);_.exports=function v(d,p){return d&&d.length?o(d,y(p,2),m):void 0}},2552:_=>{_.exports=function E(){}},1710:(_,E,r)=>{var o=r(2119);_.exports=function(){return o.Date.now()}},6372:(_,E,r)=>{var o=r(3021),m=r(3975)(function(v,d){return null==v?{}:o(v,d)});_.exports=m},7495:(_,E,r)=>{var o=r(1847),y=r(9222),m=r(5352),v=r(8533);_.exports=function d(p){return m(p)?o(v(p)):y(p)}},361:(_,E,r)=>{var y=r(7509)();_.exports=y},1337:(_,E,r)=>{var o=r(8745),y=r(3132),m=r(6517),v=r(3570),d=r(1503);_.exports=function p(u,a,c){var f=d(u)?o:v,l=arguments.length<3;return f(u,m(a,4),c,l,y)}},5637:(_,E,r)=>{var o=r(1172),y=r(8794),m=r(6507),v=r(248),d=r(2315);_.exports=function a(c){if(null==c)return 0;if(m(c))return v(c)?d(c):c.length;var f=y(c);return"[object Map]"==f||"[object Set]"==f?c.size:o(c).length}},2906:(_,E,r)=>{var o=r(686),y=r(6119),m=r(6652),v=r(3342),d=m(function(p,u){if(null==p)return[];var a=u.length;return a>1&&v(p,u[0],u[1])?u=[]:a>2&&v(u[0],u[1],u[2])&&(u=[u[0]]),y(p,o(u,1),[])});_.exports=d},9975:_=>{_.exports=function E(){return[]}},3580:_=>{_.exports=function E(){return!1}},2232:(_,E,r)=>{var o=r(1467),y=1/0;_.exports=function v(d){return d?(d=o(d))===y||d===-y?17976931348623157e292*(d<0?-1:1):d==d?d:0:0===d?d:0}},4401:(_,E,r)=>{var o=r(2232);_.exports=function y(m){var v=o(m),d=v%1;return v==v?d?v-d:v:0}},1467:(_,E,r)=>{var o=r(3348),y=r(5940),m=r(4129),d=/^[-+]0x[0-9a-f]+$/i,p=/^0b[01]+$/i,u=/^0o[0-7]+$/i,a=parseInt;_.exports=function c(f){if("number"==typeof f)return f;if(m(f))return NaN;if(y(f)){var l="function"==typeof f.valueOf?f.valueOf():f;f=y(l)?l+"":l}if("string"!=typeof f)return 0===f?f:+f;f=o(f);var g=p.test(f);return g||u.test(f)?a(f.slice(2),g?2:8):d.test(f)?NaN:+f}},8067:(_,E,r)=>{var o=r(1989),y=r(6555);_.exports=function m(v){return o(v,y(v))}},3943:(_,E,r)=>{var o=r(3935);_.exports=function y(m){return null==m?"":o(m)}},9416:(_,E,r)=>{var o=r(6837),y=r(8858),m=r(5184),v=r(6517),d=r(9519),p=r(1503),u=r(891),a=r(5946),c=r(5940),f=r(8159);_.exports=function l(g,b,w){var A=p(g),S=A||u(g)||f(g);if(b=v(b,4),null==w){var O=g&&g.constructor;w=S?A?new O:[]:c(g)&&a(O)?y(d(g)):{}}return(S?o:m)(g,function(N,M,G){return b(w,N,M,G)}),w}},8921:(_,E,r)=>{var o=r(686),y=r(6652),m=r(707),v=r(1330),d=y(function(p){return m(o(p,1,v,!0))});_.exports=d},1541:(_,E,r)=>{var o=r(3943),y=0;_.exports=function m(v){var d=++y;return o(v)+d}},377:(_,E,r)=>{var o=r(9179),y=r(118);_.exports=function m(v){return null==v?[]:o(v,y(v))}},1617:(_,E,r)=>{var o=r(9719),y=r(8645);_.exports=function m(v,d){return y(v||[],d||[],o)}},7824:(_,E,r)=>{"use strict";function o(y){for(var m in y)E.hasOwnProperty(m)||(E[m]=y[m])}Object.defineProperty(E,"__esModule",{value:!0}),o(r(5085)),o(r(6243)),o(r(1786)),o(r(225)),o(r(6767)),o(r(345)),o(r(5675)),o(r(6461)),o(r(8802)),o(r(2575)),o(r(8866)),o(r(4655)),o(r(4068)),o(r(3858)),o(r(8237)),o(r(3292))},5085:function(_,E,r){"use strict";var d,o=this&&this.__extends||(d=function(p,u){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var f in c)c.hasOwnProperty(f)&&(a[f]=c[f])})(p,u)},function(p,u){function a(){this.constructor=p}d(p,u),p.prototype=null===u?Object.create(u):(a.prototype=u.prototype,new a)});Object.defineProperty(E,"__esModule",{value:!0});var y=r(5675),m=function(d){function p(u){var a=d.call(this)||this,f=u;return f.trigger&&(a.trigger=f.trigger),f.kick&&(a.kick=f.kick),f.drag&&(a.drag=f.drag),f.on&&(a.on=f.on),a.dragstart=a.dragStart=y.Layout.dragStart,a.dragend=a.dragEnd=y.Layout.dragEnd,a}return o(p,d),p.prototype.trigger=function(u){},p.prototype.kick=function(){},p.prototype.drag=function(){},p.prototype.on=function(u,a){return this},p}(y.Layout);E.LayoutAdaptor=m,E.adaptor=function v(d){return new m(d)}},3292:(_,E,r)=>{"use strict";Object.defineProperty(E,"__esModule",{value:!0});var o=r(5675),y=r(6767);E.gridify=function m(p,u,a,c){p.cola.start(0,0,0,10,!1);var f=function v(p,u,a,c){p.forEach(function(l){l.routerNode={name:l.name,bounds:l.bounds.inflate(-a)}}),u.forEach(function(l){l.routerNode={bounds:l.bounds.inflate(-c),children:(typeof l.groups<"u"?l.groups.map(function(g){return p.length+g.id}):[]).concat(typeof l.leaves<"u"?l.leaves.map(function(g){return g.index}):[])}});var f=p.concat(u).map(function(l,g){return l.routerNode.id=g,l.routerNode});return new y.GridRouter(f,{getChildren:function(l){return l.children},getBounds:function(l){return l.bounds}},a-c)}(p.cola.nodes(),p.cola.groups(),a,c);return f.routeEdges(p.powerGraph.powerEdges,u,function(l){return l.source.routerNode.id},function(l){return l.target.routerNode.id})},E.powerGraphGridLayout=function d(p,u,a){var c;p.nodes.forEach(function(b,w){return b.index=w}),(new o.Layout).avoidOverlaps(!1).nodes(p.nodes).links(p.links).powerGraphGroups(function(b){(c=b).groups.forEach(function(w){return w.padding=a})});var f=p.nodes.length,l=[],g=p.nodes.slice(0);return g.forEach(function(b,w){return b.index=w}),c.groups.forEach(function(b){var w=b.index=b.id+f;g.push(b),typeof b.leaves<"u"&&b.leaves.forEach(function(A){return l.push({source:w,target:A.index})}),typeof b.groups<"u"&&b.groups.forEach(function(A){return l.push({source:w,target:A.id+f})})}),c.powerEdges.forEach(function(b){l.push({source:b.source.index,target:b.target.index})}),(new o.Layout).size(u).nodes(g).links(l).avoidOverlaps(!1).linkDistance(30).symmetricDiffLinkLengths(5).convergenceThreshold(1e-4).start(100,0,0,0,!1),{cola:(new o.Layout).convergenceThreshold(.001).size(u).avoidOverlaps(!0).nodes(p.nodes).links(p.links).groupCompactness(1e-4).linkDistance(30).symmetricDiffLinkLengths(5).powerGraphGroups(function(b){(c=b).groups.forEach(function(w){w.padding=a})}).start(50,0,100,0,!1),powerGraph:c}}},6243:(_,E,r)=>{"use strict";Object.defineProperty(E,"__esModule",{value:!0});var o=r(9346),y=r(2487);E.d3adaptor=function m(d){return!d||function v(d){return d.version&&null!==d.version.match(/^3\./)}(d)?new o.D3StyleLayoutAdaptor:new y.D3StyleLayoutAdaptor(d)}},9346:function(_,E,r){"use strict";var d,o=this&&this.__extends||(d=function(p,u){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var f in c)c.hasOwnProperty(f)&&(a[f]=c[f])})(p,u)},function(p,u){function a(){this.constructor=p}d(p,u),p.prototype=null===u?Object.create(u):(a.prototype=u.prototype,new a)});Object.defineProperty(E,"__esModule",{value:!0});var y=r(5675),m=function(d){function p(){var u=d.call(this)||this;u.event=d3.dispatch(y.EventType[y.EventType.start],y.EventType[y.EventType.tick],y.EventType[y.EventType.end]);var a=u;return u.drag=function(){if(!f)var f=d3.behavior.drag().origin(y.Layout.dragOrigin).on("dragstart.d3adaptor",y.Layout.dragStart).on("drag.d3adaptor",function(l){y.Layout.drag(l,d3.event),a.resume()}).on("dragend.d3adaptor",y.Layout.dragEnd);if(!arguments.length)return f;this.call(f)},u}return o(p,d),p.prototype.trigger=function(u){var a={type:y.EventType[u.type],alpha:u.alpha,stress:u.stress};this.event[a.type](a)},p.prototype.kick=function(){var u=this;d3.timer(function(){return d.prototype.tick.call(u)})},p.prototype.on=function(u,a){return this.event.on("string"==typeof u?u:y.EventType[u],a),this},p}(y.Layout);E.D3StyleLayoutAdaptor=m,E.d3adaptor=function v(){return new m}},2487:function(_,E,r){"use strict";var v,o=this&&this.__extends||(v=function(d,p){return(v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,a){u.__proto__=a}||function(u,a){for(var c in a)a.hasOwnProperty(c)&&(u[c]=a[c])})(d,p)},function(d,p){function u(){this.constructor=d}v(d,p),d.prototype=null===p?Object.create(p):(u.prototype=p.prototype,new u)});Object.defineProperty(E,"__esModule",{value:!0});var y=r(5675),m=function(v){function d(p){var u=v.call(this)||this;u.d3Context=p,u.event=p.dispatch(y.EventType[y.EventType.start],y.EventType[y.EventType.tick],y.EventType[y.EventType.end]);var a=u;return u.drag=function(){if(!f)var f=p.drag().subject(y.Layout.dragOrigin).on("start.d3adaptor",y.Layout.dragStart).on("drag.d3adaptor",function(l){y.Layout.drag(l,p.event),a.resume()}).on("end.d3adaptor",y.Layout.dragEnd);if(!arguments.length)return f;arguments[0].call(f)},u}return o(d,v),d.prototype.trigger=function(p){var u={type:y.EventType[p.type],alpha:p.alpha,stress:p.stress};this.event.call(u.type,u)},d.prototype.kick=function(){var p=this,u=this.d3Context.timer(function(){return v.prototype.tick.call(p)&&u.stop()})},d.prototype.on=function(p,u){return this.event.on("string"==typeof p?p:y.EventType[p],u),this},d}(y.Layout);E.D3StyleLayoutAdaptor=m},1786:(_,E)=>{"use strict";Object.defineProperty(E,"__esModule",{value:!0});var r=function(){function m(){this.locks={}}return m.prototype.add=function(v,d){this.locks[v]=d},m.prototype.clear=function(){this.locks={}},m.prototype.isEmpty=function(){for(var v in this.locks)return!1;return!0},m.prototype.apply=function(v){for(var d in this.locks)v(Number(d),this.locks[d])},m}();E.Locks=r;var o=function(){function m(v,d,p){void 0===p&&(p=null),this.D=d,this.G=p,this.threshold=1e-4,this.numGridSnapNodes=0,this.snapGridSize=100,this.snapStrength=1e3,this.scaleSnapByMaxH=!1,this.random=new y,this.project=null,this.x=v,this.k=v.length;var u=this.n=v[0].length;this.H=new Array(this.k),this.g=new Array(this.k),this.Hd=new Array(this.k),this.a=new Array(this.k),this.b=new Array(this.k),this.c=new Array(this.k),this.d=new Array(this.k),this.e=new Array(this.k),this.ia=new Array(this.k),this.ib=new Array(this.k),this.xtmp=new Array(this.k),this.locks=new r,this.minD=Number.MAX_VALUE;for(var c,a=u;a--;)for(c=u;--c>a;){var f=d[a][c];f>0&&f<this.minD&&(this.minD=f)}for(this.minD===Number.MAX_VALUE&&(this.minD=1),a=this.k;a--;){for(this.g[a]=new Array(u),this.H[a]=new Array(u),c=u;c--;)this.H[a][c]=new Array(u);this.Hd[a]=new Array(u),this.a[a]=new Array(u),this.b[a]=new Array(u),this.c[a]=new Array(u),this.d[a]=new Array(u),this.e[a]=new Array(u),this.ia[a]=new Array(u),this.ib[a]=new Array(u),this.xtmp[a]=new Array(u)}}return m.createSquareMatrix=function(v,d){for(var p=new Array(v),u=0;u<v;++u){p[u]=new Array(v);for(var a=0;a<v;++a)p[u][a]=d(u,a)}return p},m.prototype.offsetDir=function(){for(var v=this,d=new Array(this.k),p=0,u=0;u<this.k;++u){var a=d[u]=this.random.getNextBetween(.01,1)-.5;p+=a*a}return p=Math.sqrt(p),d.map(function(c){return c*(v.minD/p)})},m.prototype.computeDerivatives=function(v){var d=this,p=this.n;if(!(p<1)){for(var u,a=new Array(this.k),c=new Array(this.k),f=new Array(this.k),l=0,g=0;g<p;++g){for(u=0;u<this.k;++u)f[u]=this.g[u][g]=0;for(var b=0;b<p;++b)if(g!==b){for(var w=p;w--;){var A=0;for(u=0;u<this.k;++u){var S=a[u]=v[u][g]-v[u][b];A+=c[u]=S*S}if(A>1e-9)break;var O=this.offsetDir();for(u=0;u<this.k;++u)v[u][b]+=O[u]}var N=Math.sqrt(A),M=this.D[g][b],G=null!=this.G?this.G[g][b]:1;if(G>1&&N>M||!isFinite(M)){for(u=0;u<this.k;++u)this.H[u][g][b]=0;continue}G>1&&(G=1);var Y=M*M,V=2*G*(N-M)/(Y*N),s=N*N*N,j=2*-G/(Y*s);for(isFinite(V)||console.log(V),u=0;u<this.k;++u)this.g[u][g]+=a[u]*V,f[u]-=this.H[u][g][b]=j*(s+M*(c[u]-A)+N*A)}for(u=0;u<this.k;++u)l=Math.max(l,this.H[u][g][g]=f[u])}var L=this.snapGridSize/2,D=this.snapGridSize,k=this.snapStrength/(L*L),B=this.numGridSnapNodes;for(g=0;g<B;++g)for(u=0;u<this.k;++u){var U=this.x[u][g],K=U/D,H=K%1,R=K-H;-L<(S=Math.abs(H)<=.5?U-R*D:U>0?U-(R+1)*D:U-(R-1)*D)&&S<=L&&(this.scaleSnapByMaxH?(this.g[u][g]+=l*k*S,this.H[u][g][g]+=l*k):(this.g[u][g]+=k*S,this.H[u][g][g]+=k))}this.locks.isEmpty()||this.locks.apply(function(J,rt){for(u=0;u<d.k;++u)d.H[u][J][J]+=l,d.g[u][J]-=l*(rt[u]-v[u][J])})}},m.dotProd=function(v,d){for(var p=0,u=v.length;u--;)p+=v[u]*d[u];return p},m.rightMultiply=function(v,d,p){for(var u=v.length;u--;)p[u]=m.dotProd(v[u],d)},m.prototype.computeStepSize=function(v){for(var d=0,p=0,u=0;u<this.k;++u)d+=m.dotProd(this.g[u],v[u]),m.rightMultiply(this.H[u],v[u],this.Hd[u]),p+=m.dotProd(v[u],this.Hd[u]);return 0!==p&&isFinite(p)?1*d/p:0},m.prototype.reduceStress=function(){this.computeDerivatives(this.x);for(var v=this.computeStepSize(this.g),d=0;d<this.k;++d)this.takeDescentStep(this.x[d],this.g[d],v);return this.computeStress()},m.copy=function(v,d){for(var p=v.length,u=d[0].length,a=0;a<p;++a)for(var c=0;c<u;++c)d[a][c]=v[a][c]},m.prototype.stepAndProject=function(v,d,p,u){m.copy(v,d),this.takeDescentStep(d[0],p[0],u),this.project&&this.project[0](v[0],v[1],d[0]),this.takeDescentStep(d[1],p[1],u),this.project&&this.project[1](d[0],v[1],d[1]);for(var a=2;a<this.k;a++)this.takeDescentStep(d[a],p[a],u)},m.mApply=function(v,d,p){for(var u=v;u-- >0;)for(var a=d;a-- >0;)p(u,a)},m.prototype.matrixApply=function(v){m.mApply(this.k,this.n,v)},m.prototype.computeNextPosition=function(v,d){var p=this;this.computeDerivatives(v);var u=this.computeStepSize(this.g);if(this.stepAndProject(v,d,this.g,u),this.project){this.matrixApply(function(c,f){return p.e[c][f]=v[c][f]-d[c][f]});var a=this.computeStepSize(this.e);a=Math.max(.2,Math.min(a,1)),this.stepAndProject(v,d,this.e,a)}},m.prototype.run=function(v){for(var d=Number.MAX_VALUE,p=!1;!p&&v-- >0;){var u=this.rungeKutta();p=Math.abs(d/u-1)<this.threshold,d=u}return d},m.prototype.rungeKutta=function(){var v=this;this.computeNextPosition(this.x,this.a),m.mid(this.x,this.a,this.ia),this.computeNextPosition(this.ia,this.b),m.mid(this.x,this.b,this.ib),this.computeNextPosition(this.ib,this.c),this.computeNextPosition(this.c,this.d);var d=0;return this.matrixApply(function(p,u){var a=(v.a[p][u]+2*v.b[p][u]+2*v.c[p][u]+v.d[p][u])/6,c=v.x[p][u]-a;d+=c*c,v.x[p][u]=a}),d},m.mid=function(v,d,p){m.mApply(v.length,v[0].length,function(u,a){return p[u][a]=v[u][a]+(d[u][a]-v[u][a])/2})},m.prototype.takeDescentStep=function(v,d,p){for(var u=0;u<this.n;++u)v[u]=v[u]-p*d[u]},m.prototype.computeStress=function(){for(var v=0,d=0,p=this.n-1;d<p;++d)for(var u=d+1,a=this.n;u<a;++u){for(var c=0,f=0;f<this.k;++f){var l=this.x[f][d]-this.x[f][u];c+=l*l}c=Math.sqrt(c);var g=this.D[d][u];if(isFinite(g)){var b=g-c;v+=b*b/(g*g)}}return v},m.zeroDistance=1e-10,m}();E.Descent=o;var y=function(){function m(v){void 0===v&&(v=1),this.seed=v,this.a=214013,this.c=2531011,this.m=2147483648,this.range=32767}return m.prototype.getNext=function(){return this.seed=(this.seed*this.a+this.c)%this.m,(this.seed>>16)/this.range},m.prototype.getNextBetween=function(v,d){return v+this.getNext()*(d-v)},m}();E.PseudoRandom=y},225:function(_,E,r){"use strict";var H,o=this&&this.__extends||(H=function(R,X){return(H=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(J,rt){J.__proto__=rt}||function(J,rt){for(var tt in rt)rt.hasOwnProperty(tt)&&(J[tt]=rt[tt])})(R,X)},function(R,X){function J(){this.constructor=R}H(R,X),R.prototype=null===X?Object.create(X):(J.prototype=X.prototype,new J)});Object.defineProperty(E,"__esModule",{value:!0});var y=r(4068),m=function H(){};E.Point=m;var v=function H(R,X,J,rt){this.x1=R,this.y1=X,this.x2=J,this.y2=rt};E.LineSegment=v;var d=function(H){function R(){return null!==H&&H.apply(this,arguments)||this}return o(R,H),R}(m);function p(H,R,X){return(R.x-H.x)*(X.y-H.y)-(X.x-H.x)*(R.y-H.y)}function u(H,R,X){return p(H,R,X)>0}function a(H,R,X){return p(H,R,X)<0}function b(H,R){var X=R.slice(0);return X.push(R[0]),{rtan:w(H,X),ltan:A(H,X)}}function w(H,R){var J,rt,tt,ut,X=R.length-1;if(a(H,R[1],R[0])&&!u(H,R[X-1],R[0]))return 0;for(J=0,rt=X;;){if(rt-J==1)return u(H,R[J],R[rt])?J:rt;if((ut=a(H,R[(tt=Math.floor((J+rt)/2))+1],R[tt]))&&!u(H,R[tt-1],R[tt]))return tt;u(H,R[J+1],R[J])?ut||u(H,R[J],R[tt])?rt=tt:J=tt:ut&&a(H,R[J],R[tt])?rt=tt:J=tt}}function A(H,R){var J,rt,tt,ut,X=R.length-1;if(u(H,R[X-1],R[0])&&!a(H,R[1],R[0]))return 0;for(J=0,rt=X;;){if(rt-J==1)return a(H,R[J],R[rt])?J:rt;if(ut=a(H,R[(tt=Math.floor((J+rt)/2))+1],R[tt]),u(H,R[tt-1],R[tt])&&!ut)return tt;a(H,R[J+1],R[J])?ut?a(H,R[J],R[tt])?rt=tt:J=tt:rt=tt:ut?J=tt:u(H,R[J],R[tt])?rt=tt:J=tt}}function S(H,R,X,J,rt,tt){var st,ut;ut=J(H[st=X(R[0],H)],R);for(var pt=!1;!pt;){for(pt=!0;st===H.length-1&&(st=0),!rt(R[ut],H[st],H[st+1]);)++st;for(;0===ut&&(ut=R.length-1),!tt(H[st],R[ut],R[ut-1]);)--ut,pt=!1}return{t1:st,t2:ut}}function N(H,R){return S(H,R,w,A,u,a)}E.PolyPoint=d,E.isLeft=p,E.ConvexHull=function c(H){var J,R=H.slice(0).sort(function(at,ft){return at.x!==ft.x?ft.x-at.x:ft.y-at.y}),X=H.length,tt=R[0].x;for(J=1;J<X&&R[J].x===tt;++J);var st=J-1,ut=[];if(ut.push(R[0]),st===X-1)R[st].y!==R[0].y&&ut.push(R[st]);else{var pt,W=X-1,Q=R[X-1].x;for(J=X-2;J>=0&&R[J].x===Q;J--);for(pt=J+1,J=st;++J<=pt;)if(!(p(R[0],R[pt],R[J])>=0&&J<pt)){for(;ut.length>1&&!(p(ut[ut.length-2],ut[ut.length-1],R[J])>0);)ut.length-=1;0!=J&&ut.push(R[J])}W!=pt&&ut.push(R[W]);var it=ut.length;for(J=pt;--J>=st;)if(!(p(R[W],R[st],R[J])>=0&&J>st)){for(;ut.length>it&&!(p(ut[ut.length-2],ut[ut.length-1],R[J])>0);)ut.length-=1;0!=J&&ut.push(R[J])}}return ut},E.clockwiseRadialSweep=function f(H,R,X){R.slice(0).sort(function(J,rt){return Math.atan2(J.y-H.y,J.x-H.x)-Math.atan2(rt.y-H.y,rt.x-H.x)}).forEach(X)},E.tangent_PolyPolyC=S,E.LRtangent_PolyPolyC=function O(H,R){var X=N(R,H);return{t1:X.t2,t2:X.t1}},E.RLtangent_PolyPolyC=N,E.LLtangent_PolyPolyC=function M(H,R){return S(H,R,A,A,a,a)},E.RRtangent_PolyPolyC=function G(H,R){return S(H,R,w,w,u,u)};var Y=function H(R,X){this.t1=R,this.t2=X};E.BiTangent=Y;var V=function H(){};E.BiTangents=V;var s=function(H){function R(){return null!==H&&H.apply(this,arguments)||this}return o(R,H),R}(m);E.TVGPoint=s;var j=function H(R,X,J,rt){this.id=R,this.polyid=X,this.polyvertid=J,this.p=rt,rt.vv=this};E.VisibilityVertex=j;var L=function(){function H(R,X){this.source=R,this.target=X}return H.prototype.length=function(){var R=this.source.p.x-this.target.p.x,X=this.source.p.y-this.target.p.y;return Math.sqrt(R*R+X*X)},H}();E.VisibilityEdge=L;var D=function(){function H(R,X){if(this.P=R,this.V=[],this.E=[],X)this.V=X.V.slice(0),this.E=X.E.slice(0);else{for(var J=R.length,rt=0;rt<J;rt++){for(var tt=R[rt],st=0;st<tt.length;++st){var pt=new j(this.V.length,rt,st,tt[st]);this.V.push(pt),st>0&&this.E.push(new L(tt[st-1].vv,pt))}tt.length>1&&this.E.push(new L(tt[0].vv,tt[tt.length-1].vv))}for(rt=0;rt<J-1;rt++){var W=R[rt];for(st=rt+1;st<J;st++){var Q=R[st],it=k(W,Q);for(var at in it){var ft=it[at];this.addEdgeIfVisible(W[ft.t1],Q[ft.t2],rt,st)}}}}}return H.prototype.addEdgeIfVisible=function(R,X,J,rt){this.intersectsPolys(new v(R.x,R.y,X.x,X.y),J,rt)||this.E.push(new L(R.vv,X.vv))},H.prototype.addPoint=function(R,X){var J=this.P.length;this.V.push(new j(this.V.length,J,0,R));for(var rt=0;rt<J;++rt)if(rt!==X){var tt=this.P[rt],st=b(R,tt);this.addEdgeIfVisible(R,tt[st.ltan],X,rt),this.addEdgeIfVisible(R,tt[st.rtan],X,rt)}return R.vv},H.prototype.intersectsPolys=function(R,X,J){for(var rt=0,tt=this.P.length;rt<tt;++rt)if(rt!=X&&rt!=J&&F(R,this.P[rt]).length>0)return!0;return!1},H}();function F(H,R){for(var X=[],J=1,rt=R.length;J<rt;++J){var tt=y.Rectangle.lineIntersection(H.x1,H.y1,H.x2,H.y2,R[J-1].x,R[J-1].y,R[J].x,R[J].y);tt&&X.push(tt)}return X}function k(H,R){for(var X=H.length-1,J=R.length-1,rt=new V,tt=0;tt<X;++tt)for(var st=0;st<J;++st){var ut=H[0==tt?X-1:tt-1],pt=H[tt],W=H[tt+1],Q=R[0==st?J-1:st-1],it=R[st],at=R[st+1],ft=p(ut,pt,it),ct=p(pt,Q,it),gt=p(pt,it,at),yt=p(Q,it,pt),Pt=p(it,ut,pt),_t=p(it,pt,W);ft>=0&&ct>=0&&gt<0&&yt>=0&&Pt>=0&&_t<0?rt.ll=new Y(tt,st):ft<=0&&ct<=0&&gt>0&&yt<=0&&Pt<=0&&_t>0?rt.rr=new Y(tt,st):ft<=0&&ct>0&&gt<=0&&yt>=0&&Pt<0&&_t>=0?rt.rl=new Y(tt,st):ft>=0&&ct<0&&gt>=0&&yt<=0&&Pt>0&&_t<=0&&(rt.lr=new Y(tt,st))}return rt}function U(H,R){return!H.every(function(X){return!function B(H,R){for(var X=1,J=R.length;X<J;++X)if(a(R[X-1],R[X],H))return!1;return!0}(X,R)})}E.TangentVisibilityGraph=D,E.tangents=k,E.polysOverlap=function K(H,R){if(U(H,R)||U(R,H))return!0;for(var X=1,J=H.length;X<J;++X){var rt=H[X],tt=H[X-1];if(F(new v(tt.x,tt.y,rt.x,rt.y),R).length>0)return!0}return!1}},6767:(_,E,r)=>{"use strict";Object.defineProperty(E,"__esModule",{value:!0});var o=r(4068),y=r(8237),m=r(3858),v=function a(c,f,l){this.id=c,this.rect=f,this.children=l,this.leaf=typeof l>"u"||0===l.length};E.NodeWrapper=v;var d=function a(c,f,l,g,b){void 0===g&&(g=null),void 0===b&&(b=null),this.id=c,this.x=f,this.y=l,this.node=g,this.line=b};E.Vert=d;var p=function(){function a(c,f){this.s=c,this.t=f;var l=a.findMatch(c,f),g=f.slice(0).reverse(),b=a.findMatch(c,g);l.length>=b.length?(this.length=l.length,this.si=l.si,this.ti=l.ti,this.reversed=!1):(this.length=b.length,this.si=b.si,this.ti=f.length-b.ti-b.length,this.reversed=!0)}return a.findMatch=function(c,f){for(var l=c.length,g=f.length,b={length:0,si:-1,ti:-1},w=new Array(l),A=0;A<l;A++){w[A]=new Array(g);for(var S=0;S<g;S++)if(c[A]===f[S]){var O=w[A][S]=0===A||0===S?1:w[A-1][S-1]+1;O>b.length&&(b.length=O,b.si=A-O+1,b.ti=S-O+1)}else w[A][S]=0}return b},a.prototype.getSequence=function(){return this.length>=0?this.s.slice(this.si,this.si+this.length):[]},a}();E.LongestCommonSubsequence=p;var u=function(){function a(c,f,l){var g=this;void 0===l&&(l=12),this.originalnodes=c,this.groupPadding=l,this.leaves=null,this.nodes=c.map(function(s,j){return new v(j,f.getBounds(s),f.getChildren(s))}),this.leaves=this.nodes.filter(function(s){return s.leaf}),this.groups=this.nodes.filter(function(s){return!s.leaf}),this.cols=this.getGridLines("x"),this.rows=this.getGridLines("y"),this.groups.forEach(function(s){return s.children.forEach(function(j){return g.nodes[j].parent=s})}),this.root={children:[]},this.nodes.forEach(function(s){typeof s.parent>"u"&&(s.parent=g.root,g.root.children.push(s.id)),s.ports=[]}),this.backToFront=this.nodes.slice(0),this.backToFront.sort(function(s,j){return g.getDepth(s)-g.getDepth(j)}),this.backToFront.slice(0).reverse().filter(function(s){return!s.leaf}).forEach(function(s){var j=o.Rectangle.empty();s.children.forEach(function(L){return j=j.union(g.nodes[L].rect)}),s.rect=j.inflate(g.groupPadding)});var w=this.midPoints(this.cols.map(function(s){return s.pos})),A=this.midPoints(this.rows.map(function(s){return s.pos})),S=w[0],O=w[w.length-1],N=A[0],M=A[A.length-1],G=this.rows.map(function(s){return{x1:S,x2:O,y1:s.pos,y2:s.pos}}).concat(A.map(function(s){return{x1:S,x2:O,y1:s,y2:s}})),Y=this.cols.map(function(s){return{x1:s.pos,x2:s.pos,y1:N,y2:M}}).concat(w.map(function(s){return{x1:s,x2:s,y1:N,y2:M}})),V=G.concat(Y);V.forEach(function(s){return s.verts=[]}),this.verts=[],this.edges=[],G.forEach(function(s){return Y.forEach(function(j){var L=new d(g.verts.length,j.x1,s.y1);s.verts.push(L),j.verts.push(L),g.verts.push(L);for(var D=g.backToFront.length;D-- >0;){var F=g.backToFront[D],k=F.rect,B=Math.abs(L.x-k.cx()),U=Math.abs(L.y-k.cy());if(B<k.width()/2&&U<k.height()/2){L.node=F;break}}})}),V.forEach(function(s,j){g.nodes.forEach(function(U,K){U.rect.lineIntersections(s.x1,s.y1,s.x2,s.y2).forEach(function(H,R){var X=new d(g.verts.length,H.x,H.y,U,s);g.verts.push(X),s.verts.push(X),U.ports.push(X)})});var L=Math.abs(s.y1-s.y2)<.1,D=function(U,K){return L?K.x-U.x:K.y-U.y};s.verts.sort(D);for(var F=1;F<s.verts.length;F++){var k=s.verts[F-1],B=s.verts[F];k.node&&k.node===B.node&&k.node.leaf||g.edges.push({source:k.id,target:B.id,length:Math.abs(D(k,B))})}})}return a.prototype.avg=function(c){return c.reduce(function(f,l){return f+l})/c.length},a.prototype.getGridLines=function(c){for(var f=[],l=this.leaves.slice(0,this.leaves.length);l.length>0;){var g=l.filter(function(w){return w.rect["overlap"+c.toUpperCase()](l[0].rect)}),b={nodes:g,pos:this.avg(g.map(function(w){return w.rect["c"+c]()}))};f.push(b),b.nodes.forEach(function(w){return l.splice(l.indexOf(w),1)})}return f.sort(function(w,A){return w.pos-A.pos}),f},a.prototype.getDepth=function(c){for(var f=0;c.parent!==this.root;)f++,c=c.parent;return f},a.prototype.midPoints=function(c){for(var f=c[1]-c[0],l=[c[0]-f/2],g=1;g<c.length;g++)l.push((c[g]+c[g-1])/2);return l.push(c[c.length-1]+f/2),l},a.prototype.findLineage=function(c){var f=[c];do{f.push(c=c.parent)}while(c!==this.root);return f.reverse()},a.prototype.findAncestorPathBetween=function(c,f){for(var l=this.findLineage(c),g=this.findLineage(f),b=0;l[b]===g[b];)b++;return{commonAncestor:l[b-1],lineages:l.slice(b).concat(g.slice(b))}},a.prototype.siblingObstacles=function(c,f){var l=this,g=this.findAncestorPathBetween(c,f),b={};g.lineages.forEach(function(A){return b[A.id]={}});var w=g.commonAncestor.children.filter(function(A){return!(A in b)});return g.lineages.filter(function(A){return A.parent!==g.commonAncestor}).forEach(function(A){return w=w.concat(A.parent.children.filter(function(S){return S!==A.id}))}),w.map(function(A){return l.nodes[A]})},a.getSegmentSets=function(c,f,l){for(var g=[],b=0;b<c.length;b++)for(var w=c[b],A=0;A<w.length;A++)(S=w[A]).edgeid=b,S.i=A,Math.abs(S[1][f]-S[0][f])<.1&&g.push(S);g.sort(function(Y,V){return Y[0][f]-V[0][f]});for(var N=[],M=null,G=0;G<g.length;G++){var S=g[G];(!M||Math.abs(S[0][f]-M.pos)>.1)&&N.push(M={pos:S[0][f],segments:[]}),M.segments.push(S)}return N},a.nudgeSegs=function(c,f,l,g,b,w){var A=g.length;if(!(A<=1)){for(var S=g.map(function(F){return new y.Variable(F[0][c])}),O=[],N=0;N<A;N++)for(var M=0;M<A;M++)if(N!==M){var G=g[N],V=G.edgeid,s=g[M].edgeid,j=-1,L=-1;"x"==c?b(V,s)&&(G[0][f]<G[1][f]?(j=M,L=N):(j=N,L=M)):b(V,s)&&(G[0][f]<G[1][f]?(j=N,L=M):(j=M,L=N)),j>=0&&O.push(new y.Constraint(S[j],S[L],w))}new y.Solver(S,O).solve(),S.forEach(function(F,k){var B=g[k],U=F.position();B[0][c]=B[1][c]=U;var K=l[B.edgeid];B.i>0&&(K[B.i-1][1][c]=U),B.i<K.length-1&&(K[B.i+1][0][c]=U)})}},a.nudgeSegments=function(c,f,l,g,b){for(var w=a.getSegmentSets(c,f,l),A=0;A<w.length;A++){for(var S=w[A],O=[],N=0;N<S.segments.length;N++){var M=S.segments[N];O.push({type:0,s:M,pos:Math.min(M[0][l],M[1][l])}),O.push({type:1,s:M,pos:Math.max(M[0][l],M[1][l])})}O.sort(function(V,s){return V.pos-s.pos+V.type-s.type});var G=[],Y=0;O.forEach(function(V){0===V.type?(G.push(V.s),Y++):Y--,0==Y&&(a.nudgeSegs(f,l,c,G,g,b),G=[])})}},a.prototype.routeEdges=function(c,f,l,g){var b=this,w=c.map(function(O){return b.route(l(O),g(O))}),A=a.orderEdges(w),S=w.map(function(O){return a.makeSegments(O)});return a.nudgeSegments(S,"x","y",A,f),a.nudgeSegments(S,"y","x",A,f),a.unreverseEdges(S,w),S},a.unreverseEdges=function(c,f){c.forEach(function(l,g){f[g].reversed&&(l.reverse(),l.forEach(function(w){w.reverse()}))})},a.angleBetween2Lines=function(c,f){var l=Math.atan2(c[0].y-c[1].y,c[0].x-c[1].x),g=Math.atan2(f[0].y-f[1].y,f[0].x-f[1].x),b=l-g;return(b>Math.PI||b<-Math.PI)&&(b=g-l),b},a.isLeft=function(c,f,l){return(f.x-c.x)*(l.y-c.y)-(f.y-c.y)*(l.x-c.x)<=0},a.getOrder=function(c){for(var f={},l=0;l<c.length;l++){var g=c[l];typeof f[g.l]>"u"&&(f[g.l]={}),f[g.l][g.r]=!0}return function(b,w){return typeof f[b]<"u"&&f[b][w]}},a.orderEdges=function(c){for(var f=[],l=0;l<c.length-1;l++)for(var g=l+1;g<c.length;g++){var S,O,N,b=c[l],w=c[g],A=new p(b,w);if(0!==A.length){if(A.reversed&&(w.reverse(),w.reversed=!0,A=new p(b,w)),(A.si<=0||A.ti<=0)&&(A.si+A.length>=b.length||A.ti+A.length>=w.length)){f.push({l,r:g});continue}A.si+A.length>=b.length||A.ti+A.length>=w.length?(S=b[A.si+1],N=b[A.si-1],O=w[A.ti-1]):(S=b[A.si+A.length-2],O=b[A.si+A.length],N=w[A.ti+A.length]),a.isLeft(S,O,N)?f.push({l:g,r:l}):f.push({l,r:g})}}return a.getOrder(f)},a.makeSegments=function(c){function f(O){return{x:O.x,y:O.y}}for(var g=[],b=f(c[0]),w=1;w<c.length;w++){var A=f(c[w]),S=w<c.length-1?c[w+1]:null;(!S||(O=b,N=A,M=S,!(Math.abs((N.x-O.x)*(M.y-O.y)-(N.y-O.y)*(M.x-O.x))<.001)))&&(g.push([b,A]),b=A)}var O,N,M;return g},a.prototype.route=function(c,f){var l=this,g=this.nodes[c],b=this.nodes[f];this.obstacles=this.siblingObstacles(g,b);var w={};this.obstacles.forEach(function(L){return w[L.id]=L}),this.passableEdges=this.edges.filter(function(L){var D=l.verts[L.source],F=l.verts[L.target];return!(D.node&&D.node.id in w||F.node&&F.node.id in w)});for(var A=1;A<g.ports.length;A++)this.passableEdges.push({source:g.ports[0].id,target:g.ports[A].id,length:0});for(A=1;A<b.ports.length;A++)this.passableEdges.push({source:b.ports[0].id,target:b.ports[A].id,length:0});var j=new m.Calculator(this.verts.length,this.passableEdges,function(L){return L.source},function(L){return L.target},function(L){return L.length}).PathFromNodeToNodeWithPrevCost(g.ports[0].id,b.ports[0].id,function(L,D,F){var k=l.verts[L],B=l.verts[D],U=l.verts[F],K=Math.abs(U.x-k.x),H=Math.abs(U.y-k.y);return k.node===g&&k.node===B.node||B.node===b&&B.node===U.node?0:K>1&&H>1?1e3:0}).reverse().map(function(L){return l.verts[L]});return j.push(this.nodes[b.id].ports[0]),j.filter(function(L,D){return!(D<j.length-1&&j[D+1].node===g&&L.node===g||D>0&&L.node===b&&j[D-1].node===b)})},a.getRoutePath=function(c,f,l,g){var A,S,O,K,H,b={routepath:"M "+c[0][0].x+" "+c[0][0].y+" ",arrowpath:""};if(c.length>1)for(var w=0;w<c.length;w++){var N=(S=(A=c[w])[1].x)-A[0].x,M=(O=A[1].y)-A[0].y;if(w<c.length-1){Math.abs(N)>0?S-=N/Math.abs(N)*f:O-=M/Math.abs(M)*f,b.routepath+="L "+S+" "+O+" ";var G=c[w+1],Y=G[0].x,V=G[0].y;N=G[1].x-Y,M=G[1].y-V;var D,F,L=a.angleBetween2Lines(A,G)<0?1:0;Math.abs(N)>0?(D=Y+N/Math.abs(N)*f,F=V):(D=Y,F=V+M/Math.abs(M)*f);var k=Math.abs(D-S),B=Math.abs(F-O);b.routepath+="A "+k+" "+B+" 0 0 "+L+" "+D+" "+F+" "}else{var U=[S,O];Math.abs(N)>0?(K=[S-=N/Math.abs(N)*g,O+l],H=[S,O-l]):(K=[S+l,O-=M/Math.abs(M)*g],H=[S-l,O]),b.routepath+="L "+S+" "+O+" ",g>0&&(b.arrowpath="M "+U[0]+" "+U[1]+" L "+K[0]+" "+K[1]+" L "+H[0]+" "+H[1])}}else N=(S=(A=c[0])[1].x)-A[0].x,M=(O=A[1].y)-A[0].y,U=[S,O],Math.abs(N)>0?(K=[S-=N/Math.abs(N)*g,O+l],H=[S,O-l]):(K=[S+l,O-=M/Math.abs(M)*g],H=[S-l,O]),b.routepath+="L "+S+" "+O+" ",g>0&&(b.arrowpath="M "+U[0]+" "+U[1]+" L "+K[0]+" "+K[1]+" L "+H[0]+" "+H[1]);return b},a}();E.GridRouter=u},345:(_,E)=>{"use strict";Object.defineProperty(E,"__esModule",{value:!0});var r_GOLDEN_SECTION=(1+Math.sqrt(5))/2;E.applyPacking=function o(m,v,d,w,b,a){void 0===b&&(b=1),void 0===a&&(a=!0);var l=v,g=d,A=(b=typeof b<"u"?b:1,w=typeof w<"u"?w:0,0),S=0,O=0,N=0,M=[];function s(F,k){M=[],A=0,S=0,N=0;for(var B=0;B<F.length;B++)j(F[B],k);return Math.abs(function D(){return A/S}()-b)}function j(F,k){for(var B=void 0,U=0;U<M.length;U++)if(M[U].space_left>=F.height&&M[U].x+M[U].width+F.width+10-k<=1e-4){B=M[U];break}M.push(F),void 0!==B?(F.x=B.x+B.width+10,F.y=B.bottom,F.space_left=F.height,F.bottom=F.y,B.space_left-=F.height+10,B.bottom+=F.height+10):(F.y=N,N+=F.height+10,F.x=0,F.bottom=F.y,F.space_left=F.height),F.y+F.height-S>-1e-4&&(S=F.y+F.height-0),F.x+F.width-A>-1e-4&&(A=F.x+F.width-0)}0!=m.length&&(function G(F){F.forEach(function(B){!function k(B){var U=Number.MAX_VALUE,K=Number.MAX_VALUE,H=0,R=0;B.array.forEach(function(X){var J=typeof X.width<"u"?X.width:w,rt=typeof X.height<"u"?X.height:w;J/=2,rt/=2,H=Math.max(X.x+J,H),U=Math.min(X.x-J,U),R=Math.max(X.y+rt,R),K=Math.min(X.y-rt,K)}),B.width=H-U,B.height=R-K}(B)})}(m),function V(F,k){var B=Number.POSITIVE_INFINITY,U=0;F.sort(function(W,Q){return Q.height-W.height});for(var K=ut=O=F.reduce(function(W,Q){return W.width<Q.width?W.width:Q.width}),H=pt=function L(F){var k=0;return F.forEach(function(B){return k+=B.width+10}),k}(F),R=0,X=Number.MAX_VALUE,J=Number.MAX_VALUE,rt=-1,tt=Number.MAX_VALUE,st=Number.MAX_VALUE;tt>O||st>1e-4;){if(1!=rt){var ut=H-(H-K)/r_GOLDEN_SECTION;X=s(F,ut)}if(0!=rt){var pt=K+(H-K)/r_GOLDEN_SECTION;J=s(F,pt)}if(tt=Math.abs(ut-pt),st=Math.abs(X-J),X<B&&(B=X,U=ut),J<B&&(B=J,U=pt),X>J?(K=ut,ut=pt,X=J,rt=1):(H=pt,pt=ut,J=X,rt=0),R++>100)break}s(F,U)}(m),a&&function Y(F){F.forEach(function(k){var B={x:0,y:0};k.array.forEach(function(H){B.x+=H.x,B.y+=H.y}),B.x/=k.array.length,B.y/=k.array.length;var K_x=k.x-(B.x-k.width/2)+l/2-A/2,K_y=k.y-(B.y-k.height/2)+g/2-S/2;k.array.forEach(function(H){H.x+=K_x,H.y+=K_y})})}(m))},E.separateGraphs=function y(m,v){for(var d={},p={},u=[],a=0,c=0;c<v.length;c++){var f=v[c],l=f.source,g=f.target;p[l.index]?p[l.index].push(g):p[l.index]=[g],p[g.index]?p[g.index].push(l):p[g.index]=[l]}for(c=0;c<m.length;c++){var b=m[c];d[b.index]||w(b,!0)}function w(A,S){if(void 0===d[A.index]){S&&(a++,u.push({array:[]})),d[A.index]=a,u[a-1].array.push(A);var O=p[A.index];if(O)for(var N=0;N<O.length;N++)w(O[N],!1)}}return u}},5675:(_,E,r)=>{"use strict";Object.defineProperty(E,"__esModule",{value:!0});var a,l,o=r(2575),y=r(8802),m=r(1786),v=r(4068),d=r(3858),p=r(225),u=r(345);function c(l){return typeof l.leaves<"u"||typeof l.groups<"u"}(l=a=E.EventType||(E.EventType={}))[l.start=0]="start",l[l.tick=1]="tick",l[l.end=2]="end";var f=function(){function l(){var g=this;this._canvasSize=[1,1],this._linkDistance=20,this._defaultNodeSize=10,this._linkLengthCalculator=null,this._linkType=null,this._avoidOverlaps=!1,this._handleDisconnected=!0,this._running=!1,this._nodes=[],this._groups=[],this._rootGroup=null,this._links=[],this._constraints=[],this._distanceMatrix=null,this._descent=null,this._directedLinkConstraints=null,this._threshold=.01,this._visibilityGraph=null,this._groupCompactness=1e-6,this.event=null,this.linkAccessor={getSourceIndex:l.getSourceIndex,getTargetIndex:l.getTargetIndex,setLength:l.setLinkLength,getType:function(b){return"function"==typeof g._linkType?g._linkType(b):0}}}return l.prototype.on=function(g,b){return this.event||(this.event={}),"string"==typeof g?this.event[a[g]]=b:this.event[g]=b,this},l.prototype.trigger=function(g){this.event&&typeof this.event[g.type]<"u"&&this.event[g.type](g)},l.prototype.kick=function(){for(;!this.tick(););},l.prototype.tick=function(){if(this._alpha<this._threshold)return this._running=!1,this.trigger({type:a.end,alpha:this._alpha=0,stress:this._lastStress}),!0;var w,A,g=this._nodes.length;for(this._descent.locks.clear(),A=0;A<g;++A)(w=this._nodes[A]).fixed&&((typeof w.px>"u"||typeof w.py>"u")&&(w.px=w.x,w.py=w.y),this._descent.locks.add(A,[w.px,w.py]));var O=this._descent.rungeKutta();return 0===O?this._alpha=0:typeof this._lastStress<"u"&&(this._alpha=O),this._lastStress=O,this.updateNodePositions(),this.trigger({type:a.tick,alpha:this._alpha,stress:this._lastStress}),!1},l.prototype.updateNodePositions=function(){for(var w,g=this._descent.x[0],b=this._descent.x[1],A=this._nodes.length;A--;)(w=this._nodes[A]).x=g[A],w.y=b[A]},l.prototype.nodes=function(g){if(!g){if(0===this._nodes.length&&this._links.length>0){var b=0;this._links.forEach(function(A){b=Math.max(b,A.source,A.target)}),this._nodes=new Array(++b);for(var w=0;w<b;++w)this._nodes[w]={}}return this._nodes}return this._nodes=g,this},l.prototype.groups=function(g){var b=this;return g?(this._groups=g,this._rootGroup={},this._groups.forEach(function(w){typeof w.padding>"u"&&(w.padding=1),typeof w.leaves<"u"&&w.leaves.forEach(function(A,S){"number"==typeof A&&((w.leaves[S]=b._nodes[A]).parent=w)}),typeof w.groups<"u"&&w.groups.forEach(function(A,S){"number"==typeof A&&((w.groups[S]=b._groups[A]).parent=w)})}),this._rootGroup.leaves=this._nodes.filter(function(w){return typeof w.parent>"u"}),this._rootGroup.groups=this._groups.filter(function(w){return typeof w.parent>"u"}),this):this._groups},l.prototype.powerGraphGroups=function(g){var b=o.getGroups(this._nodes,this._links,this.linkAccessor,this._rootGroup);return this.groups(b.groups),g(b),this},l.prototype.avoidOverlaps=function(g){return arguments.length?(this._avoidOverlaps=g,this):this._avoidOverlaps},l.prototype.handleDisconnected=function(g){return arguments.length?(this._handleDisconnected=g,this):this._handleDisconnected},l.prototype.flowLayout=function(g,b){return arguments.length||(g="y"),this._directedLinkConstraints={axis:g,getMinSeparation:"number"==typeof b?function(){return b}:b},this},l.prototype.links=function(g){return arguments.length?(this._links=g,this):this._links},l.prototype.constraints=function(g){return arguments.length?(this._constraints=g,this):this._constraints},l.prototype.distanceMatrix=function(g){return arguments.length?(this._distanceMatrix=g,this):this._distanceMatrix},l.prototype.size=function(g){return g?(this._canvasSize=g,this):this._canvasSize},l.prototype.defaultNodeSize=function(g){return g?(this._defaultNodeSize=g,this):this._defaultNodeSize},l.prototype.groupCompactness=function(g){return g?(this._groupCompactness=g,this):this._groupCompactness},l.prototype.linkDistance=function(g){return g?(this._linkDistance="function"==typeof g?g:+g,this._linkLengthCalculator=null,this):this._linkDistance},l.prototype.linkType=function(g){return this._linkType=g,this},l.prototype.convergenceThreshold=function(g){return g?(this._threshold="function"==typeof g?g:+g,this):this._threshold},l.prototype.alpha=function(g){return arguments.length?(g=+g,this._alpha?this._alpha=g>0?g:0:g>0&&(this._running||(this._running=!0,this.trigger({type:a.start,alpha:this._alpha=g}),this.kick())),this):this._alpha},l.prototype.getLinkLength=function(g){return"function"==typeof this._linkDistance?+this._linkDistance(g):this._linkDistance},l.setLinkLength=function(g,b){g.length=b},l.prototype.getLinkType=function(g){return"function"==typeof this._linkType?this._linkType(g):0},l.prototype.symmetricDiffLinkLengths=function(g,b){var w=this;return void 0===b&&(b=1),this.linkDistance(function(A){return g*A.length}),this._linkLengthCalculator=function(){return y.symmetricDiffLinkLengths(w._links,w.linkAccessor,b)},this},l.prototype.jaccardLinkLengths=function(g,b){var w=this;return void 0===b&&(b=1),this.linkDistance(function(A){return g*A.length}),this._linkLengthCalculator=function(){return y.jaccardLinkLengths(w._links,w.linkAccessor,b)},this},l.prototype.start=function(g,b,w,A,S,O){var N=this;void 0===g&&(g=0),void 0===b&&(b=0),void 0===w&&(w=0),void 0===A&&(A=0),void 0===S&&(S=!0),void 0===O&&(O=!0);var U,Y=this.nodes().length,V=Y+2*this._groups.length,j=this._canvasSize[0],L=this._canvasSize[1],D=new Array(V),F=new Array(V),k=null,B=this._avoidOverlaps;this._nodes.forEach(function(tt,st){tt.index=st,typeof tt.x>"u"&&(tt.x=j/2,tt.y=L/2),D[st]=tt.x,F[st]=tt.y}),this._linkLengthCalculator&&this._linkLengthCalculator(),this._distanceMatrix?U=this._distanceMatrix:(U=new d.Calculator(V,this._links,l.getSourceIndex,l.getTargetIndex,function(tt){return N.getLinkLength(tt)}).DistanceMatrix(),k=m.Descent.createSquareMatrix(V,function(){return 2}),this._links.forEach(function(tt){"number"==typeof tt.source&&(tt.source=N._nodes[tt.source]),"number"==typeof tt.target&&(tt.target=N._nodes[tt.target])}),this._links.forEach(function(tt){var st=l.getSourceIndex(tt),ut=l.getTargetIndex(tt);k[st][ut]=k[ut][st]=tt.weight||1}));var K=m.Descent.createSquareMatrix(V,function(tt,st){return U[tt][st]});if(this._rootGroup&&typeof this._rootGroup.groups<"u"){var M=Y;this._groups.forEach(function(st){(function(st,ut,pt,W){k[st][ut]=k[ut][st]=pt,K[st][ut]=K[ut][st]=.1})(M,M+1,N._groupCompactness),D[M]=0,F[M++]=0,D[M]=0,F[M++]=0})}else this._rootGroup={leaves:this._nodes,groups:[]};var R=this._constraints||[];for(this._directedLinkConstraints&&(this.linkAccessor.getMinSeparation=this._directedLinkConstraints.getMinSeparation,R=R.concat(y.generateDirectedEdgeConstraints(Y,this._links,this._directedLinkConstraints.axis,this.linkAccessor))),this.avoidOverlaps(!1),this._descent=new m.Descent([D,F],K),this._descent.locks.clear(),M=0;M<Y;++M){var X=this._nodes[M];X.fixed&&(X.px=X.x,X.py=X.y,this._descent.locks.add(M,[X.x,X.y]))}if(this._descent.threshold=this._threshold,this.initialLayout(g,D,F),R.length>0&&(this._descent.project=new v.Projection(this._nodes,this._groups,this._rootGroup,R).projectFunctions()),this._descent.run(b),this.separateOverlappingComponents(j,L,O),this.avoidOverlaps(B),B&&(this._nodes.forEach(function(tt,st){tt.x=D[st],tt.y=F[st]}),this._descent.project=new v.Projection(this._nodes,this._groups,this._rootGroup,R,!0).projectFunctions(),this._nodes.forEach(function(tt,st){D[st]=tt.x,F[st]=tt.y})),this._descent.G=k,this._descent.run(w),A){this._descent.snapStrength=1e3,this._descent.snapGridSize=this._nodes[0].width,this._descent.numGridSnapNodes=Y,this._descent.scaleSnapByMaxH=Y!=V;var rt=m.Descent.createSquareMatrix(V,function(tt,st){return tt>=Y||st>=Y?k[tt][st]:0});this._descent.G=rt,this._descent.run(A)}return this.updateNodePositions(),this.separateOverlappingComponents(j,L,O),S?this.resume():this},l.prototype.initialLayout=function(g,b,w){if(this._groups.length>0&&g>0){var A=this._nodes.length,S=this._links.map(function(N){return{source:N.source.index,target:N.target.index}}),O=this._nodes.map(function(N){return{index:N.index}});this._groups.forEach(function(N,M){O.push({index:N.index=A+M})}),this._groups.forEach(function(N,M){typeof N.leaves<"u"&&N.leaves.forEach(function(G){return S.push({source:N.index,target:G.index})}),typeof N.groups<"u"&&N.groups.forEach(function(G){return S.push({source:N.index,target:G.index})})}),(new l).size(this.size()).nodes(O).links(S).avoidOverlaps(!1).linkDistance(this.linkDistance()).symmetricDiffLinkLengths(5).convergenceThreshold(1e-4).start(g,0,0,0,!1),this._nodes.forEach(function(N){b[N.index]=O[N.index].x,w[N.index]=O[N.index].y})}else this._descent.run(g)},l.prototype.separateOverlappingComponents=function(g,b,w){var A=this;if(void 0===w&&(w=!0),!this._distanceMatrix&&this._handleDisconnected){var S=this._descent.x[0],O=this._descent.x[1];this._nodes.forEach(function(M,G){M.x=S[G],M.y=O[G]});var N=u.separateGraphs(this._nodes,this._links);u.applyPacking(N,g,b,this._defaultNodeSize,1,w),this._nodes.forEach(function(M,G){A._descent.x[0][G]=M.x,A._descent.x[1][G]=M.y,M.bounds&&(M.bounds.setXCentre(M.x),M.bounds.setYCentre(M.y))})}},l.prototype.resume=function(){return this.alpha(.1)},l.prototype.stop=function(){return this.alpha(0)},l.prototype.prepareEdgeRouting=function(g){void 0===g&&(g=0),this._visibilityGraph=new p.TangentVisibilityGraph(this._nodes.map(function(b){return b.bounds.inflate(-g).vertices()}))},l.prototype.routeEdge=function(g,b,w){void 0===b&&(b=5);var A=[],S=new p.TangentVisibilityGraph(this._visibilityGraph.P,{V:this._visibilityGraph.V,E:this._visibilityGraph.E}),O={x:g.source.x,y:g.source.y},N={x:g.target.x,y:g.target.y},M=S.addPoint(O,g.source.index),G=S.addPoint(N,g.target.index);S.addEdgeIfVisible(O,N,g.source.index,g.target.index),typeof w<"u"&&w(S);var L=new d.Calculator(S.V.length,S.E,function(K){return K.source.id},function(K){return K.target.id},function(K){return K.length()}).PathFromNodeToNode(M.id,G.id);if(1===L.length||L.length===S.V.length){var D=v.makeEdgeBetween(g.source.innerBounds,g.target.innerBounds,b);A=[D.sourceIntersection,D.arrowStart]}else{for(var F=L.length-2,k=S.V[L[F]].p,B=S.V[L[0]].p,U=(A=[g.source.innerBounds.rayIntersection(k.x,k.y)],F);U>=0;--U)A.push(S.V[L[U]].p);A.push(v.makeEdgeTo(B,g.target.innerBounds,b))}return A},l.getSourceIndex=function(g){return"number"==typeof g.source?g.source:g.source.index},l.getTargetIndex=function(g){return"number"==typeof g.target?g.target:g.target.index},l.linkId=function(g){return l.getSourceIndex(g)+"-"+l.getTargetIndex(g)},l.dragStart=function(g){c(g)?l.storeOffset(g,l.dragOrigin(g)):(l.stopNode(g),g.fixed|=2)},l.stopNode=function(g){g.px=g.x,g.py=g.y},l.storeOffset=function(g,b){typeof g.leaves<"u"&&g.leaves.forEach(function(w){w.fixed|=2,l.stopNode(w),w._dragGroupOffsetX=w.x-b.x,w._dragGroupOffsetY=w.y-b.y}),typeof g.groups<"u"&&g.groups.forEach(function(w){return l.storeOffset(w,b)})},l.dragOrigin=function(g){return c(g)?{x:g.bounds.cx(),y:g.bounds.cy()}:g},l.drag=function(g,b){c(g)?(typeof g.leaves<"u"&&g.leaves.forEach(function(w){g.bounds.setXCentre(b.x),g.bounds.setYCentre(b.y),w.px=w._dragGroupOffsetX+b.x,w.py=w._dragGroupOffsetY+b.y}),typeof g.groups<"u"&&g.groups.forEach(function(w){return l.drag(w,b)})):(g.px=b.x,g.py=b.y)},l.dragEnd=function(g){c(g)?(typeof g.leaves<"u"&&g.leaves.forEach(function(b){l.dragEnd(b),delete b._dragGroupOffsetX,delete b._dragGroupOffsetY}),typeof g.groups<"u"&&g.groups.forEach(l.dragEnd)):g.fixed&=-7},l.mouseOver=function(g){g.fixed|=4,g.px=g.x,g.py=g.y},l.mouseOut=function(g){g.fixed&=-5},l}();E.Layout=f},6461:(_,E,r)=>{"use strict";Object.defineProperty(E,"__esModule",{value:!0});var o=r(3858),y=r(1786),m=r(4068),v=r(8802),d=function(){function c(f,l){this.source=f,this.target=l}return c.prototype.actualLength=function(f){var l=this;return Math.sqrt(f.reduce(function(g,b){var w=b[l.target]-b[l.source];return g+w*w},0))},c}();E.Link3D=d,E.Node3D=function c(f,l,g){void 0===f&&(f=0),void 0===l&&(l=0),void 0===g&&(g=0),this.x=f,this.y=l,this.z=g};var u=function(){function c(f,l,g){var b=this;void 0===g&&(g=1),this.nodes=f,this.links=l,this.idealLinkLength=g,this.constraints=null,this.useJaccardLinkLengths=!0,this.result=new Array(c.k);for(var w=0;w<c.k;++w)this.result[w]=new Array(f.length);f.forEach(function(A,S){for(var O=0,N=c.dims;O<N.length;O++){var M=N[O];typeof A[M]>"u"&&(A[M]=Math.random())}b.result[0][S]=A.x,b.result[1][S]=A.y,b.result[2][S]=A.z})}return c.prototype.linkLength=function(f){return f.actualLength(this.result)},c.prototype.start=function(f){var l=this;void 0===f&&(f=100);var g=this.nodes.length,b=new a;this.useJaccardLinkLengths&&v.jaccardLinkLengths(this.links,b,1.5),this.links.forEach(function(M){return M.length*=l.idealLinkLength});var w=new o.Calculator(g,this.links,function(M){return M.source},function(M){return M.target},function(M){return M.length}).DistanceMatrix(),A=y.Descent.createSquareMatrix(g,function(M,G){return w[M][G]}),S=y.Descent.createSquareMatrix(g,function(){return 2});this.links.forEach(function(M){var G=M.source,Y=M.target;return S[G][Y]=S[Y][G]=1}),this.descent=new y.Descent(this.result,A),this.descent.threshold=.001,this.descent.G=S,this.constraints&&(this.descent.project=new m.Projection(this.nodes,null,null,this.constraints).projectFunctions());for(var O=0;O<this.nodes.length;O++){var N=this.nodes[O];N.fixed&&this.descent.locks.add(O,[N.x,N.y,N.z])}return this.descent.run(f),this},c.prototype.tick=function(){this.descent.locks.clear();for(var f=0;f<this.nodes.length;f++){var l=this.nodes[f];l.fixed&&this.descent.locks.add(f,[l.x,l.y,l.z])}return this.descent.rungeKutta()},c.k=(c.dims=["x","y","z"]).length,c}();E.Layout3D=u;var a=function(){function c(){}return c.prototype.getSourceIndex=function(f){return f.source},c.prototype.getTargetIndex=function(f){return f.target},c.prototype.getLength=function(f){return f.length},c.prototype.setLength=function(f,l){f.length=l},c}()},8802:(_,E)=>{"use strict";function r(a,c){var f={};for(var l in a)f[l]={};for(var l in c)f[l]={};return Object.keys(f).length}function o(a,c){var f=0;for(var l in a)typeof c[l]<"u"&&++f;return f}function m(a,c,f,l){var g=function y(a,c){var f={},l=function(g,b){typeof f[g]>"u"&&(f[g]={}),f[g][b]={}};return a.forEach(function(g){var b=c.getSourceIndex(g),w=c.getTargetIndex(g);l(b,w),l(w,b)}),f}(a,l);a.forEach(function(b){var w=g[l.getSourceIndex(b)],A=g[l.getTargetIndex(b)];l.setLength(b,1+c*f(w,A))})}function u(a,c,f){var l=[],g=0,b=[],w=[];function A(L){L.index=L.lowlink=g++,b.push(L),L.onStack=!0;for(var D=0,F=L.out;D<F.length;D++){var k=F[D];typeof k.index>"u"?(A(k),L.lowlink=Math.min(L.lowlink,k.lowlink)):k.onStack&&(L.lowlink=Math.min(L.lowlink,k.index))}if(L.lowlink===L.index){for(var B=[];b.length&&((k=b.pop()).onStack=!1,B.push(k),k!==L););w.push(B.map(function(U){return U.id}))}}for(var S=0;S<a;S++)l.push({id:S,out:[]});for(var O=0,N=c;O<N.length;O++){var M=N[O],G=l[f.getSourceIndex(M)],Y=l[f.getTargetIndex(M)];G.out.push(Y)}for(var V=0,s=l;V<s.length;V++){var j=s[V];typeof j.index>"u"&&A(j)}return w}Object.defineProperty(E,"__esModule",{value:!0}),E.symmetricDiffLinkLengths=function v(a,c,f){void 0===f&&(f=1),m(a,f,function(l,g){return Math.sqrt(r(l,g)-o(l,g))},c)},E.jaccardLinkLengths=function d(a,c,f){void 0===f&&(f=1),m(a,f,function(l,g){return Math.min(Object.keys(l).length,Object.keys(g).length)<1.1?0:o(l,g)/r(l,g)},c)},E.generateDirectedEdgeConstraints=function p(a,c,f,l){var g=u(a,c,l),b={};g.forEach(function(A,S){return A.forEach(function(O){return b[O]=S})});var w=[];return c.forEach(function(A){var S=l.getSourceIndex(A),O=l.getTargetIndex(A);b[S]!==b[O]&&w.push({axis:f,left:S,right:O,gap:l.getMinSeparation(A)})}),w},E.stronglyConnectedComponents=u},2575:(_,E)=>{"use strict";Object.defineProperty(E,"__esModule",{value:!0});var r=function c(f,l,g){this.source=f,this.target=l,this.type=g};E.PowerEdge=r;var o=function(){function c(f,l,g,b){var w=this;if(this.linkAccessor=g,this.modules=new Array(f),this.roots=[],b)this.initModulesFromGroup(b);else{this.roots.push(new d);for(var A=0;A<f;++A)this.roots[0].add(this.modules[A]=new m(A))}this.R=l.length,l.forEach(function(S){var O=w.modules[g.getSourceIndex(S)],N=w.modules[g.getTargetIndex(S)],M=g.getType(S);O.outgoing.add(M,N),N.incoming.add(M,O)})}return c.prototype.initModulesFromGroup=function(f){var l=new d;this.roots.push(l);for(var g=0;g<f.leaves.length;++g){var b=f.leaves[g],w=new m(b.id);this.modules[b.id]=w,l.add(w)}if(f.groups)for(var A=0;A<f.groups.length;++A){var S=f.groups[A],O={};for(var N in S)"leaves"!==N&&"groups"!==N&&S.hasOwnProperty(N)&&(O[N]=S[N]);l.add(new m(-1-A,new p,new p,this.initModulesFromGroup(S),O))}return l},c.prototype.merge=function(f,l,g){void 0===g&&(g=0);var b=f.incoming.intersection(l.incoming),w=f.outgoing.intersection(l.outgoing),A=new d;A.add(f),A.add(l);var S=new m(this.modules.length,w,b,A);this.modules.push(S);var O=function(N,M,G){N.forAll(function(Y,V){Y.forAll(function(s){var j=s[M];j.add(V,S),j.remove(V,f),j.remove(V,l),f[G].remove(V,s),l[G].remove(V,s)})})};return O(w,"incoming","outgoing"),O(b,"outgoing","incoming"),this.R-=b.count()+w.count(),this.roots[g].remove(f),this.roots[g].remove(l),this.roots[g].add(S),S},c.prototype.rootMerges=function(f){void 0===f&&(f=0);for(var l=this.roots[f].modules(),g=l.length,b=new Array(g*(g-1)),w=0,A=0,S=g-1;A<S;++A)for(var O=A+1;O<g;++O){var N=l[A],M=l[O];b[w]={id:w,nEdges:this.nEdges(N,M),a:N,b:M},w++}return b},c.prototype.greedyMerge=function(){for(var f=0;f<this.roots.length;++f)if(!(this.roots[f].modules().length<2)){var g=this.rootMerges(f).sort(function(b,w){return b.nEdges==w.nEdges?b.id-w.id:b.nEdges-w.nEdges})[0];if(!(g.nEdges>=this.R))return this.merge(g.a,g.b,f),!0}},c.prototype.nEdges=function(f,l){var g=f.incoming.intersection(l.incoming),b=f.outgoing.intersection(l.outgoing);return this.R-g.count()-b.count()},c.prototype.getGroupHierarchy=function(f){var l=this,g=[];return y(this.roots[0],{},g),this.allEdges().forEach(function(A){var S=l.modules[A.source],O=l.modules[A.target];f.push(new r(typeof S.gid>"u"?A.source:g[S.gid],typeof O.gid>"u"?A.target:g[O.gid],A.type))}),g},c.prototype.allEdges=function(){var f=[];return c.getEdges(this.roots[0],f),f},c.getEdges=function(f,l){f.forAll(function(g){g.getEdges(l),c.getEdges(g.children,l)})},c}();function y(c,f,l){c.forAll(function(g){if(g.isLeaf())f.leaves||(f.leaves=[]),f.leaves.push(g.id);else{var b=f;if(g.gid=l.length,!g.isIsland()||g.isPredefined()){if(b={id:g.gid},g.isPredefined())for(var w in g.definition)b[w]=g.definition[w];f.groups||(f.groups=[]),f.groups.push(g.gid),l.push(b)}y(g.children,b,l)}})}E.Configuration=o;var m=function(){function c(f,l,g,b,w){void 0===l&&(l=new p),void 0===g&&(g=new p),void 0===b&&(b=new d),this.id=f,this.outgoing=l,this.incoming=g,this.children=b,this.definition=w}return c.prototype.getEdges=function(f){var l=this;this.outgoing.forAll(function(g,b){g.forAll(function(w){f.push(new r(l.id,w.id,b))})})},c.prototype.isLeaf=function(){return 0===this.children.count()},c.prototype.isIsland=function(){return 0===this.outgoing.count()&&0===this.incoming.count()},c.prototype.isPredefined=function(){return typeof this.definition<"u"},c}();E.Module=m;var d=function(){function c(){this.table={}}return c.prototype.count=function(){return Object.keys(this.table).length},c.prototype.intersection=function(f){var l=new c;return l.table=function v(c,f){var l={};for(var g in c)g in f&&(l[g]=c[g]);return l}(this.table,f.table),l},c.prototype.intersectionCount=function(f){return this.intersection(f).count()},c.prototype.contains=function(f){return f in this.table},c.prototype.add=function(f){this.table[f.id]=f},c.prototype.remove=function(f){delete this.table[f.id]},c.prototype.forAll=function(f){for(var l in this.table)f(this.table[l])},c.prototype.modules=function(){var f=[];return this.forAll(function(l){l.isPredefined()||f.push(l)}),f},c}();E.ModuleSet=d;var p=function(){function c(){this.sets={},this.n=0}return c.prototype.count=function(){return this.n},c.prototype.contains=function(f){var l=!1;return this.forAllModules(function(g){!l&&g.id==f&&(l=!0)}),l},c.prototype.add=function(f,l){(f in this.sets?this.sets[f]:this.sets[f]=new d).add(l),++this.n},c.prototype.remove=function(f,l){var g=this.sets[f];g.remove(l),0===g.count()&&delete this.sets[f],--this.n},c.prototype.forAll=function(f){for(var l in this.sets)f(this.sets[l],Number(l))},c.prototype.forAllModules=function(f){this.forAll(function(l,g){return l.forAll(f)})},c.prototype.intersection=function(f){var l=new c;return this.forAll(function(g,b){if(b in f.sets){var w=g.intersection(f.sets[b]),A=w.count();A>0&&(l.sets[b]=w,l.n+=A)}}),l},c}();E.LinkSets=p,E.getGroups=function a(c,f,l,g){for(var w=new o(c.length,f,l,g);w.greedyMerge(););var A=[],S=w.getGroupHierarchy(A);return A.forEach(function(O){var N=function(M){var G=O[M];"number"==typeof G&&(O[M]=c[G])};N("source"),N("target")}),{groups:S,powerEdges:A}}},8866:(_,E)=>{"use strict";Object.defineProperty(E,"__esModule",{value:!0});var r=function(){function y(m){this.elem=m,this.subheaps=[]}return y.prototype.toString=function(m){for(var v="",d=!1,p=0;p<this.subheaps.length;++p){var u=this.subheaps[p];u.elem?(d&&(v+=","),v+=u.toString(m),d=!0):d=!1}return""!==v&&(v="("+v+")"),(this.elem?m(this.elem):"")+v},y.prototype.forEach=function(m){this.empty()||(m(this.elem,this),this.subheaps.forEach(function(v){return v.forEach(m)}))},y.prototype.count=function(){return this.empty()?0:1+this.subheaps.reduce(function(m,v){return m+v.count()},0)},y.prototype.min=function(){return this.elem},y.prototype.empty=function(){return null==this.elem},y.prototype.contains=function(m){if(this===m)return!0;for(var v=0;v<this.subheaps.length;v++)if(this.subheaps[v].contains(m))return!0;return!1},y.prototype.isHeap=function(m){var v=this;return this.subheaps.every(function(d){return m(v.elem,d.elem)&&d.isHeap(m)})},y.prototype.insert=function(m,v){return this.merge(new y(m),v)},y.prototype.merge=function(m,v){return this.empty()?m:m.empty()?this:v(this.elem,m.elem)?(this.subheaps.push(m),this):(m.subheaps.push(this),m)},y.prototype.removeMin=function(m){return this.empty()?null:this.mergePairs(m)},y.prototype.mergePairs=function(m){if(0==this.subheaps.length)return new y(null);if(1==this.subheaps.length)return this.subheaps[0];var v=this.subheaps.pop().merge(this.subheaps.pop(),m),d=this.mergePairs(m);return v.merge(d,m)},y.prototype.decreaseKey=function(m,v,d,p){var u=m.removeMin(p);m.elem=u.elem,m.subheaps=u.subheaps,null!==d&&null!==u.elem&&d(m.elem,m);var a=new y(v);return null!==d&&d(v,a),this.merge(a,p)},y}();E.PairingHeap=r;var o=function(){function y(m){this.lessThan=m}return y.prototype.top=function(){return this.empty()?null:this.root.elem},y.prototype.push=function(){for(var m=[],v=0;v<arguments.length;v++)m[v]=arguments[v];for(var d,u,p=0;u=m[p];++p)d=new r(u),this.root=this.empty()?d:this.root.merge(d,this.lessThan);return d},y.prototype.empty=function(){return!this.root||!this.root.elem},y.prototype.isHeap=function(){return this.root.isHeap(this.lessThan)},y.prototype.forEach=function(m){this.root.forEach(m)},y.prototype.pop=function(){if(this.empty())return null;var m=this.root.min();return this.root=this.root.removeMin(this.lessThan),m},y.prototype.reduceKey=function(m,v,d){void 0===d&&(d=null),this.root=this.root.decreaseKey(m,v,d,this.lessThan)},y.prototype.toString=function(m){return this.root.toString(m)},y.prototype.count=function(){return this.root.count()},y}();E.PriorityQueue=o},4655:function(_,E){"use strict";var d,r=this&&this.__extends||(d=function(p,u){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var f in c)c.hasOwnProperty(f)&&(a[f]=c[f])})(p,u)},function(p,u){function a(){this.constructor=p}d(p,u),p.prototype=null===u?Object.create(u):(a.prototype=u.prototype,new a)});Object.defineProperty(E,"__esModule",{value:!0});var o=function(){function d(){this.findIter=function(p){for(var u=this._root,a=this.iterator();null!==u;){var c=this._comparator(p,u.data);if(0===c)return a._cursor=u,a;a._ancestors.push(u),u=u.get_child(c>0)}return null}}return d.prototype.clear=function(){this._root=null,this.size=0},d.prototype.find=function(p){for(var u=this._root;null!==u;){var a=this._comparator(p,u.data);if(0===a)return u.data;u=u.get_child(a>0)}return null},d.prototype.lowerBound=function(p){return this._bound(p,this._comparator)},d.prototype.upperBound=function(p){var u=this._comparator;return this._bound(p,function a(c,f){return u(f,c)})},d.prototype.min=function(){var p=this._root;if(null===p)return null;for(;null!==p.left;)p=p.left;return p.data},d.prototype.max=function(){var p=this._root;if(null===p)return null;for(;null!==p.right;)p=p.right;return p.data},d.prototype.iterator=function(){return new y(this)},d.prototype.each=function(p){for(var a,u=this.iterator();null!==(a=u.next());)p(a)},d.prototype.reach=function(p){for(var a,u=this.iterator();null!==(a=u.prev());)p(a)},d.prototype._bound=function(p,u){for(var a=this._root,c=this.iterator();null!==a;){var f=this._comparator(p,a.data);if(0===f)return c._cursor=a,c;c._ancestors.push(a),a=a.get_child(f>0)}for(var l=c._ancestors.length-1;l>=0;--l)if(u(p,(a=c._ancestors[l]).data)>0)return c._cursor=a,c._ancestors.length=l,c;return c._ancestors.length=0,c},d}();E.TreeBase=o;var y=function(){function d(p){this._tree=p,this._ancestors=[],this._cursor=null}return d.prototype.data=function(){return null!==this._cursor?this._cursor.data:null},d.prototype.next=function(){if(null===this._cursor){var p=this._tree._root;null!==p&&this._minNode(p)}else if(null===this._cursor.right){var u;do{if(u=this._cursor,!this._ancestors.length){this._cursor=null;break}this._cursor=this._ancestors.pop()}while(this._cursor.right===u)}else this._ancestors.push(this._cursor),this._minNode(this._cursor.right);return null!==this._cursor?this._cursor.data:null},d.prototype.prev=function(){if(null===this._cursor){var p=this._tree._root;null!==p&&this._maxNode(p)}else if(null===this._cursor.left){var u;do{if(u=this._cursor,!this._ancestors.length){this._cursor=null;break}this._cursor=this._ancestors.pop()}while(this._cursor.left===u)}else this._ancestors.push(this._cursor),this._maxNode(this._cursor.left);return null!==this._cursor?this._cursor.data:null},d.prototype._minNode=function(p){for(;null!==p.left;)this._ancestors.push(p),p=p.left;this._cursor=p},d.prototype._maxNode=function(p){for(;null!==p.right;)this._ancestors.push(p),p=p.right;this._cursor=p},d}();E.Iterator=y;var m=function(){function d(p){this.data=p,this.left=null,this.right=null,this.red=!0}return d.prototype.get_child=function(p){return p?this.right:this.left},d.prototype.set_child=function(p,u){p?this.right=u:this.left=u},d}(),v=function(d){function p(u){var a=d.call(this)||this;return a._root=null,a._comparator=u,a.size=0,a}return r(p,d),p.prototype.insert=function(u){var a=!1;if(null===this._root)this._root=new m(u),a=!0,this.size++;else{var c=new m(void 0),f=!1,l=!1,g=null,b=c,w=null,A=this._root;for(b.right=this._root;;){if(null===A?(A=new m(u),w.set_child(f,A),a=!0,this.size++):p.is_red(A.left)&&p.is_red(A.right)&&(A.red=!0,A.left.red=!1,A.right.red=!1),p.is_red(A)&&p.is_red(w)){var S=b.right===g;A===w.get_child(l)?b.set_child(S,p.single_rotate(g,!l)):b.set_child(S,p.double_rotate(g,!l))}var O=this._comparator(A.data,u);if(0===O)break;l=f,null!==g&&(b=g),g=w,w=A,A=A.get_child(f=O<0)}this._root=c.right}return this._root.red=!1,a},p.prototype.remove=function(u){if(null===this._root)return!1;var a=new m(void 0),c=a;c.right=this._root;for(var f=null,l=null,g=null,b=!0;null!==c.get_child(b);){var w=b;l=f,f=c,c=c.get_child(b);var A=this._comparator(u,c.data);if(b=A>0,0===A&&(g=c),!p.is_red(c)&&!p.is_red(c.get_child(b)))if(p.is_red(c.get_child(!b))){var S=p.single_rotate(c,b);f.set_child(w,S),f=S}else if(!p.is_red(c.get_child(!b))){var O=f.get_child(!w);if(null!==O)if(p.is_red(O.get_child(!w))||p.is_red(O.get_child(w))){var N=l.right===f;p.is_red(O.get_child(w))?l.set_child(N,p.double_rotate(f,w)):p.is_red(O.get_child(!w))&&l.set_child(N,p.single_rotate(f,w));var M=l.get_child(N);M.red=!0,c.red=!0,M.left.red=!1,M.right.red=!1}else f.red=!1,O.red=!0,c.red=!0}}return null!==g&&(g.data=c.data,f.set_child(f.right===c,c.get_child(null===c.left)),this.size--),this._root=a.right,null!==this._root&&(this._root.red=!1),null!==g},p.is_red=function(u){return null!==u&&u.red},p.single_rotate=function(u,a){var c=u.get_child(!a);return u.set_child(!a,c.get_child(a)),c.set_child(a,u),u.red=!0,c.red=!1,c},p.double_rotate=function(u,a){return u.set_child(!a,p.single_rotate(u.get_child(!a),!a)),p.single_rotate(u,a)},p}(o);E.RBTree=v},4068:function(_,E,r){"use strict";var L,o=this&&this.__extends||(L=function(D,F){return(L=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,B){k.__proto__=B}||function(k,B){for(var U in B)B.hasOwnProperty(U)&&(k[U]=B[U])})(D,F)},function(D,F){function k(){this.constructor=D}L(D,F),D.prototype=null===F?Object.create(F):(k.prototype=F.prototype,new k)});Object.defineProperty(E,"__esModule",{value:!0});var y=r(8237),m=r(4655);function v(L){return L.bounds=typeof L.leaves<"u"?L.leaves.reduce(function(D,F){return F.bounds.union(D)},d.empty()):d.empty(),typeof L.groups<"u"&&(L.bounds=L.groups.reduce(function(D,F){return v(F).union(D)},L.bounds)),L.bounds=L.bounds.inflate(L.padding),L.bounds}E.computeGroupBounds=v;var d=function(){function L(D,F,k,B){this.x=D,this.X=F,this.y=k,this.Y=B}return L.empty=function(){return new L(Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY)},L.prototype.cx=function(){return(this.x+this.X)/2},L.prototype.cy=function(){return(this.y+this.Y)/2},L.prototype.overlapX=function(D){var F=this.cx(),k=D.cx();return F<=k&&D.x<this.X?this.X-D.x:k<=F&&this.x<D.X?D.X-this.x:0},L.prototype.overlapY=function(D){var F=this.cy(),k=D.cy();return F<=k&&D.y<this.Y?this.Y-D.y:k<=F&&this.y<D.Y?D.Y-this.y:0},L.prototype.setXCentre=function(D){var F=D-this.cx();this.x+=F,this.X+=F},L.prototype.setYCentre=function(D){var F=D-this.cy();this.y+=F,this.Y+=F},L.prototype.width=function(){return this.X-this.x},L.prototype.height=function(){return this.Y-this.y},L.prototype.union=function(D){return new L(Math.min(this.x,D.x),Math.max(this.X,D.X),Math.min(this.y,D.y),Math.max(this.Y,D.Y))},L.prototype.lineIntersections=function(D,F,k,B){for(var U=[[this.x,this.y,this.X,this.y],[this.X,this.y,this.X,this.Y],[this.X,this.Y,this.x,this.Y],[this.x,this.Y,this.x,this.y]],K=[],H=0;H<4;++H){var R=L.lineIntersection(D,F,k,B,U[H][0],U[H][1],U[H][2],U[H][3]);null!==R&&K.push({x:R.x,y:R.y})}return K},L.prototype.rayIntersection=function(D,F){var k=this.lineIntersections(this.cx(),this.cy(),D,F);return k.length>0?k[0]:null},L.prototype.vertices=function(){return[{x:this.x,y:this.y},{x:this.X,y:this.y},{x:this.X,y:this.Y},{x:this.x,y:this.Y}]},L.lineIntersection=function(D,F,k,B,U,K,H,R){var X=k-D,J=H-U,rt=B-F,tt=R-K,st=tt*X-J*rt;if(0==st)return null;var ut=D-U,pt=F-K,Q=(J*pt-tt*ut)/st,at=(X*pt-rt*ut)/st;return Q>=0&&Q<=1&&at>=0&&at<=1?{x:D+Q*X,y:F+Q*rt}:null},L.prototype.inflate=function(D){return new L(this.x-D,this.X+D,this.y-D,this.Y+D)},L}();E.Rectangle=d,E.makeEdgeBetween=function p(L,D,F){var k=L.rayIntersection(D.cx(),D.cy())||{x:L.cx(),y:L.cy()},B=D.rayIntersection(L.cx(),L.cy())||{x:D.cx(),y:D.cy()},U=B.x-k.x,K=B.y-k.y,H=Math.sqrt(U*U+K*K),R=H-F;return{sourceIntersection:k,targetIntersection:B,arrowStart:{x:k.x+R*U/H,y:k.y+R*K/H}}},E.makeEdgeTo=function u(L,D,F){var k=D.rayIntersection(L.x,L.y);k||(k={x:D.cx(),y:D.cy()});var B=k.x-L.x,U=k.y-L.y,K=Math.sqrt(B*B+U*U);return{x:k.x-F*B/K,y:k.y-F*U/K}};var a=function L(D,F,k){this.v=D,this.r=F,this.pos=k,this.prev=l(),this.next=l()},c=function L(D,F,k){this.isOpen=D,this.v=F,this.pos=k};function f(L,D){return L.pos>D.pos?1:L.pos<D.pos||L.isOpen?-1:D.isOpen?1:0}function l(){return new m.RBTree(function(L,D){return L.pos-D.pos})}var g={getCentre:function(L){return L.cx()},getOpen:function(L){return L.y},getClose:function(L){return L.Y},getSize:function(L){return L.width()},makeRect:function(L,D,F,k){return new d(F-k/2,F+k/2,L,D)},findNeighbours:function S(L,D){var F=function(k,B){for(var K,U=D.findIter(L);null!==(K=U[k]());){var H=K.r.overlapX(L.r);if((H<=0||H<=K.r.overlapY(L.r))&&(L[k].insert(K),K[B].insert(L)),H<=0)break}};F("next","prev"),F("prev","next")}},b={getCentre:function(L){return L.cy()},getOpen:function(L){return L.x},getClose:function(L){return L.X},getSize:function(L){return L.height()},makeRect:function(L,D,F,k){return new d(L,D,F-k/2,F+k/2)},findNeighbours:function O(L,D){var F=function(k,B){var U=D.findIter(L)[k]();null!==U&&U.r.overlapX(L.r)>0&&(L[k].insert(U),U[B].insert(L))};F("next","prev"),F("prev","next")}};function w(L,D,F,k){void 0===k&&(k=!1);var B=L.padding,U=typeof L.groups<"u"?L.groups.length:0,K=typeof L.leaves<"u"?L.leaves.length:0,H=U?L.groups.reduce(function(ct,gt){return ct.concat(w(gt,D,F,!0))},[]):[],R=(k?2:0)+K+U,X=new Array(R),J=new Array(R),rt=0,tt=function(ct,gt){J[rt]=ct,X[rt++]=gt};if(k){var st=L.bounds,ut=D.getCentre(st),pt=D.getSize(st)/2,W=D.getOpen(st),Q=D.getClose(st),it=ut-pt+B/2,at=ut+pt-B/2;L.minVar.desiredPosition=it,tt(D.makeRect(W,Q,it,B),L.minVar),L.maxVar.desiredPosition=at,tt(D.makeRect(W,Q,at,B),L.maxVar)}K&&L.leaves.forEach(function(ct){return tt(ct.bounds,ct.variable)}),U&&L.groups.forEach(function(ct){var gt=ct.bounds;tt(D.makeRect(D.getOpen(gt),D.getClose(gt),D.getCentre(gt),D.getSize(gt)),ct.minVar)});var ft=A(J,X,D,F);return U&&(X.forEach(function(ct){ct.cOut=[],ct.cIn=[]}),ft.forEach(function(ct){ct.left.cOut.push(ct),ct.right.cIn.push(ct)}),L.groups.forEach(function(ct){var gt=(ct.padding-D.getSize(ct.bounds))/2;ct.minVar.cIn.forEach(function(yt){return yt.gap+=gt}),ct.minVar.cOut.forEach(function(yt){yt.left=ct.maxVar,yt.gap+=gt})})),H.concat(ft)}function A(L,D,F,k){var B,U=L.length,K=2*U;console.assert(D.length>=U);var H=new Array(K);for(B=0;B<U;++B){var R=L[B],X=new a(D[B],R,F.getCentre(R));H[B]=new c(!0,X,F.getOpen(R)),H[B+U]=new c(!1,X,F.getClose(R))}H.sort(f);var J=new Array,rt=l();for(B=0;B<K;++B){var tt=H[B];if(X=tt.v,tt.isOpen)rt.insert(X),F.findNeighbours(X,rt);else{rt.remove(X);var st=function(W,Q){var it=(F.getSize(W.r)+F.getSize(Q.r))/2+k;J.push(new y.Constraint(W.v,Q.v,it))},ut=function(W,Q,it){for(var at,ft=X[W].iterator();null!==(at=ft[W]());)it(at,X),at[Q].remove(X)};ut("prev","next",function(W,Q){return st(W,Q)}),ut("next","prev",function(W,Q){return st(Q,W)})}}return console.assert(0===rt.size),J}function N(L,D){return A(L,D,g,1e-6)}function M(L,D){return A(L,D,b,1e-6)}function G(L){return w(L,g,1e-6)}function Y(L){return w(L,b,1e-6)}E.generateXConstraints=N,E.generateYConstraints=M,E.generateXGroupConstraints=G,E.generateYGroupConstraints=Y,E.removeOverlaps=function V(L){var D=L.map(function(B){return new y.Variable(B.cx())}),F=N(L,D),k=new y.Solver(D,F);k.solve(),D.forEach(function(B,U){return L[U].setXCentre(B.position())}),D=L.map(function(B){return new y.Variable(B.cy())}),F=M(L,D),(k=new y.Solver(D,F)).solve(),D.forEach(function(B,U){return L[U].setYCentre(B.position())})};var s=function(L){function D(F,k){var B=L.call(this,0,k)||this;return B.index=F,B}return o(D,L),D}(y.Variable);E.IndexedVariable=s;var j=function(){function L(D,F,k,B,U){var K=this;if(void 0===k&&(k=null),void 0===B&&(B=null),void 0===U&&(U=!1),this.nodes=D,this.groups=F,this.rootGroup=k,this.avoidOverlaps=U,this.variables=D.map(function(R,X){return R.variable=new s(X,1)}),B&&this.createConstraints(B),U&&k&&typeof k.groups<"u"){D.forEach(function(R){if(R.width&&R.height){var X=R.width/2,J=R.height/2;R.bounds=new d(R.x-X,R.x+X,R.y-J,R.y+J)}else R.bounds=new d(R.x,R.x,R.y,R.y)}),v(k);var H=D.length;F.forEach(function(R){K.variables[H]=R.minVar=new s(H++,typeof R.stiffness<"u"?R.stiffness:.01),K.variables[H]=R.maxVar=new s(H++,typeof R.stiffness<"u"?R.stiffness:.01)})}}return L.prototype.createSeparation=function(D){return new y.Constraint(this.nodes[D.left].variable,this.nodes[D.right].variable,D.gap,typeof D.equality<"u"&&D.equality)},L.prototype.makeFeasible=function(D){var F=this;if(this.avoidOverlaps){var k="x",B="width";"x"===D.axis&&(k="y",B="height");var U=D.offsets.map(function(H){return F.nodes[H.node]}).sort(function(H,R){return H[k]-R[k]}),K=null;U.forEach(function(H){if(K){var R=K[k]+K[B];R>H[k]&&(H[k]=R)}K=H})}},L.prototype.createAlignment=function(D){var F=this,k=this.nodes[D.offsets[0].node].variable;this.makeFeasible(D);var B="x"===D.axis?this.xConstraints:this.yConstraints;D.offsets.slice(1).forEach(function(U){B.push(new y.Constraint(k,F.nodes[U.node].variable,U.offset,!0))})},L.prototype.createConstraints=function(D){var F=this,k=function(B){return typeof B.type>"u"||"separation"===B.type};this.xConstraints=D.filter(function(B){return"x"===B.axis&&k(B)}).map(function(B){return F.createSeparation(B)}),this.yConstraints=D.filter(function(B){return"y"===B.axis&&k(B)}).map(function(B){return F.createSeparation(B)}),D.filter(function(B){return"alignment"===B.type}).forEach(function(B){return F.createAlignment(B)})},L.prototype.setupVariablesAndBounds=function(D,F,k,B){this.nodes.forEach(function(U,K){U.fixed?(U.variable.weight=U.fixedWeight?U.fixedWeight:1e3,k[K]=B(U)):U.variable.weight=1;var H=(U.width||0)/2,R=(U.height||0)/2,X=D[K],J=F[K];U.bounds=new d(X-H,X+H,J-R,J+R)})},L.prototype.xProject=function(D,F,k){!this.rootGroup&&!this.avoidOverlaps&&!this.xConstraints||this.project(D,F,D,k,function(B){return B.px},this.xConstraints,G,function(B){return B.bounds.setXCentre(k[B.variable.index]=B.variable.position())},function(B){var U=k[B.minVar.index]=B.minVar.position(),K=k[B.maxVar.index]=B.maxVar.position(),H=B.padding/2;B.bounds.x=U-H,B.bounds.X=K+H})},L.prototype.yProject=function(D,F,k){!this.rootGroup&&!this.yConstraints||this.project(D,F,F,k,function(B){return B.py},this.yConstraints,Y,function(B){return B.bounds.setYCentre(k[B.variable.index]=B.variable.position())},function(B){var U=k[B.minVar.index]=B.minVar.position(),K=k[B.maxVar.index]=B.maxVar.position(),H=B.padding/2;B.bounds.y=U-H,B.bounds.Y=K+H})},L.prototype.projectFunctions=function(){var D=this;return[function(F,k,B){return D.xProject(F,k,B)},function(F,k,B){return D.yProject(F,k,B)}]},L.prototype.project=function(D,F,k,B,U,K,H,R,X){this.setupVariablesAndBounds(D,F,B,U),this.rootGroup&&this.avoidOverlaps&&(v(this.rootGroup),K=K.concat(H(this.rootGroup))),this.solve(this.variables,K,k,B),this.nodes.forEach(R),this.rootGroup&&this.avoidOverlaps&&(this.groups.forEach(X),v(this.rootGroup))},L.prototype.solve=function(D,F,k,B){var U=new y.Solver(D,F);U.setStartingPositions(k),U.setDesiredPositions(B),U.solve()},L}();E.Projection=j},3858:(_,E,r)=>{"use strict";Object.defineProperty(E,"__esModule",{value:!0});var o=r(8866),y=function p(u,a){this.id=u,this.distance=a},m=function p(u){this.id=u,this.neighbours=[]},v=function p(u,a,c){this.node=u,this.prev=a,this.d=c},d=function(){function p(u,a,c,f,l){this.n=u,this.es=a,this.neighbours=new Array(this.n);for(var g=this.n;g--;)this.neighbours[g]=new m(g);for(g=this.es.length;g--;){var b=this.es[g],w=c(b),A=f(b),S=l(b);this.neighbours[w].neighbours.push(new y(A,S)),this.neighbours[A].neighbours.push(new y(w,S))}}return p.prototype.DistanceMatrix=function(){for(var u=new Array(this.n),a=0;a<this.n;++a)u[a]=this.dijkstraNeighbours(a);return u},p.prototype.DistancesFromNode=function(u){return this.dijkstraNeighbours(u)},p.prototype.PathFromNodeToNode=function(u,a){return this.dijkstraNeighbours(u,a)},p.prototype.PathFromNodeToNodeWithPrevCost=function(u,a,c){var f=new o.PriorityQueue(function(Y,V){return Y.d<=V.d}),l=this.neighbours[u],g=new v(l,null,0),b={};for(f.push(g);!f.empty()&&(l=(g=f.pop()).node).id!==a;)for(var w=l.neighbours.length;w--;){var A=l.neighbours[w],S=this.neighbours[A.id];if(!g.prev||S.id!==g.prev.node.id){var O=S.id+","+l.id;if(!(O in b&&b[O]<=g.d)){var N=g.prev?c(g.prev.node.id,l.id,S.id):0,M=g.d+A.distance+N;b[O]=M,f.push(new v(S,g,M))}}}for(var G=[];g.prev;)G.push((g=g.prev).node.id);return G},p.prototype.dijkstraNeighbours=function(u,a){void 0===a&&(a=-1);for(var c=new o.PriorityQueue(function(N,M){return N.d<=M.d}),f=this.neighbours.length,l=new Array(f);f--;){var g=this.neighbours[f];g.d=f===u?0:Number.POSITIVE_INFINITY,g.q=c.push(g)}for(;!c.empty();){var b=c.pop();if(l[b.id]=b.d,b.id===a){for(var w=[],A=b;typeof A.prev<"u";)w.push(A.prev.id),A=A.prev;return w}for(f=b.neighbours.length;f--;){var S=b.neighbours[f],O=(A=this.neighbours[S.id],b.d+S.distance);b.d!==Number.MAX_VALUE&&A.d>O&&(A.d=O,A.prev=b,c.reduceKey(A.q,A,function(M,G){return M.q=G}))}}return l},p}();E.Calculator=d},8237:(_,E)=>{"use strict";Object.defineProperty(E,"__esModule",{value:!0});var r=function(){function u(a){this.scale=a,this.AB=0,this.AD=0,this.A2=0}return u.prototype.addVariable=function(a){var c=this.scale/a.scale,l=a.weight;this.AB+=l*c*(a.offset/a.scale),this.AD+=l*c*a.desiredPosition,this.A2+=l*c*c},u.prototype.getPosn=function(){return(this.AD-this.AB)/this.A2},u}();E.PositionStats=r;var o=function(){function u(a,c,f,l){void 0===l&&(l=!1),this.left=a,this.right=c,this.gap=f,this.equality=l,this.active=!1,this.unsatisfiable=!1,this.left=a,this.right=c,this.gap=f,this.equality=l}return u.prototype.slack=function(){return this.unsatisfiable?Number.MAX_VALUE:this.right.scale*this.right.position()-this.gap-this.left.scale*this.left.position()},u}();E.Constraint=o;var y=function(){function u(a,c,f){void 0===c&&(c=1),void 0===f&&(f=1),this.desiredPosition=a,this.weight=c,this.scale=f,this.offset=0}return u.prototype.dfdv=function(){return 2*this.weight*(this.position()-this.desiredPosition)},u.prototype.position=function(){return(this.block.ps.scale*this.block.posn+this.offset)/this.scale},u.prototype.visitNeighbours=function(a,c){var f=function(l,g){return l.active&&a!==g&&c(l,g)};this.cOut.forEach(function(l){return f(l,l.right)}),this.cIn.forEach(function(l){return f(l,l.left)})},u}();E.Variable=y;var m=function(){function u(a){this.vars=[],a.offset=0,this.ps=new r(a.scale),this.addVariable(a)}return u.prototype.addVariable=function(a){a.block=this,this.vars.push(a),this.ps.addVariable(a),this.posn=this.ps.getPosn()},u.prototype.updateWeightedPosition=function(){this.ps.AB=this.ps.AD=this.ps.A2=0;for(var a=0,c=this.vars.length;a<c;++a)this.ps.addVariable(this.vars[a]);this.posn=this.ps.getPosn()},u.prototype.compute_lm=function(a,c,f){var l=this,g=a.dfdv();return a.visitNeighbours(c,function(b,w){var A=l.compute_lm(w,a,f);w===b.right?(g+=A*b.left.scale,b.lm=A):(g+=A*b.right.scale,b.lm=-A),f(b)}),g/a.scale},u.prototype.populateSplitBlock=function(a,c){var f=this;a.visitNeighbours(c,function(l,g){g.offset=a.offset+(g===l.right?l.gap:-l.gap),f.addVariable(g),f.populateSplitBlock(g,a)})},u.prototype.traverse=function(a,c,f,l){var g=this;void 0===f&&(f=this.vars[0]),void 0===l&&(l=null),f.visitNeighbours(l,function(b,w){c.push(a(b)),g.traverse(a,c,w,f)})},u.prototype.findMinLM=function(){var a=null;return this.compute_lm(this.vars[0],null,function(c){!c.equality&&(null===a||c.lm<a.lm)&&(a=c)}),a},u.prototype.findMinLMBetween=function(a,c){this.compute_lm(a,null,function(){});var f=null;return this.findPath(a,null,c,function(l,g){!l.equality&&l.right===g&&(null===f||l.lm<f.lm)&&(f=l)}),f},u.prototype.findPath=function(a,c,f,l){var g=this,b=!1;return a.visitNeighbours(c,function(w,A){!b&&(A===f||g.findPath(A,a,f,l))&&(b=!0,l(w,A))}),b},u.prototype.isActiveDirectedPathBetween=function(a,c){if(a===c)return!0;for(var f=a.cOut.length;f--;){var l=a.cOut[f];if(l.active&&this.isActiveDirectedPathBetween(l.right,c))return!0}return!1},u.split=function(a){return a.active=!1,[u.createSplitBlock(a.left),u.createSplitBlock(a.right)]},u.createSplitBlock=function(a){var c=new u(a);return c.populateSplitBlock(a,null),c},u.prototype.splitBetween=function(a,c){var f=this.findMinLMBetween(a,c);if(null!==f){var l=u.split(f);return{constraint:f,lb:l[0],rb:l[1]}}return null},u.prototype.mergeAcross=function(a,c,f){c.active=!0;for(var l=0,g=a.vars.length;l<g;++l){var b=a.vars[l];b.offset+=f,this.addVariable(b)}this.posn=this.ps.getPosn()},u.prototype.cost=function(){for(var a=0,c=this.vars.length;c--;){var f=this.vars[c],l=f.position()-f.desiredPosition;a+=l*l*f.weight}return a},u}();E.Block=m;var v=function(){function u(a){this.vs=a;var c=a.length;for(this.list=new Array(c);c--;){var f=new m(a[c]);this.list[c]=f,f.blockInd=c}}return u.prototype.cost=function(){for(var a=0,c=this.list.length;c--;)a+=this.list[c].cost();return a},u.prototype.insert=function(a){a.blockInd=this.list.length,this.list.push(a)},u.prototype.remove=function(a){var c=this.list.length-1,f=this.list[c];this.list.length=c,a!==f&&(this.list[a.blockInd]=f,f.blockInd=a.blockInd)},u.prototype.merge=function(a){var c=a.left.block,f=a.right.block,l=a.right.offset-a.left.offset-a.gap;c.vars.length<f.vars.length?(f.mergeAcross(c,a,l),this.remove(c)):(c.mergeAcross(f,a,-l),this.remove(f))},u.prototype.forEach=function(a){this.list.forEach(a)},u.prototype.updateBlockPositions=function(){this.list.forEach(function(a){return a.updateWeightedPosition()})},u.prototype.split=function(a){var c=this;this.updateBlockPositions(),this.list.forEach(function(f){var l=f.findMinLM();null!==l&&l.lm<d.LAGRANGIAN_TOLERANCE&&(f=l.left.block,m.split(l).forEach(function(g){return c.insert(g)}),c.remove(f),a.push(l))})},u}();E.Blocks=v;var d=function(){function u(a,c){this.vs=a,this.cs=c,this.vs=a,a.forEach(function(f){f.cIn=[],f.cOut=[]}),this.cs=c,c.forEach(function(f){f.left.cOut.push(f),f.right.cIn.push(f)}),this.inactive=c.map(function(f){return f.active=!1,f}),this.bs=null}return u.prototype.cost=function(){return this.bs.cost()},u.prototype.setStartingPositions=function(a){this.inactive=this.cs.map(function(c){return c.active=!1,c}),this.bs=new v(this.vs),this.bs.forEach(function(c,f){return c.posn=a[f]})},u.prototype.setDesiredPositions=function(a){this.vs.forEach(function(c,f){return c.desiredPosition=a[f]})},u.prototype.mostViolated=function(){for(var a=Number.MAX_VALUE,c=null,f=this.inactive,l=f.length,g=l,b=0;b<l;++b){var w=f[b];if(!w.unsatisfiable){var A=w.slack();if((w.equality||A<a)&&(a=A,c=w,g=b,w.equality))break}}return g!==l&&(a<u.ZERO_UPPERBOUND&&!c.active||c.equality)&&(f[g]=f[l-1],f.length=l-1),c},u.prototype.satisfy=function(){null==this.bs&&(this.bs=new v(this.vs)),this.bs.split(this.inactive);for(var a=null;(a=this.mostViolated())&&(a.equality||a.slack()<u.ZERO_UPPERBOUND&&!a.active);){var c=a.left.block;if(c!==a.right.block)this.bs.merge(a);else{if(c.isActiveDirectedPathBetween(a.right,a.left)){a.unsatisfiable=!0;continue}var l=c.splitBetween(a.left,a.right);if(null===l){a.unsatisfiable=!0;continue}this.bs.insert(l.lb),this.bs.insert(l.rb),this.bs.remove(c),this.inactive.push(l.constraint),a.slack()>=0?this.inactive.push(a):this.bs.merge(a)}}},u.prototype.solve=function(){this.satisfy();for(var a=Number.MAX_VALUE,c=this.bs.cost();Math.abs(a-c)>1e-4;)this.satisfy(),a=c,c=this.bs.cost();return c},u.LAGRANGIAN_TOLERANCE=-1e-4,u.ZERO_UPPERBOUND=-1e-10,u}();E.Solver=d,E.removeOverlapInOneDimension=function p(u,a,c){for(var f=u.map(function(s){return new y(s.desiredCenter)}),l=[],g=u.length,b=0;b<g-1;b++)l.push(new o(f[b],f[b+1],(u[b].size+u[b+1].size)/2));var S=f[0],O=f[g-1],N=u[0].size/2,M=u[g-1].size/2,G=null,Y=null;return a&&(G=new y(a,1e3*S.weight),f.push(G),l.push(new o(G,S,N))),c&&(Y=new y(c,1e3*O.weight),f.push(Y),l.push(new o(O,Y,M))),new d(f,l).solve(),{newCenters:f.slice(0,u.length).map(function(s){return s.position()}),lowerBound:G?G.position():S.position()-N,upperBound:Y?Y.position():O.position()+M}}}}]);